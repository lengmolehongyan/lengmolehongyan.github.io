<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[å†·æ¼ å»è­é¢œ]]></title>
  <link href="https://lengmolehongyan.github.io/atom.xml" rel="self"/>
  <link href="https://lengmolehongyan.github.io/"/>
  <updated>2019-08-21T17:15:29+08:00</updated>
  <id>https://lengmolehongyan.github.io/</id>
  <author>
    <name><![CDATA[å†·æ¼ å»è­é¢œ]]></name>
    <email><![CDATA[lengmohongyan@hotmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Xcode 10 React-native Run-ios Could Not Find Simulator]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2019/08/21/xcode-10-react-native-run-ios-could-not-find-simulator/"/>
    <updated>2019-08-21T17:03:05+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2019/08/21/xcode-10-react-native-run-ios-could-not-find-simulator</id>
    <content type="html"><![CDATA[<h3>é—®é¢˜</h3>

<p>å‡çº§ Xcode 10 åï¼Œç»ˆç«¯ç¼–è¯‘è¿è¡Œ 0.55.4 ç‰ˆæœ¬çš„ React Native é¡¹ç›®</p>

<p><code>react-native run-ios --simulator "iPhone 8"</code></p>

<p>ç„¶åä¼šæŠ¥é”™ï¼Œæ‰¾ä¸åˆ°æ¨¡æ‹Ÿå™¨</p>

<p><code>Could not find xxx simulator</code></p>

<h3>è§£å†³åŠæ³•</h3>

<ol>
<li>è¿›å…¥ <code>/node_modules/react-native/local-cli/runIOS/</code> ç›®å½•ï¼›</li>
<li>æ‰“å¼€ <code>findMatchingSimulator.js</code> æ–‡ä»¶ï¼›</li>
<li>ä¿®æ”¹ check æ¨¡æ‹Ÿå™¨ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š</li>
</ol>


<p>åŸä»£ç </p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='JavaScript'><span class='line'><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">version</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">&#39;iOS&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">version</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">&#39;tvOS&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">continue</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>æ›¿æ¢ä¸º</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='JavaScript'><span class='line'><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">version</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">&#39;com.apple.CoreSimulator.SimRuntime.iOS&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">!</span><span class="nx">version</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">&#39;com.apple.CoreSimulator.SimRuntime.tvOS&#39;</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">continue</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>




<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2019/08/21/xcode-10-react-native-run-ios-could-not-find-simulator/'>https://lengmolehongyan.github.io/blog/2019/08/21/xcode-10-react-native-run-ios-could-not-find-simulator/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[React Components]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2018/03/22/react-components/"/>
    <updated>2018-03-22T11:19:28+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2018/03/22/react-components</id>
    <content type="html"><![CDATA[<h2>Component API</h2>

<h3><code>this.props</code></h3>

<p><code>Components</code> ç»„ä»¶å¯ä»¥é€šè¿‡å°†å±æ€§ä¼ é€’ç»™æ„é€ å‡½æ•° <code>constructor</code> æ¥å®ä¾‹åŒ–é…ç½®ï¼Œè¿™äº›å±æ€§ç§°ä¸º <code>props</code>ã€‚<code>props</code> å¯é€šè¿‡ç»„ä»¶å†…å‡½æ•° <code>this.props</code> æ¥è®¿é—®ï¼Œä»¥æ”¹å˜ç»„ä»¶çš„æ¸²æŸ“æ–¹å¼æˆ–è€…è¡Œä¸ºã€‚ä½†æ˜¯ï¼Œ<code>props</code> ä¸èƒ½è¢«ç»„ä»¶å†…å‡½æ•°æ”¹å˜ã€‚</p>

<p>çˆ¶å…ƒç´ å¯ä»¥éšæ—¶ä¿®æ”¹å­å…ƒç´  <code>props</code>ã€‚å­å…ƒç´ é€šå¸¸ä¾æ–°é…ç½®å‚æ•°æ¥é‡æ–°æ¸²æŸ“è‡ªèº«ã€‚å­ç»„ä»¶å¯ä»¥å†³å®šå³ä½¿é…ç½®å‘ç”Ÿæ”¹å˜ä¹Ÿä¸é‡æ–°æ¸²æŸ“è‡ªèº«ï¼Œå¦‚ç”± <code>shouldComponentUpdate</code>ã€‚</p>

<h3><code>this.state</code></h3>

<p><code>Components</code> é€šè¿‡ <code>state</code> å¯¹è±¡ä¿æŒå®ƒä»¬çš„çŠ¶æ€ã€‚åœ¨ç»„ä»¶å†…éƒ¨é€šè¿‡ <code>this.state</code> æ¥è®¿é—®ã€‚ä¸åƒ <code>props</code>ï¼Œçˆ¶å…ƒç´ ä¸èƒ½è®¿é—®å­å…ƒç´ çš„ <code>state</code>ï¼Œå› ä¸ºå®ƒæ—¨åœ¨ç®¡ç†å­å…ƒç´ çš„å†…éƒ¨çŠ¶æ€è€Œä¸æ˜¯å¤–éƒ¨é…ç½®ã€‚</p>

<p>æ³¨æ„ï¼šä¸èƒ½ç›´æ¥ç»™ <code>state</code> å¯¹è±¡èµ‹å€¼ï¼Œä¾‹å¦‚ <code>this.state.foo = 'bar'</code>ï¼Œè€Œåº”è¯¥ä½¿ç”¨ <code>this.setState()</code> å‡½æ•°ã€‚</p>

<h3><code>this.setState(object newState)</code></h3>

<p><code>Components</code> å¯é€šè¿‡ä¼ é€’å¯¹è±¡ç»™ <code>this.setState()</code> å‡½æ•°æ¥æ›´æ–°è‡ªèº«çš„ <code>state</code>ã€‚ä¼ é€’ç»™è¯¥å‡½æ•°çš„å¯¹è±¡ä¸­çš„ä»»ä½• key éƒ½å°†è¢« <code>this.state</code> åˆå¹¶ï¼ˆå¹¶è¦†ç›–ä»»ä½•ç°æœ‰çš„ keyï¼‰ã€‚</p>

<h2>LifeCycle API</h2>

<p>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸï¼šåˆå§‹åŒ–ï¼ŒåŠ è½½ï¼Œæ¸²æŸ“ï¼Œæ›´æ–°ï¼Œå¸è½½ï¼Œé”€æ¯</p>

<h3>Mounting Cycle</h3>

<ul>
<li><code>constructor(object props)</code></li>
</ul>


<p>ç»„ä»¶ç±»è¢«åˆå§‹åŒ–ã€‚æ„é€ å‡½æ•°çš„å‚æ•°æ˜¯å…ƒç´ çš„åˆå§‹ <code>props</code>ï¼Œç”±å…¶çˆ¶å…ƒç´ æŒ‡å®šã€‚å¯é€šè¿‡ç»™ <code>this.state</code> èµ‹å€¼ä¸€ä¸ªå¯¹è±¡æ¥æŒ‡å®šå…ƒç´ åˆå§‹çŠ¶æ€ã€‚æ­¤æ—¶ï¼Œå…ƒç´ çš„åŸç”Ÿ UI è¿˜æ²¡æœ‰è¢«æ¸²æŸ“ã€‚</p>

<ul>
<li><code>componentWillMount()</code></li>
</ul>


<p>æ­¤å‡½æ•°åªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œå‘ç”Ÿåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¹‹å‰ã€‚æ­¤æ—¶å…ƒç´ çš„åŸç”Ÿ UI åŒæ ·æ²¡è¢«æ¸²æŸ“ã€‚</p>

<ul>
<li><code>render() -&gt; React Element</code></li>
</ul>


<p>æ­¤å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ª React Element ç”¨æ¥æ¸²æŸ“ï¼ˆæˆ–è€… nullï¼Œä¸æ¸²æŸ“ï¼‰ã€‚</p>

<ul>
<li><code>componentDidMount()</code></li>
</ul>


<p>æ­¤å‡½æ•°åªä¼šè°ƒç”¨ä¸€æ¬¡ï¼Œå‘ç”Ÿåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“ä¹‹åã€‚æ­¤æ—¶å…ƒç´ çš„åŸç”Ÿ UI å·²ç»æ¸²æŸ“å®Œæ¯•ï¼Œå¯é€šè¿‡ <code>this.refs</code> ç›´æ¥æ“ä½œã€‚å¦‚æœéœ€è¦å¼‚æ­¥ API è°ƒç”¨æˆ–è€…ç”¨ <code>setTimeout</code> æ‰§è¡Œå»¶è¿Ÿä»£ç ï¼Œé€šå¸¸åº”è¯¥åœ¨æ­¤å‡½æ•°ä¸­ã€‚</p>

<h3>Updating Cycle</h3>

<ul>
<li><code>componentWillReceiveProps(object nextProps)</code></li>
</ul>


<p>çˆ¶ç»„ä»¶å·²ç»ä¼ å€¼ <code>props</code>ã€‚ç»„ä»¶å°†é‡æ–°æ¸²æŸ“ã€‚å¯åœ¨ <code>render</code> å‡½æ•°è°ƒç”¨å‰è°ƒç”¨ <code>this.setState()</code> æ¥æ›´æ–°ç»„ä»¶å†…éƒ¨çŠ¶æ€ã€‚</p>

<ul>
<li><code>shouldComponentUpdate(object nextProps, object nextState) -&gt; boolean</code></li>
</ul>


<p>åŸºäºä¸‹ä¸€ç»„ <code>props</code> å’Œ <code>state</code> å€¼ç»„ä»¶å†³å®šæ˜¯å¦é‡æ–°æ¸²æŸ“ã€‚åŸºç±»è¯¥å‡½æ•°çš„å®ç°æ€»æ˜¯è¿”å› <code>true</code>ï¼ˆç»„ä»¶åº”è¯¥é‡æ–°æ¸²æŸ“ï¼‰ã€‚ä¸ºäº†ä¼˜åŒ–ï¼Œé‡å†™æ­¤å‡½æ•°å¹¶æ£€æŸ¥ <code>props</code> æˆ–è€… <code>state</code> æ˜¯å¦è¢«ä¿®æ”¹ï¼Œæ¯”å¦‚è¿è¡Œè¿™äº›å¯¹è±¡ä¸­æ¯ä¸ªé”®å€¼ç›¸ç­‰æ€§æµ‹è¯•ã€‚è¿”å› <code>false</code> å°†é˜»æ­¢ <code>render</code> å‡½æ•°è¢«è°ƒç”¨ã€‚</p>

<ul>
<li><code>componentWillUpdate(object nextProps, object nextState)</code></li>
</ul>


<p>æ­¤å‡½æ•°è°ƒç”¨æ—¶æœºå‘ç”Ÿåœ¨å†³å®šé‡æ–°æ¸²æŸ“ä¹‹åã€‚ä¸èƒ½åœ¨è¿™é‡Œè°ƒç”¨ <code>this.setState()</code>ï¼Œå› ä¸ºå·²ç»åœ¨æ›´æ–°ä¸­ã€‚</p>

<ul>
<li><code>render() -&gt; React Element</code></li>
</ul>


<p><code>shouldComponentUpdate</code> è¿”å› <code>true</code> æ­¤å‡½æ•°æ‰ä¼šè°ƒç”¨ã€‚æ­¤å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ª React Element ç”¨æ¥æ¸²æŸ“ï¼ˆæˆ–è€… nullï¼Œä¸æ¸²æŸ“ï¼‰ã€‚</p>

<ul>
<li><code>componentDidUpdate(object prevProps, object prevState)</code></li>
</ul>


<p>æ­¤å‡½æ•°è°ƒç”¨æ—¶æœºä¸ºé‡æ–°æ¸²æŸ“åã€‚æ­¤æ—¶ï¼Œç»„ä»¶çš„åŸç”Ÿ UI å·²ç»æ›´æ–°ä¸º <code>render()</code> å‡½æ•°è¿”å›çš„ React Elementã€‚</p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2018/03/22/react-components/'>https://lengmolehongyan.github.io/blog/2018/03/22/react-components/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[React-native-route-flux ä½¿ç”¨æ–‡æ¡£]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2018/03/21/react-native-route-flux-use-tutorial/"/>
    <updated>2018-03-21T11:11:40+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2018/03/21/react-native-route-flux-use-tutorial</id>
    <content type="html"><![CDATA[<h2>è¿·ä½ æ•™ç¨‹</h2>

<p><img src="https://github.com/aksonov/react-native-router-flux/blob/v3/docs/super_simple.gif?raw=true" alt="" /></p>

<p>åœ¨è¿™ä¸ªç®€å•ä¾‹å­ä¸­ï¼Œåªéœ€è¦ä¸‰ä¸ªæ–‡ä»¶ï¼š</p>

<ol>
<li>æ ¹ index æ–‡ä»¶ï¼š<code>index.js</code></li>
<li>è‡ªåŠ¨åŠ è½½çš„ç¬¬ä¸€ä¸ªé¡µé¢ï¼š<code>PageOne.js</code></li>
<li>éœ€è¦è·³è½¬åˆ°çš„ç¬¬äºŒä¸ªé¡µé¢ï¼š<code>PageTwo.js</code></li>
</ol>


<h3>index.js</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class='line'><span class="kr">import</span> <span class="p">{</span> <span class="nx">Router</span><span class="p">,</span> <span class="nx">Scene</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native-router-flux&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kr">import</span> <span class="nx">PageOne</span> <span class="nx">from</span> <span class="s1">&#39;./PageOne&#39;</span><span class="p">;</span>
</span><span class='line'><span class="kr">import</span> <span class="nx">PageTwo</span> <span class="nx">from</span> <span class="s1">&#39;./PageTwo&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">App</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">(</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">Router</span><span class="o">&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="nx">Scene</span> <span class="nx">key</span><span class="o">=</span><span class="s2">&quot;root&quot;</span><span class="o">&gt;</span>
</span><span class='line'>          <span class="o">&lt;</span><span class="nx">Scene</span> <span class="nx">key</span><span class="o">=</span><span class="s2">&quot;pageOne&quot;</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">PageOne</span><span class="p">}</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;PageOne&quot;</span> <span class="nx">initial</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="o">/&gt;</span>
</span><span class='line'>          <span class="o">&lt;</span><span class="nx">Scene</span> <span class="nx">key</span><span class="o">=</span><span class="s2">&quot;pageTwo&quot;</span> <span class="nx">component</span><span class="o">=</span><span class="p">{</span><span class="nx">PageTwo</span><span class="p">}</span> <span class="nx">title</span><span class="o">=</span><span class="s2">&quot;PageTwo&quot;</span> <span class="o">/&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="err">/Scene&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="err">/Router&gt;</span>
</span><span class='line'>    <span class="p">)</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>åœ¨ <code>react-native-router-flux</code> ä¸­ï¼Œè·¯ç”±ï¼ˆæˆ–è€…é¡µé¢ï¼‰è¢«ç§°ä¸º <code>&lt;Scene&gt;</code>ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ çš„ Scenes åº”è¯¥è¢«å°è£…åœ¨æ ¹  Scene ä¸­ï¼Œç„¶åæ‰èƒ½åŒ…è£…åœ¨Â <code>render()</code>Â å‡½æ•°è¿”å›çš„ <code>&lt;Router&gt;</code> ç»„ä»¶ä¸­ã€‚</p>

<p>ä»»ä½•ä¸€ä¸ªÂ <code>&lt;Scene&gt;</code>Â ç»„ä»¶è‡³å°‘éœ€è¦ä»¥ä¸‹å‡ ä¸ªå±æ€§ï¼š</p>

<ul>
<li><strong>key</strong>ï¼šä¸€ä¸ªç”¨äºå¼•ç”¨ç‰¹å®šåœºæ™¯çš„å”¯ä¸€å­—ç¬¦ä¸²ã€‚</li>
<li><strong>component</strong>ï¼šä¸ºè¯¥ <code>Scene</code> æˆ–é¡µé¢è¦æ¸²æŸ“çš„ç»„ä»¶ã€‚</li>
<li><strong>title</strong>ï¼šæ˜¾ç¤ºåœ¨å±å¹•é¡¶éƒ¨å¯¼èˆªæ ä¸­çš„å­—ç¬¦ä¸²ã€‚</li>
</ul>


<p>éœ€æ³¨æ„ï¼ŒåŠ è½½çš„ç¬¬ä¸€ä¸ªåœºæ™¯æœ‰ <code>initial={true}</code>Â è¿™ä¸ªå±æ€§ï¼Œä»¥è¡¨ç¤ºå®ƒä¸ºåˆå§‹æ¸²æŸ“çš„åœºæ™¯ã€‚</p>

<h2>é¡µé¢è·³è½¬</h2>

<h3>PageOne.js</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class='line'><span class="kr">import</span> <span class="p">{</span> <span class="nx">View</span><span class="p">,</span> <span class="nx">Text</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class='line'><span class="kr">import</span> <span class="p">{</span> <span class="nx">Actions</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native-router-flux&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="kr">export</span> <span class="k">default</span> <span class="kr">class</span> <span class="nx">PageOne</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class='line'>  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">(</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">onPress</span><span class="o">=</span><span class="p">{</span><span class="nx">Actions</span><span class="p">.</span><span class="nx">pageTwo</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">is</span> <span class="nx">PageOne</span><span class="o">!&lt;</span><span class="err">/Text&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="err">/View&gt;</span>
</span><span class='line'>    <span class="p">)</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>ä»ä¸€ä¸ªé¡µé¢è·³è½¬åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œå¿…é¡»è°ƒç”¨ <code>Action</code>ã€‚æ ¼å¼ä¸ºï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">Actions</span><span class="p">.</span><span class="nx">SCENE_KEY</span><span class="p">(</span><span class="nx">PARAMS</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>SCENE_KEY</code>Â å¿…é¡»ä¸è·¯ç”±ç»„ä»¶æ ¹æ–‡ä»¶å…¶ä¸­ä¸€ä¸ªåœºæ™¯å®šä¹‰çš„ <code>key</code>Â å€¼åŒ¹é…ã€‚<code>PARAMS</code> æŒ‡çš„æ˜¯ä¸€ä¸ª javascript å¯¹è±¡ï¼Œå®ƒå°†ä½œä¸ºå±æ€§ä¼ é€’åˆ°ä¸‹ä¸ªåœºæ™¯ä¸­ï¼ˆåé¢ä¼šè¯¦ç»†ä»‹ç»ï¼‰ã€‚</p>

<p>ç”±äº PageTwo ç»„ä»¶ key çš„å€¼ä¸ºÂ <code>pageTwo</code>ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯å°† <code>Actions.pageTwo</code>Â  å‡½æ•°æ”¾åœ¨Â <code>&lt;Text&gt;</code>Â ç»„ä»¶ç‚¹å‡»äº‹ä»¶ä¸­ï¼Œè¿™æ ·åœ¨ç‚¹å‡»æ–‡æœ¬æ—¶ä¾¿ä¼šæ‰§è¡Œé¡µé¢è·³è½¬ã€‚</p>

<h2>ä¼ å€¼</h2>

<p>ç°åœ¨å°è¯•æ‰©å±•ç¤ºä¾‹ï¼Œä»¥ä¾¿å¯ä»¥å°†æ•°æ®ä»Â <code>PageOne</code> ä¼ é€’åˆ°Â <code>PageTwo</code>ã€‚</p>

<p>åœ¨Â <code>PageOne.js</code> æºä»£ç ä¸­ï¼Œç”¨ Â <code>Actions.pageTwo({text: 'Hello World!'})</code> æ›¿æ¢ Â <code>Actions.pageTwo</code>ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦åœ¨å‡½æ•°å†…éƒ¨å°è£… Action è°ƒç”¨ï¼Œä»¥é˜²æ­¢å®ƒåœ¨æ¸²æŸ“è¿™ä¸ªç»„ä»¶æ—¶å°±æ‰§è¡Œã€‚å› æ­¤ï¼Œ<code>PageOne.js</code> ä¸­çš„æ¸²æŸ“å‡½æ•°åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="kr">const</span> <span class="nx">goToPageTwo</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">Actions</span><span class="p">.</span><span class="nx">pageTwo</span><span class="p">({</span><span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;Hello World!&#39;</span><span class="p">});</span>
</span><span class='line'>  <span class="k">return</span> <span class="p">(</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">onPress</span><span class="o">=</span><span class="p">{</span><span class="nx">goToPageTwo</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">is</span> <span class="nx">PageOne</span><span class="o">!&lt;</span><span class="err">/Text&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="err">/View&gt;</span>
</span><span class='line'>  <span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>åœ¨ <code>PageTwo.js</code> ä¸­ï¼Œå¯ä»¥åœ¨ç°æœ‰ <code>&lt;Text&gt;</code> ç»„ä»¶ä¸‹å†æ·»åŠ ä¸€ä¸ª <code>&lt;Text&gt;</code> æ¥ä½¿ç”¨ä¼ å…¥çš„æ•°æ®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">return</span> <span class="p">(</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">is</span> <span class="nx">PageTwo</span><span class="o">!&lt;</span><span class="err">/Text&gt;</span>
</span><span class='line'>      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">text</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="err">/View&gt;</span>
</span><span class='line'>  <span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>ç°åœ¨ï¼Œè·³è½¬åˆ° PageTwo é¡µé¢ï¼Œå°±åº”è¯¥çœ‹åˆ°ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">This</span> <span class="nx">is</span> <span class="nx">PageTwo</span><span class="o">!</span>
</span><span class='line'><span class="nx">Hello</span> <span class="nx">World</span><span class="o">!</span>
</span></code></pre></td></tr></table></div></figure>


<h2>å‘å‰ï¼ˆæˆ–å‘åï¼Ÿï¼‰</h2>

<p>ä»‹ç»äº†å¤§éƒ¨åˆ†çš„åŸºç¡€çŸ¥è¯†ï¼Œç°åœ¨è¿·ä½ æ•™ç¨‹å·²ç»“æŸï¼Œä½†å®šåˆ¶ <code>react-native-router-flux</code> è¿˜å¯ä»¥åšå¾ˆå¤šï¼Œè¿™åªæ˜¯å¼€å§‹ã€‚</p>

<p>ä¾‹å¦‚ï¼Œå¯èƒ½æƒ³è¦ä»¥ä»£ç æ–¹å¼è¿”å›åˆ°ä¸Šä¸€ä¸ªé¡µé¢ã€‚è™½ç„¶å¯ä»¥é€šè¿‡ç‚¹å‡»å¯¼èˆªæ å·¦ä¸Šè§’çš„ç®­å¤´å›¾æ ‡æ¥æ‰§è¡Œæ­¤æ“ä½œï¼Œä½†ä¹Ÿå¯ä»¥åœ¨åº”ç”¨ä¸­çš„ä»»ä½•ä½ç½®è°ƒç”¨æ­¤å‡½æ•°ä»¥è·å¾—ç›¸åŒçš„æ•ˆæœï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">Actions</span><span class="p">.</span><span class="nx">pop</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>ç”šè‡³å¯ä»¥ä½¿ç”¨æ–°çš„å‚æ•°åˆ·æ–°åŒä¸€é¡µé¢ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">Actions</span><span class="p">.</span><span class="nx">refresh</span><span class="p">(</span><span class="nx">PARAMS</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>




<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2018/03/21/react-native-route-flux-use-tutorial/'>https://lengmolehongyan.github.io/blog/2018/03/21/react-native-route-flux-use-tutorial/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS å¼€å‘å¸¸ç”¨ç›®å½•å¤‡å¿˜]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2018/01/08/ios-develop-commonly-used-directory/"/>
    <updated>2018-01-08T12:00:48+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2018/01/08/ios-develop-commonly-used-directory</id>
    <content type="html"><![CDATA[<h3>DerivedData</h3>

<p><code>/Users/xxxx/Library/Developer/Xcode/DerivedData</code></p>

<p>ç¼–è¯‘é¡¹ç›®æ‰€äº§ç”Ÿçš„ç¼“å­˜ç›®å½•</p>

<h3>DeviceSupport</h3>

<p><code>/Users/xxxx/Library/Developer/Xcode/iOS DeviceSupport</code></p>

<p>å½“å‰è¿è¡Œçš„ Xcode ç‰ˆæœ¬æ‰€æ”¯æŒçœŸæœºè°ƒè¯•çš„ç³»ç»Ÿç‰ˆæœ¬ï¼ˆä¾‹ï¼šå½“ Xcode æœªå‡çº§æƒ³è°ƒè¯•ç³»ç»Ÿç‰ˆæœ¬é«˜çš„ï¼‰</p>

<h3>Archives</h3>

<p><code>/Users/xxxx/Library/Developer/Xcode/Archives</code></p>

<p>Xcode Archive æ‰“åŒ…æ‰€åœ¨ç›®å½•</p>

<h3>CocoaPods</h3>

<p><code>/Users/xxxx/.cocoapods/repos/master</code></p>

<p>CocoaPods git ä¸»ä»“åº“æ‰€åœ¨ç›®å½•</p>

<h3>æ¨¡æ‹Ÿå™¨</h3>

<p><code>/Library/Developer/CoreSimulator/Profiles/Runtimes</code></p>

<p>Xcode æ—§ç‰ˆæœ¬æ¨¡æ‹Ÿå™¨æ‰€åœ¨ç›®å½•</p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2018/01/08/ios-develop-commonly-used-directory/'>https://lengmolehongyan.github.io/blog/2018/01/08/ios-develop-commonly-used-directory/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Git Notebook]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2016/07/28/git-notebook/"/>
    <updated>2016-07-28T21:35:27+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2016/07/28/git-notebook</id>
    <content type="html"><![CDATA[<h2>æ›´æ–° <code>.gitignore</code> æ–‡ä»¶</h2>

<ol>
<li><a href="https://github.com/github/gitignore">github å®˜æ–¹ç»™å‡ºçš„å„è¯­è¨€ .gitignore ç¤ºä¾‹æ–‡ä»¶</a></li>
<li>å½“åœ¨ git ä»“åº“ä¸­æ›´æ–°äº† .gitignore æ–‡ä»¶ï¼Œéœ€è¦æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œæ‰èƒ½æ¸…é™¤é‚£äº›è¢«å¿½ç•¥çš„æ–‡ä»¶</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git rm -r --cached .
</span><span class='line'>git add .
</span><span class='line'>git commit -m "update .gitignore"</span></code></pre></td></tr></table></div></figure>


<h2>ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤</h2>

<ol>
<li>æœ‰æ—¶å€™æäº¤å®Œå‘ç°æ¼æ‰äº†å‡ ä¸ªæ–‡ä»¶æ²¡æœ‰åŠ ï¼Œæˆ–è€…æäº¤ä¿¡æ¯å†™é”™äº†ï¼Œæƒ³è¦æ’¤é”€åˆšæ‰çš„æäº¤æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ <code>git commit --amend</code> é€‰é¡¹é‡æ–°æäº¤</li>
<li>å¦‚æœä¸Šä¸€æ¬¡çš„æäº¤å·²ç» <code>push</code> åˆ°è¿œç¨‹ä»“åº“ï¼Œæ¨åˆ°è¿œç¨‹éœ€è¦åŠ  <code>-f</code> å‚æ•°æ¥è¦†ç›–è¿œç¨‹ä»“åº“ï¼Œä¸è¿‡ä¸€èˆ¬ä¸å»ºè®®è¿™ä¹ˆåš</li>
</ol>


<h2>æ˜¾ç¤ºæäº¤è®°å½•çš„å‚ä¸è€…åˆ—è¡¨</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git shortlog -sn</span></code></pre></td></tr></table></div></figure>


<p>æ˜¾ç¤ºæäº¤è®°å½•çš„å‚ä¸è€…åˆ—è¡¨ï¼Œå’Œ github çš„å‚ä¸è€…åˆ—è¡¨ç›¸åŒ</p>

<h2>æ ‡ç­¾ tag æ“ä½œ</h2>

<ol>
<li><code>git tag</code> æ˜¾ç¤ºæœ¬åœ° tag åˆ—è¡¨</li>
<li><code>git tag -d [tagname]</code> åˆ é™¤æœ¬åœ°åä¸º [tagname] çš„ tag</li>
<li><code>git push origin :refs/tags/[tagname]</code> åˆ é™¤è¿œç¨‹åä¸º [tagname] çš„ tag</li>
<li><code>git tag -a [tagname] -m "xxx"</code>ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªå«é™„æ³¨ç±»å‹çš„æ ‡ç­¾ï¼Œç”¨ -a æŒ‡å®šæ ‡ç­¾åå­—ï¼Œ-m é€‰é¡¹åˆ™æŒ‡å®šäº†å¯¹äºçš„æ ‡ç­¾è¯´æ˜</li>
<li><code>git show [tagname]</code>ï¼Œæ­¤å‘½ä»¤ç”¨äºæŸ¥çœ‹ç›¸åº”æ ‡ç­¾çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¹¶è¿åŒæ˜¾ç¤ºæ‰“æ ‡ç­¾çš„æäº¤å¯¹è±¡</li>
<li><code>git push origin [tagname]</code>ï¼Œé€šè¿‡æ˜¾å¼å‘½ä»¤å°†æ ‡ç­¾æ¨åˆ°è¿œç«¯ä»“åº“ï¼Œä¸€æ¬¡æ¨é€æ‰€æœ‰ï¼ˆæœ¬åœ°æ–°å¢çš„ï¼‰æ ‡ç­¾åˆ°è¿œç«¯ä»“åº“ï¼Œä½¿ç”¨ <code>git push origin --tags</code></li>
</ol>


<h2>æŸ¥çœ‹è¿œç¨‹ä»“åº“è¯¦ç»†ä¿¡æ¯</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git remote show origin</span></code></pre></td></tr></table></div></figure>


<h2>git stash åˆ é™¤æ¢å¤</h2>

<p>é¦–å…ˆåœ¨ç»ˆç«¯è¾“å…¥ğŸ‘‡å‘½ä»¤æŸ¥æ‰¾æ‰€æœ‰ unreachable çš„è®°å½•</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git fsck --unreachable</span></code></pre></td></tr></table></div></figure>


<p>è¿™æ—¶å€™ä¼šåœ¨ç»ˆç«¯çœ‹åˆ°ç±»ä¼¼ğŸ‘‡çš„è¾“å‡º</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Checking object directories: 100% (256/256), done.
</span><span class='line'>Checking objects: 100% (40741/40741), done.
</span><span class='line'>unreachable commit 6c00def1f6db3a9453362fefd9e5d5e1edd94b8a
</span><span class='line'>unreachable blob a10014bb776e27387f304cb4fb0cd1fbf26010a5
</span><span class='line'>unreachable blob fa00b66289157355fd27765f5220db41e6fef2f8
</span><span class='line'>unreachable commit 790134c192c7d114086cd9fe5bd8c0c395af6767
</span><span class='line'>unreachable blob 03036483ed3d232a0e347b541a7759304bd3e73b
</span><span class='line'>unreachable blob 5503ea6ffa56f475ee2cb5857830d2464f4c255b
</span><span class='line'>unreachable blob 59039c5f01ca5580bff4a9c4ed2601004e5fac83
</span><span class='line'>unreachable blob 9f03bcf7d4b33b57be6842aea99ab9878dc91c46
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>


<p>å¯ä»¥ä½¿ç”¨ <code>git show xxx</code> å‘½ä»¤æŸ¥çœ‹å…·ä½“æŸæ¡è®°å½•å¯¹åº”çš„æ”¹åŠ¨ï¼Œæ‰¾åˆ°éœ€è¦çš„è®°å½•ä¹‹åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>git merge xxx</code> å‘½ä»¤ï¼Œæœ¬åœ°ä»“åº“å°±æ¢å¤äº†è¯¥æ¡è®°å½•å¯¹åº”çš„å†…å®¹ã€‚(å…¶ä¸­ xxx ä»£è¡¨ä¸Šé¢åˆ—å‡ºçš„è®°å½•ä¸­åé¢è·Ÿçš„ Commit Hash å€¼)</p>

<p>æœ‰å¯èƒ½ä¼šå‡ºç°å¾ˆå¤š unreachable çš„è®°å½•ï¼Œè¿™æ—¶ä¸€ä¸ªä¸€ä¸ªæ‹¿ <code>git show</code> å‘½åå»æ‰¾æ˜¯å¦æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œä¼šå¤ªæµªè´¹æ—¶é—´ï¼Œè¿™æ—¶å¯ä»¥åˆ©ç”¨ğŸ‘‡å‘½ä»¤ï¼Œè¾“å‡ºæ‰€æœ‰ unreachable å¯¹åº”çš„æäº¤æ”¹åŠ¨</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">git</span> <span class="n">fsck</span> <span class="o">--</span><span class="n">unreachable</span> <span class="mi">2</span><span class="o">&amp;&gt;</span><span class="sr">/dev/nu</span><span class="n">ll</span> <span class="o">|</span> <span class="k">while</span> <span class="n">read</span> <span class="n">i</span><span class="p">;</span> <span class="k">do</span><span class="p">;</span> <span class="n">git</span> <span class="n">show</span> <span class="sb">`echo $i | cut -d &#39; &#39; -f 3`</span> <span class="o">|</span> <span class="n">head</span> <span class="o">-</span><span class="n">n</span> <span class="mi">6</span><span class="p">;</span> <span class="n">done</span>
</span></code></pre></td></tr></table></div></figure>


<p>ç„¶ååœ¨ç»ˆç«¯ä¸­æœç´¢æŸäº›å…³é”®å­—ï¼Œæ¯”å¦‚å…·ä½“æ”¹åŠ¨çš„ä»£ç ã€æ—¶é—´ï¼Œå°±å¯ä»¥è¿…é€Ÿå®šä½åˆ°å¯¹åº”çš„ Hash å€¼ï¼Œæ¥ç€æ¢å¤å°± OK äº†ã€‚</p>

<p>è¿™ç§æ–¹æ³•ï¼Œä¸å•å•åªå¯¹è¯¯åˆ é™¤äº† stash è®°å½•æœ‰ä½œç”¨ï¼Œgit ä¸€åˆ‡é”™è¯¯æ“ä½œå¯¼è‡´åˆ é™¤éƒ½å¯ä»¥åˆ©ç”¨æ­¤æ–¹æ³•æ¢å¤ã€‚</p>

<h2>git submodule ä½¿ç”¨</h2>

<p><a href="http://blog.gezhiqiang.com/2017/03/08/git-submodule/">git submodule ä½¿ç”¨å°ç»“</a></p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2016/07/28/git-notebook/'>https://lengmolehongyan.github.io/blog/2016/07/28/git-notebook/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[UITableView tableHeaderView, tableFooterView å­æ§ä»¶å¸ƒå±€çº¦æŸè­¦å‘Š]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2016/03/26/tableview-layoutconstraints-conflict/"/>
    <updated>2016-03-26T09:59:58+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2016/03/26/tableview-layoutconstraints-conflict</id>
    <content type="html"><![CDATA[<p>å¸¦æœ‰ <code>tableHeaderView</code>ï¼Œ<code>tableFooterView</code> çš„ <code>UITableView</code> åœ¨å®é™…é¡¹ç›®ä¸­å¾ˆå¸¸è§ï¼Œæ·»åŠ äº†å¤´éƒ¨è§†å›¾æˆ–è€…åº•éƒ¨è§†å›¾ï¼Œä¼šåµŒåœ¨ <code>UITableView</code> çš„å¤´éƒ¨æˆ–è€…åº•éƒ¨ï¼Œè·Ÿéš <code>UITableView</code> ä¸€èµ·æ»šåŠ¨ã€‚</p>

<p>æœ‰å…³ <code>tableHeaderView</code>ï¼Œ<code>tableFooterView</code> ä»‹ç»ï¼Œæ–‡æ¡£å’Œå¤´æ–‡ä»¶å·²ç»è¯´æ˜çš„å¾ˆæ¸…æ¥šã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// æ˜¾ç¤ºåœ¨è¡¨è§†å›¾ä¸Šæ–¹çš„é™„å±è§†å›¾ï¼Œé»˜è®¤ä¸º nilï¼Œä¸åŒäºç»„å¤´è§†å›¾</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span> <span class="k">strong</span><span class="p">,</span> <span class="n">nullable</span><span class="p">)</span> <span class="bp">UIView</span> <span class="o">*</span><span class="n">tableHeaderView</span><span class="p">;</span>
</span><span class='line'><span class="c1">// æ˜¾ç¤ºåœ¨è¡¨è§†å›¾ä¸‹æ–¹çš„é™„å±è§†å›¾ï¼Œé»˜è®¤ä¸º nilï¼Œä¸åŒäºç»„å°¾è§†å›¾</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="k">nonatomic</span><span class="p">,</span> <span class="k">strong</span><span class="p">,</span> <span class="n">nullable</span><span class="p">)</span> <span class="bp">UIView</span> <span class="o">*</span><span class="n">tableFooterView</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>




<!--more-->


<p><img src="https://lengmolehongyan.github.io/images/QQ20160410-0@2x.png" alt="Demo ç•Œé¢" /></p>

<p>å¦‚ä¸Šç•Œé¢ï¼Œåœ¨ <code>UITableView</code> é¡¶éƒ¨æœ‰ä¸ª <code>tableHeaderView</code>ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª <code>UILabel</code>ï¼Œlabel çš„æ–‡å­—å¯èƒ½è¿‡é•¿éœ€è¦æ¢è¡Œã€‚ä½¿ç”¨è‡ªåŠ¨å¸ƒå±€å¸ƒå±€ <code>tableHeaderView</code> å†…éƒ¨è¿™ä¸ª label å­æ§ä»¶ï¼Œæˆ‘ä»¬å¯èƒ½æƒ³å½“ç„¶çš„æŠŠçº¦æŸæŒ‰ç…§å¦‚ä¸‹è¿™æ ·å†™ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="p">...</span> <span class="c1">// åˆ›å»º tableView</span>
</span><span class='line'>
</span><span class='line'><span class="n">CGFloat</span> <span class="n">screenWidth</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIScreen</span> <span class="n">mainScreen</span><span class="p">].</span><span class="n">bounds</span><span class="p">.</span><span class="n">size</span><span class="p">.</span><span class="n">width</span><span class="p">;</span>
</span><span class='line'><span class="n">CGFloat</span> <span class="n">tableHeaderHeight</span> <span class="o">=</span> <span class="mf">100.0</span><span class="p">;</span>
</span><span class='line'><span class="bp">UIView</span> <span class="o">*</span><span class="n">tableHeader</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">UIView</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithFrame</span><span class="p">:</span><span class="n">CGRectMake</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">screenWidth</span><span class="p">,</span> <span class="n">tableHeaderHeight</span><span class="p">)];</span>
</span><span class='line'><span class="n">tableHeader</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIColor</span> <span class="n">lightGrayColor</span><span class="p">];</span>
</span><span class='line'><span class="n">tableView</span><span class="p">.</span><span class="n">tableHeaderView</span> <span class="o">=</span> <span class="n">tableHeader</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="bp">UILabel</span> <span class="o">*</span><span class="n">headerLabel</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">UILabel</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'><span class="n">headerLabel</span><span class="p">.</span><span class="n">translatesAutoresizingMaskIntoConstraints</span> <span class="o">=</span> <span class="nb">NO</span><span class="p">;</span>
</span><span class='line'><span class="n">headerLabel</span><span class="p">.</span><span class="n">numberOfLines</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="n">headerLabel</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">@&quot;è¿™æ˜¯ tableView çš„ tableHeaderView ä¸­çš„ä¸€ä¸ª label&quot;</span><span class="p">;</span>
</span><span class='line'><span class="n">headerLabel</span><span class="p">.</span><span class="n">textColor</span> <span class="o">=</span> <span class="p">[</span><span class="bp">UIColor</span> <span class="n">greenColor</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">tableHeader</span> <span class="nl">addSubview</span><span class="p">:</span><span class="n">headerLabel</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="n">CGFloat</span> <span class="n">leftMargin</span> <span class="o">=</span> <span class="mf">15.0</span><span class="p">;</span>
</span><span class='line'><span class="n">CGFloat</span> <span class="n">labelWidth</span> <span class="o">=</span> <span class="n">screenWidth</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">leftMargin</span><span class="p">;</span>
</span><span class='line'><span class="bp">NSLayoutConstraint</span> <span class="o">*</span><span class="n">labelConstraint1</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">headerLabel</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeLeft</span> <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span> <span class="nl">toItem</span><span class="p">:</span><span class="n">tableHeader</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeLeft</span> <span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span> <span class="nl">constant</span><span class="p">:</span><span class="n">leftMargin</span><span class="p">];</span>
</span><span class='line'><span class="bp">NSLayoutConstraint</span> <span class="o">*</span><span class="n">labelConstraint2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">headerLabel</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeCenterY</span> <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span> <span class="nl">toItem</span><span class="p">:</span><span class="n">tableHeader</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeCenterY</span> <span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span> <span class="nl">constant</span><span class="p">:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'><span class="bp">NSLayoutConstraint</span> <span class="o">*</span><span class="n">labelConstraint3</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">headerLabel</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeRight</span> <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span> <span class="nl">toItem</span><span class="p">:</span><span class="n">tableHeader</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeRight</span> <span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span> <span class="nl">constant</span><span class="p">:</span><span class="o">-</span><span class="n">leftMargin</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">tableHeader</span> <span class="nl">addConstraints</span><span class="p">:</span><span class="l">@[</span><span class="n">labelConstraint1</span><span class="p">,</span> <span class="n">labelConstraint2</span><span class="p">,</span> <span class="n">labelConstraint3</span><span class="l">]</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>è¿™æ ·å¸ƒå±€å‡ºæ¥çš„ labelï¼Œæ˜¾ç¤ºä¸Šæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä¹Ÿçš„ç¡®ä¼šæ¢è¡Œï¼Œä½†æ˜¯ console å´ä¼šæŠ¥ <code>Unable to simultaneously satisfy constraints</code> è­¦å‘Šï¼š</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160424-0@2x.png" alt="Unable to simultaneously satisfy constraints" /></p>

<p>å‘ä¸€ä¸ªæ™®é€šçš„ <code>UIView</code> ä¸­æ·»åŠ ä¸€ä¸ªå¤šè¡Œçš„ <code>UILabel</code> å­æ§ä»¶ï¼Œæˆ‘çš„çº¦æŸå¸ƒå±€ä¹ æƒ¯æ˜¯åœ¨ <code>x</code> æ–¹å‘ä¸Šåªéœ€è¦æŒ‡å®šè·ç¦»çˆ¶æ§ä»¶ view çš„å·¦å³é—´è·ï¼Œå†æŒ‡å®šå®ƒçš„ <code>y</code> æ–¹å‘ä¸Šçš„ä½ç½®ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿™ä¸ª label çš„å¸ƒå±€å·²ç»æ˜¯å®Œæˆäº†ï¼Œè€Œä¸”æ²¡æœ‰é—®é¢˜ã€‚å¯æ˜¯ï¼Œåœ¨è¿™é‡Œçš„ <code>tableHeaderView</code> ä¸­çš„ label å¸ƒå±€ä¸ºä»€ä¹ˆå‡ºé—®é¢˜å‘¢ï¼Ÿ</p>

<p>åŸå› åœ¨äº <code>UITableView</code> å¯¹ <code>tableHeaderView</code> å±æ€§çš„å¼•ç”¨å…³ç³»ï¼Œ<code>tableHeaderView</code> é»˜è®¤æ˜¯æ²¡æœ‰çš„ï¼Œç»™ <code>UITableView</code> æ·»åŠ  <code>tableHeaderView</code> æ—¶ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ª view ç„¶åèµ‹å€¼ç»™ <code>UITableView</code> çš„ <code>tableHeaderView</code> å±æ€§ã€‚</p>

<p>åˆ›å»ºä¸€ä¸ª <code>tableHeaderView</code> çš„ view æ—¶ï¼Œä¸€èˆ¬ä½¿ç”¨ <code>- (instancetype)initWithFrame:(CGRect)frame;</code> æ–¹æ³•ï¼Œè¿™é‡Œéœ€è¦ä¼ å…¥ view çš„ <code>frame</code> å‚æ•°ï¼Œ<code>frame</code> å‚æ•°å¯èƒ½ä¼šè¿™æ ·ä¼ å…¥ <code>CGRectMake(0, 0, screenWidth, tableHeaderHeight)</code>ï¼Œè¯¯ä»¥ä¸ºéœ€è¦å°† view çš„å®½åº¦è®¾ç½®ä¸€ä¸‹ï¼Œè€Œé—®é¢˜æ°å·§å°±å‡ºç°åœ¨è¿™é‡Œçš„å®½åº¦ã€‚</p>

<p>å½“ä»£ç èµ°è¿‡åˆ›å»º view é‚£ä¸€è¡Œï¼Œä» log ä¸­çœ‹åˆ°ï¼Œview çš„ <code>frame</code> ç¡®å®å’Œæˆ‘ä»¬è®¾ç½®çš„ä¸€æ ·ï¼š</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160424-1@2x.png" alt="åˆ›å»º view åçš„ frame" /></p>

<p>ä½†æ˜¯ï¼Œå½“è°ƒç”¨ <code>tableView.tableHeaderView = tableHeader;</code> åï¼Œä¼šå‘ç°æ­¤æ—¶ view çš„ <code>frame</code> çš„å®½åº¦ä¸º 0 äº†ï¼š</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160424-2@2x.png" alt="æŒ‡å®š view ä¸º tableHeaderView åçš„ frame" /></p>

<p>è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆ console ä¼šæŠ¥å‡ºçº¦æŸè­¦å‘Šçš„åŸå› ï¼Œå¯¹äºä¸€ä¸ªå®½åº¦ä¸º 0 çš„ viewï¼Œè€Œå†…éƒ¨çš„ label å­æ§ä»¶ <code>x</code> æ–¹å‘ä¸Šçš„çº¦æŸå´ä»¥å…¶çˆ¶æ§ä»¶ view çš„å·¦å³é—´è·æ¥å¸ƒå±€ï¼Œä¸æŠ¥çº¦æŸè­¦å‘Šæ‰æ€ªå‘¢ï¼Ÿï¼</p>

<p>æƒ³è¦è§£å†³è¿™ä¸ªçº¦æŸè­¦å‘Šå¾ˆç®€å•ï¼Œåªéœ€æŒ‡å®š <code>x</code> æ–¹å‘å·¦è¾¹ç¦»çˆ¶æ§ä»¶ view çš„å·¦è¾¹è·ç¦» 15 ä¸ªç‚¹ï¼Œ<code>y</code> æ–¹å‘ä¸ŠæŒ‰éœ€è¦è®¾å®šï¼Œå¯¹äºæœ‰å›ºæœ‰å†…å®¹å°ºå¯¸çš„æ§ä»¶ï¼Œè®¾å®šè¿™ä¸¤ä¸ªçº¦æŸå°±å¯ä»¥äº†ï¼Œä½†æ˜¯ç”±äºè¿™æ˜¯ä¸ªéœ€è¦æ¢è¡Œçš„ labelï¼Œå› æ­¤è¿˜éœ€è¦é™åˆ¶ label çš„å®½åº¦ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥æŒ‡å®š label çš„ <code>preferredMaxLayoutWidth</code> çš„å€¼ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">CGFloat</span> <span class="n">leftMargin</span> <span class="o">=</span> <span class="mf">15.0</span><span class="p">;</span>
</span><span class='line'><span class="n">CGFloat</span> <span class="n">labelWidth</span> <span class="o">=</span> <span class="n">screenWidth</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">leftMargin</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è§£å†³çº¦æŸè­¦å‘Šæ–¹å¼ä¸€:</span>
</span><span class='line'><span class="bp">NSLayoutConstraint</span> <span class="o">*</span><span class="n">labelConstraint1</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">headerLabel</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeLeft</span> <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span> <span class="nl">toItem</span><span class="p">:</span><span class="n">tableHeader</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeLeft</span> <span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span> <span class="nl">constant</span><span class="p">:</span><span class="n">leftMargin</span><span class="p">];</span>
</span><span class='line'><span class="bp">NSLayoutConstraint</span> <span class="o">*</span><span class="n">labelConstraint2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">headerLabel</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeCenterY</span> <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span> <span class="nl">toItem</span><span class="p">:</span><span class="n">tableHeader</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeCenterY</span> <span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span> <span class="nl">constant</span><span class="p">:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'><span class="bp">NSLayoutConstraint</span> <span class="o">*</span><span class="n">labelWidthConstraint</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">headerLabel</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeWidth</span> <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span> <span class="nl">toItem</span><span class="p">:</span><span class="nb">nil</span> <span class="nl">attribute</span><span class="p">:</span><span class="mi">0</span> <span class="nl">multiplier</span><span class="p">:</span><span class="mi">1</span> <span class="nl">constant</span><span class="p">:</span><span class="n">labelWidth</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">tableHeader</span> <span class="nl">addConstraints</span><span class="p">:</span><span class="l">@[</span><span class="n">labelConstraint1</span><span class="p">,</span> <span class="n">labelConstraint2</span><span class="l">]</span><span class="p">];</span>
</span><span class='line'><span class="n">headerLabel</span><span class="p">.</span><span class="n">preferredMaxLayoutWidth</span> <span class="o">=</span> <span class="n">labelWidth</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è§£å†³çº¦æŸè­¦å‘Šæ–¹å¼äºŒ:</span>
</span><span class='line'><span class="bp">NSLayoutConstraint</span> <span class="o">*</span><span class="n">labelConstraint1</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">headerLabel</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeLeft</span> <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span> <span class="nl">toItem</span><span class="p">:</span><span class="n">tableHeader</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeLeft</span> <span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span> <span class="nl">constant</span><span class="p">:</span><span class="n">leftMargin</span><span class="p">];</span>
</span><span class='line'><span class="bp">NSLayoutConstraint</span> <span class="o">*</span><span class="n">labelConstraint2</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">headerLabel</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeCenterY</span> <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span> <span class="nl">toItem</span><span class="p">:</span><span class="n">tableHeader</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeCenterY</span> <span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span> <span class="nl">constant</span><span class="p">:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'><span class="bp">NSLayoutConstraint</span> <span class="o">*</span><span class="n">labelConstraint3</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">headerLabel</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeRight</span> <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span> <span class="nl">toItem</span><span class="p">:</span><span class="n">tableHeader</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeRight</span> <span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0</span> <span class="nl">constant</span><span class="p">:</span><span class="o">-</span><span class="n">leftMargin</span><span class="p">];</span>
</span><span class='line'><span class="bp">NSLayoutConstraint</span> <span class="o">*</span><span class="n">labelWidthConstraint</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">headerLabel</span> <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeWidth</span> <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span> <span class="nl">toItem</span><span class="p">:</span><span class="nb">nil</span> <span class="nl">attribute</span><span class="p">:</span><span class="mi">0</span> <span class="nl">multiplier</span><span class="p">:</span><span class="mi">1</span> <span class="nl">constant</span><span class="p">:</span><span class="n">labelWidth</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">tableHeader</span> <span class="nl">addConstraints</span><span class="p">:</span><span class="l">@[</span><span class="n">labelConstraint1</span><span class="p">,</span> <span class="n">labelConstraint2</span><span class="l">]</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">headerLabel</span> <span class="nl">addConstraint</span><span class="p">:</span><span class="n">labelWidthConstraint</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>




<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2016/03/26/tableview-layoutconstraints-conflict/'>https://lengmolehongyan.github.io/blog/2016/03/26/tableview-layoutconstraints-conflict/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Facebook Xctool çš„ä½¿ç”¨]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2016/01/14/facebook-xctool-de-shi-yong/"/>
    <updated>2016-01-14T18:18:43+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2016/01/14/facebook-xctool-de-shi-yong</id>
    <content type="html"><![CDATA[<h2>xctool</h2>

<p><strong>xctool</strong> ç›¸æ¯”è‹¹æœçš„ <strong>xcodebuild</strong>ï¼Œå¯ä»¥æ›´åŠ ç®€å•æ–¹ä¾¿åœ°ç¼–è¯‘æ„å»ºå’Œæµ‹è¯• iOSã€Mac é¡¹ç›®ï¼Œå¯¹å¯æŒç»­é›†æˆ CI å°¤å…¶æœ‰ç”¨ã€‚</p>

<h2>ç‰¹ç‚¹</h2>

<p><strong>xctool</strong> åœ¨ xcodebuild çš„åŸºç¡€ä¸Šæ·»åŠ äº†ä¸€äº›é¢å¤–çš„åŠŸèƒ½ï¼š</p>

<ul>
<li><p>æ ¼å¼åŒ–è¾“å‡ºæ„å»ºå’Œæµ‹è¯•é¡¹ç›®ç»“æœï¼š</p>

<p>  xctool å°†æ‰€æœ‰æ„å»ºå’Œæµ‹è¯•é¡¹ç›®çš„ç»“æœæ ¼å¼åŒ–ä¸º JSON å¯¹è±¡ï¼Œå¦‚æœä½ æ­£åœ¨æ„å»ºä¸€ä¸ªå¯æŒç»­é›†æˆç³»ç»Ÿï¼Œä½¿ç”¨ xctool æ„å‘³ç€ä¸ç”¨å†æ­£åˆ™è§£æ xcodebuild çš„è¾“å‡ºç»“æœäº†ã€‚</p>

<p>  å°è¯•ä¸€ç§æ—¥å¿—è¾“å‡ºæ ·å¼ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰è¾“å‡ºç»“æœï¼Œæˆ–è€…ä½¿ç”¨ <code>-reporter json-stream</code> å‘½ä»¤å¯ä»¥æŸ¥çœ‹å®Œæ•´çš„äº‹ä»¶æµã€‚</p></li>
</ul>


<!--more-->


<ul>
<li><p>å‹å¥½çš„ï¼ŒANSI æ ‡å‡†è‰²è¾“å‡ºï¼š</p>

<p>  xcodebuild ä¸ºæ¯ä¸ªæºæ–‡ä»¶æ‰“å°æ‰€æœ‰ç¼–è¯‘æŒ‡ä»¤å’Œè¾“å‡ºï¼Œéå¸¸å†—é•¿ã€‚è€Œ xctool é»˜è®¤åªåœ¨å‡ºé”™çš„åœ°æ–¹æ¯”è¾ƒè¯¦ç»†ï¼Œæ›´å®¹æ˜“æ‰¾å‡ºé—®é¢˜æ‰€åœ¨ã€‚</p>

<p>  ä¾‹ï¼š</p>

<p>  <img src="https://camo.githubusercontent.com/f4c5388651b83663ff811969c0e2099073c25484/68747470733a2f2f66706f747465725f7075626c69632e73332e616d617a6f6e6177732e636f6d2f7863746f6f6c2d7569636174616c6f672e676966" alt="" /></p></li>
<li><p>æ›´å¿«ã€å¹¶è¡ŒåŒ–çš„æµ‹è¯•è¿è¡Œï¼š</p>

<p>  xctool å¯ä»¥è§†æƒ…å†µå¹¶è¡Œè¿è¡Œæ‰€æœ‰æµ‹è¯•ä»»åŠ¡ï¼Œå¤§å¤§åŠ å¿«æµ‹è¯•å·¥ä½œã€‚åœ¨ Facebookï¼Œå¹¶è¡Œè¿è¡Œæˆ‘ä»¬å·²ç»çœ‹åˆ° 2~3 å€çš„åŠ é€Ÿã€‚</p>

<p>  ä½¿ç”¨ <code>-parallelize</code> é€‰é¡¹ä»¥å¯ç”¨ run-tests æˆ–è€… testï¼Œæ›´å¤šä¿¡æ¯è¯·å‚é˜… <a href="https://github.com/facebook/xctool#parallelizing-test-runs">Parallelizing Test Runs</a>ã€‚</p></li>
<li><p>ç¼–å†™äº Objective-Cï¼š</p>

<p>  xctool æ˜¯ä½¿ç”¨ Objective-C ç¼–å†™çš„ï¼ŒMac OSX å’Œ iOS å¼€å‘è€…ä¸éœ€è¦å­¦ä¹ æ–°çš„è¯­è¨€ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾åœ°æäº¤æ–°çš„åŠŸèƒ½å’Œä¿®å¤ bugã€‚æˆ‘ä»¬éå¸¸æ¬¢è¿æäº¤ PR (pull request)ã€‚</p></li>
</ul>


<h2>ä½¿ç”¨å¿…å¤‡æ¡ä»¶</h2>

<ul>
<li>Xcode6 æˆ–æ›´é«˜ç‰ˆæœ¬</li>
<li>éœ€è¦å®‰è£… Xcode çš„å‘½ä»¤è¡Œå·¥å…·ï¼ˆCommand Line Toolsï¼‰ï¼Œå¯ä»¥åœ¨ Xcode â†’ Preferences â†’ Downloads å®‰è£…ã€‚</li>
</ul>


<h2>å®‰è£…</h2>

<p>xctool å¯ä»¥ä» homebrew å®‰è£…</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span>brew install xctool
</span></code></pre></td></tr></table></div></figure>


<p>ä¹Ÿå¯ä»¥ä¸‹è½½åè¿è¡Œ xctool.sh å‘½ä»¤ã€‚</p>

<h2>ä½¿ç”¨</h2>

<p>xctool çš„å‘½ä»¤å’Œé€‰é¡¹æ˜¯ xcodebuild çš„ä¸€ä¸ªæ‰©å±•ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ åªéœ€è¦æ›¿æ¢ <strong>xcodebuild</strong> ä¸º <strong>xctool</strong>ï¼Œä¼šå¦‚æœŸè¿è¡Œï¼Œä½†æœ‰æ›´å…·å¸å¼•åŠ›çš„è¾“å‡ºã€‚</p>

<p>å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è·å–å¸®åŠ©å’Œå®Œæ•´çš„é…ç½®åˆ—è¡¨ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh -help
</span></code></pre></td></tr></table></div></figure>


<h3>ç¼–è¯‘</h3>

<p>ä½¿ç”¨ xctool ç¼–è¯‘é¡¹ç›®å’Œä½¿ç”¨ xcodebuild æ˜¯ä¸€æ ·çš„ã€‚</p>

<p>å¦‚æœæ˜¯ä½¿ç”¨ workspaces å’Œ schemes ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkspace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  build
</span></code></pre></td></tr></table></div></figure>


<p>å¦‚æœä½¿ç”¨çš„æ˜¯ projects å’Œ schemesï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -project YourProject.xcodeproj <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  build
</span></code></pre></td></tr></table></div></figure>


<p>å¸¸è§é…ç½®æ¯”å¦‚ <code>-configuration</code>ï¼Œ<code>-sdk</code>ï¼Œ<code>-arch</code> å’Œ xcodebuild æ˜¯ç›¸åŒçš„ã€‚</p>

<p>æ³¨æ„ï¼šxctool ä¸æ”¯æŒä½¿ç”¨ <code>-target</code> æ¥ç¼–è¯‘ targetsï¼Œå¿…é¡»ä½¿ç”¨ schemesã€‚</p>

<h3>å•å…ƒæµ‹è¯•</h3>

<p>xctool çš„ <strong>test</strong> å‘½ä»¤ï¼Œå¯ä»¥é…ç½® scheme ä¸­å¦‚ä½•ç¼–è¯‘å’Œè¿è¡Œæµ‹è¯•ã€‚ä¹Ÿå¯ä»¥é™åˆ¶å“ªäº›å•å…ƒæµ‹è¯•è¿è¡Œï¼Œæˆ–è€…æŒ‡å®šè¿è¡Œçš„ SDK ç‰ˆæœ¬ã€‚</p>

<p>ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œç¼–è¯‘è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkSpace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  <span class="nb">test</span>
</span></code></pre></td></tr></table></div></figure>


<p>åœ¨æŒ‡å®šçš„ target ä¸Šç¼–è¯‘è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œä½¿ç”¨ <code>-only</code> é…ç½®ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkSpace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  <span class="nb">test</span> -only SomeTestTarget
</span></code></pre></td></tr></table></div></figure>


<p>å¯ä»¥è¿›ä¸€æ­¥é…ç½®åªè¿è¡Œç‰¹å®šçš„å•å…ƒæµ‹è¯•ç±»ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkSpace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  <span class="nb">test</span> -only SomeTestTarget:SomeTestClass
</span></code></pre></td></tr></table></div></figure>


<p>ç”šè‡³åªè¿è¡ŒæŸä¸ªå•å…ƒæµ‹è¯•ç±»çš„æŸä¸ªæ–¹æ³•ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkSpace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  <span class="nb">test</span> -only SomeTestTarget:SomeTestClass/testSomeMethod
</span></code></pre></td></tr></table></div></figure>


<p>ä¹Ÿå¯ä»¥æŒ‡å®šåŒ¹é…å‰ç¼€çš„ç±»å’Œæ–¹æ³•ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkSpace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  <span class="nb">test</span> -only SomeTestTarget:SomeTestClassPrefix*,SomeTestClass/testSomeMethodPrefix*
</span></code></pre></td></tr></table></div></figure>


<p>ä¹Ÿå¯ä»¥åœ¨æŒ‡å®š SDK ç‰ˆæœ¬ä¸Šè¿è¡Œå•å…ƒæµ‹è¯•ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkSpace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  <span class="nb">test</span> -test-sdk iphonesimulator5.1
</span></code></pre></td></tr></table></div></figure>


<h3>ç¼–è¯‘å•å…ƒæµ‹è¯•</h3>

<p>å½“ç¼–è¯‘å’Œè¿è¡Œå•å…ƒæµ‹è¯•æ—¶ï¼Œæœ‰æ—¶ä¸éœ€è¦è¿è¡Œåªæ˜¯ç¼–è¯‘ï¼Œå¯ä»¥ä½¿ç”¨ <code>build-tests</code> æŒ‡ä»¤ï¼Œä¾‹ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkSpace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  build-tests
</span></code></pre></td></tr></table></div></figure>


<p>å¯ä»¥ä½¿ç”¨ <code>-only</code> æŒ‡å®šåœ¨æŸä¸ª target ä¸Šç¼–è¯‘ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkSpace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  build-tests -only SomeTestTarget
</span></code></pre></td></tr></table></div></figure>


<h3>è¿è¡Œå•å…ƒæµ‹è¯•</h3>

<p>å¦‚æœå·²ç»ä½¿ç”¨ <code>build-tests</code> ç¼–è¯‘ï¼Œä½¿ç”¨ <code>run-tests</code> å°±å¯ä»¥ç›´æ¥è¿è¡Œå•å…ƒæµ‹è¯•ã€‚è¿™æ ·çš„ä½œç”¨æ˜¯åªéœ€ç¼–è¯‘ä¸€æ¬¡ï¼Œä¾¿å¯è¿è¡Œåœ¨ä¸åŒ SDK ç‰ˆæœ¬ä¸Šã€‚</p>

<p>è¿è¡Œæ‰€æœ‰å•å…ƒæµ‹è¯•ï¼Œä½ å°†ä½¿ç”¨ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkSpace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  run-tests
</span></code></pre></td></tr></table></div></figure>


<p>å’Œ <code>test</code> æŒ‡ä»¤ä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡ <code>-only</code> æ¥é™åˆ¶å“ªäº›å•å…ƒæµ‹è¯•è¿è¡Œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>-test-sdk</code> è¿è¡Œåœ¨æŒ‡å®šçš„ SDK ç‰ˆæœ¬ä¸Šã€‚</p>

<p>å¯ä»¥é€‰æ‹©åœ¨è¿è¡Œå•å…ƒæµ‹è¯•æ—¶æŒ‡å®š <code>-testTimeout</code>ã€‚å½“æŸä¸ªç‹¬ç«‹çš„æµ‹è¯•åˆ°äº†è¶…æ—¶æ—¶é—´ï¼Œä¼šè¢«è®¤ä¸ºå¤±è´¥è€Œä¸æ˜¯æ— é™ç­‰å¾…ï¼Œå¯ä»¥é˜²æ­¢æµ‹è¯•ä»»åŠ¡å› ä¸ºå‘ç”Ÿé”™è¯¯è€Œå¯¼è‡´æ­»é”ã€‚</p>

<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¨¡æ‹Ÿå™¨å¯åŠ¨ç¨‹åºå•å…ƒæµ‹è¯•ç­‰å¾…æœ€å¤š 30sï¼Œå¯ä»¥ä½¿ç”¨ <code>-launch-timeout</code> æŒ‡ä»¤æ¥ä¿®æ”¹è¶…æ—¶æ—¶é—´ã€‚</p>

<h3>å¹¶è¡Œè¿è¡Œå•å…ƒæµ‹è¯•</h3>

<p>xctool å¯ä»¥é…ç½®å¹¶è¡Œè¿è¡Œå•å…ƒæµ‹è¯•ï¼Œä»¥ä¾¿æ›´å¥½åœ°åˆ©ç”¨ç©ºé—²çš„å¤šæ ¸ CPUã€‚</p>

<p>è‹¥è¦å…è®¸å¤šä¸ªæµ‹è¯•ä»»åŠ¡åŒæ—¶è¿è¡Œï¼Œä½¿ç”¨ <code>-parallelize</code> æŒ‡ä»¤ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkSpace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  run-tests -parallelize
</span></code></pre></td></tr></table></div></figure>


<p>ä¸Šé¢ç»™å‡ºçš„å¹¶è¡Œï¼Œä»é™åˆ¶äºæœ€æ…¢çš„æµ‹è¯•ä»»åŠ¡ã€‚æ¯”å¦‚ï¼Œä¸¤ä¸ªæµ‹è¯•ä»»åŠ¡ï¼ˆ'A' å’Œ &lsquo;B'ï¼‰ï¼Œ'B&rsquo; å› ä¸ºåŒ…å« 10 å€å¤šæµ‹è¯•éœ€è¦èŠ±è´¹ 10 å€çš„æ—¶é—´æ¥è¿è¡Œï¼Œè¿™æ ·ä¸Šè¿°å¹¶è¡Œè¿è¡Œå¸®åŠ©å¹¶ä¸å¤§ã€‚</p>

<p>å¯ä»¥ä½¿ç”¨ <code>-logicTestBucketSize</code> æŒ‡ä»¤å°†æµ‹è¯•ä»»åŠ¡åˆ†ä¸ºå‡ ä¸ª bucket ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkSpace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  run-tests -parallelize -logicTestBucketSize 20
</span></code></pre></td></tr></table></div></figure>


<p>ä¸Šé¢å°†æµ‹è¯•ä»»åŠ¡åˆ†ä¸ºæ¯ä¸ª bucket 20 ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè¿™äº›æµ‹è¯•å°†åŒæ—¶è¿è¡Œï¼Œå¦‚æœæµ‹è¯•åŒ…æ¯”å…¶ä»–å¤§å¾—å¤šï¼Œè¿™æ ·å¯ä»¥åŠ å¿«æ•´ä½“æµ‹è¯•è¿è¡Œé€Ÿåº¦ã€‚</p>

<h2>å¯æŒç»­é›†æˆï¼ˆCIï¼‰</h2>

<p>å¯¹äºå¯æŒç»­é›†æˆæœåŠ¡å™¨æ¯”å¦‚ <a href="https://travis-ci.org/">Travis CI</a> æˆ–è€… <a href="http://jenkins-ci.org/">Jenkins</a> æ¥è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œxctool æ˜¯ä¸é”™çš„é€‰æ‹©ã€‚ä¸ºäº†åœ¨å¯æŒç»­é›†æˆç¯å¢ƒä¸­è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œå¿…é¡»ä¸ºåº”ç”¨çš„ target åˆ›å»ºä¸€ä¸ª <strong>Shared Schemes</strong> targetï¼ŒåŒæ—¶ç¡®ä¿æ‰€æœ‰ä¾èµ–å·²ç»æ­£ç¡®æ·»åŠ åˆ° Scheme ä¸­ï¼ˆæ¯”å¦‚ CocoaPodsï¼‰ã€‚å‚ç…§å¦‚ä¸‹æ­¥éª¤ï¼š</p>

<ol>
<li>é€‰æ‹© <strong>Product</strong> > <strong>Schemes</strong> > <strong>Manage Schemes</strong> èœå•ï¼Œæ‰“å¼€ <strong>Manage Schemes</strong>ã€‚</li>
<li>åœ¨åˆ—è¡¨ä¸­æ‰¾åˆ°åº”ç”¨çš„ targetï¼Œç¡®ä¿åœ¨å³æ‰‹è¾¹çš„ <strong>Shared</strong> å¤é€‰æ¡†å·²ç»é€‰ä¸­ã€‚</li>
<li><p>å¦‚æœåº”ç”¨æˆ–è€…å•å…ƒæµ‹è¯•çš„ target åŒ…å«è·¨é¡¹ç›®çš„ä¾èµ–æ¯”å¦‚ CocoaPodsï¼Œè¿˜éœ€è¦ç¡®ä¿å®ƒä»¬å·²ç»æ­£ç¡®é…ç½®ã€‚å¯å‚ç…§å¦‚ä¸‹æ­¥éª¤ï¼š</p>

<ul>
<li>é€‰ä¸­åº”ç”¨çš„ targetï¼Œç‚¹å‡» <strong>Edit</strong> æŒ‰é’®æ‰“å¼€ Scheme ç¼–è¾‘å¼¹çª—ã€‚</li>
<li>åœ¨ Scheme ç¼–è¾‘å™¨é‡Œé¢ç‚¹å‡»å·¦æ‰‹è¾¹çš„ <strong>Build</strong> é€‰é¡¹ã€‚</li>
<li>ç‚¹å‡» + å·æŒ‰é’®ä¸ºé¡¹ç›®æ·»åŠ æ‰€æœ‰ä¾èµ–ï¼ŒCocoaPods å°†ä»¥åå­—ä¸º <strong>Pods</strong> çš„é™æ€åº“å‡ºç°ã€‚</li>
<li>æ‹–åŠ¨ä¾èµ–åˆ°åº”ç”¨çš„ target ä¸‹æ–¹ï¼Œæ–¹ä¾¿åº”ç”¨çš„ target ä¼˜å…ˆç¼–è¯‘ã€‚</li>
</ul>
</li>
</ol>


<p>ç°åœ¨ï¼Œåœ¨å·¥ç¨‹é¡¹ç›®é‡Œçš„ <strong>xcshareddata/xcschemes</strong> ç›®å½•ä¸‹ä¼šæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™å°±æ˜¯åˆšåˆšé…ç½®å¥½çš„ <strong>Shared Scheme</strong>ï¼Œåœ¨ git\svn ä»“åº“ä¸­æ·»åŠ è¯¥æ–‡ä»¶ï¼Œxctool å°†åœ¨ä¸‹ä¸€æ¬¡ CI ç¼–è¯‘æ—¶ï¼Œæ‰¾åˆ°å¹¶æ‰§è¡Œå•å…ƒæµ‹è¯•ã€‚</p>

<h3>Travis CI é…ç½®ç¤ºä¾‹</h3>

<p><a href="https://travis-ci.org/">Travis CI</a> æ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„ï¼Œå…è´¹æä¾›ç»™å¼€æºé¡¹ç›®çš„å¯æŒç»­é›†æˆç³»ç»Ÿï¼Œå®ƒé›†æˆäº Githubï¼Œå¹¶ä¸”å¯¹äº Objective-C å·¥ç¨‹ï¼ŒTravis CI é»˜è®¤ä½¿ç”¨ xctool ä½œä¸ºç¼–è¯‘å’Œæµ‹è¯•å·¥å…·ã€‚æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤è®¾ç½®å¥½ Shared Schemes åï¼Œè¿˜éœ€è¦é…ç½® <code>.travis.yml</code> æ–‡ä»¶ã€‚</p>

<p>å¦‚æœæ˜¯ä½¿ç”¨ workspaceï¼Œ<code>.travis.yml</code> æ–‡ä»¶å†…å®¹æ ¼å¼å¦‚ä¸‹ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>language: objective-c
</span><span class='line'>xcode_workspace: path/to/YourApp.xcworkspace
</span><span class='line'>xcode_scheme: YourApp
</span></code></pre></td></tr></table></div></figure>


<p>å¦‚æœæ˜¯ä½¿ç”¨ projectsï¼Œ<code>.travis.yml</code> æ–‡ä»¶å†…å®¹æ ¼å¼å¦‚ä¸‹ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>language: objective-c
</span><span class='line'>xcode_project: path/to/YourApp.xcodeproj
</span><span class='line'>xcode_scheme: YourApp
</span></code></pre></td></tr></table></div></figure>


<p><code>.travis.yml</code> æ–‡ä»¶è¿˜å¯ä»¥çµæ´»é…ç½®æ€æ ·å®‰è£… Travis å’Œè°ƒç”¨ xctoolï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>language: objective-c
</span><span class='line'>before_install:
</span><span class='line'>    - brew update
</span><span class='line'>    - brew install xctool
</span><span class='line'>script: xctool -workspace MyApp.xcworkspace -scheme MyApp <span class="nb">test</span>
</span></code></pre></td></tr></table></div></figure>


<p>ä½ å¯ä»¥åœ¨ <a href="http://about.travis-ci.org/docs/user/osx-ci-environment/">About OS X Travis CI Environment</a> è¿™ä»½æ–‡æ¡£ä¸­å­¦åˆ°æ›´å¤šæœ‰å…³ iOS å’Œ OSX åº”ç”¨çš„ Travis CI ç¯å¢ƒï¼Œé€šè¿‡æŸ¥é˜… <a href="https://docs.travis-ci.com/user/getting-started/">Getting Started</a> æ‰¾åˆ°é…ç½®é¡¹ç›®çš„è¯¦ç»†æ–‡æ¡£ã€‚</p>

<h2>æ—¥å¿—æ ·å¼</h2>

<p>xctool ä»¥ä¸åŒçš„æ ·å¼è¾“å‡ºç¼–è¯‘æ„å»ºå’Œæµ‹è¯•ç»“æœæ—¥å¿—ï¼Œå¦‚æœä¸æŒ‡å®šæ—¥å¿—æ ·å¼ï¼Œxctool é»˜è®¤ä½¿ç”¨ <code>pretty</code> å’Œ <code>user-notifications</code>ï¼Œxctool ä¹Ÿæœ‰å¦‚ä¸‹è§„åˆ™ï¼š</p>

<ul>
<li>å¦‚æœæ²¡æœ‰æ£€æµ‹åˆ° TTYï¼Œåˆ™ä¸èƒ½è¦†ç›– <code>pretty</code> è¿™ç§æ—¥å¿—æ ·å¼ï¼Œå¯ä»¥é€šè¿‡åœ¨ç¯å¢ƒä¸­è®¾ç½® <code>XCTOOL_FORCE_TTY</code> æ¥è¦†ç›–ã€‚</li>
<li>å¦‚æœ xctool æ£€æµ‹åˆ°ç¼–è¯‘æ„å»ºä»»åŠ¡æ˜¯åœ¨ Travis CIï¼ŒCircleCIï¼ŒTeamCityï¼Œæˆ–è€… Jenkinsï¼ˆå³åœ¨ç¯å¢ƒä¸­è®¾ç½® TRAVIS=trueï¼ŒCIRCLECI=trueï¼ŒTEAMCITY_VERSIONï¼Œæˆ–è€… JENKINS_URLï¼‰ä¸Šè¿è¡Œçš„ï¼Œ<code>user-notifications</code> æ ·å¼æ˜¯ä¸ä¼šä½¿ç”¨çš„ã€‚</li>
</ul>


<p>å¯ä»¥é€šè¿‡ <code>-option</code> é€‰é¡¹æ¥é€‰æ‹©è‡ªå·±çš„æ—¥å¿—è¾“å‡ºæ ·å¼ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkspace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  -reporter plain <span class="se">\</span>
</span><span class='line'>  build
</span></code></pre></td></tr></table></div></figure>


<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ—¥å¿—æ˜¯æ ‡å‡†è¾“å‡ºï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç›´æ¥åœ¨æ—¥å¿—æ ·å¼é€‰é¡¹åè¿½åŠ  <code>:OUTPUT_PATH</code> æ¥æŒ‡å®šæ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkspace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  -reporter plain:/path/to/plain-output.txt <span class="se">\</span>
</span><span class='line'>  build
</span></code></pre></td></tr></table></div></figure>


<p>åªè¦å–œæ¬¢ï¼Œå¯ä»¥ä½¿ç”¨å°½å¯èƒ½å¤šçš„æ—¥å¿—æ ·å¼ï¼Œåªéœ€å¤šæ¬¡ä½¿ç”¨ <code>-reporter</code> é€‰é¡¹ã€‚</p>

<h3>åŒ…å«çš„æ—¥å¿—æ ·å¼</h3>

<ul>
<li><strong>pretty</strong>ï¼šä¸€ä¸ªä½¿ç”¨ ANSI é¢œè‰²å’Œ Unicode å­—ç¬¦è¾“å‡ºæ¼‚äº®çš„åŸºäºæ–‡æœ¬çš„æ—¥å¿—æ ·å¼ï¼ˆé»˜è®¤ï¼‰ã€‚</li>
<li><strong>plain</strong>ï¼šå’Œ <em>pretty</em> ç±»ä¼¼ï¼Œä½†æ˜¯æ²¡æœ‰é¢œè‰²å’Œ Unicode å­—ç¬¦ã€‚</li>
<li><strong>phabricator</strong>ï¼šå°†ç¼–è¯‘æ„å»ºã€æµ‹è¯•ç»“æœè¾“å‡ºæˆä¸€ä¸ª JSON æ•°ç»„çš„æ ·å¼ï¼Œå¯ä»¥å¯¼å…¥åˆ° <a href="http://phabricator.org/">Phabricator</a> ä»£ç å®¡æŸ¥å·¥å…·ã€‚</li>
<li><strong>junit</strong>ï¼šæµ‹è¯•ç»“æœç”Ÿæˆä¸€ä¸ª JUnit/xUnit å…¼å®¹çš„ XML æ–‡ä»¶ã€‚</li>
<li><strong>json-stream</strong>ï¼šä¸€ä¸ªä»¥ JSON å­—å…¸æ ¼å¼è¾“å‡ºç¼–è¯‘æ„å»ºã€æµ‹è¯•äº‹ä»¶æµï¼Œæ¯è¡Œä¸€ä¸ªï¼ˆ<a href="https://gist.github.com/fpotter/82ffcc3d9a49d10ee41b">æ ·å¼ç¤ºä¾‹</a>ï¼‰ã€‚</li>
<li><strong>json-compilation-database</strong>ï¼šè¾“å‡ºç¼–è¯‘æ„å»ºäº‹ä»¶çš„ <a href="http://clang.llvm.org/docs/JSONCompilationDatabase.html">JSON Compilation Database</a>ï¼Œè¢«ç”¨äº <a href="http://clang.llvm.org/docs/LibTooling.html">Clang Tooling</a>ï¼Œä¾‹å¦‚ <a href="http://oclint.org/">OCLint</a>ã€‚</li>
<li><strong>user-notifications</strong>ï¼šå½“äº‹ä»¶\ä»»åŠ¡å®Œæˆåï¼Œä¼šç»™é€šçŸ¥ä¸­å¿ƒå‘é€é€šçŸ¥ï¼ˆ<a href="https://cloud.githubusercontent.com/assets/1044236/2771974/a2715306-ca74-11e3-9889-fa50607cc412.png">ç¤ºä¾‹é€šçŸ¥</a>ï¼‰ã€‚</li>
<li><strong>teamcity</strong>ï¼šå‘é€æœåŠ¡æ¶ˆæ¯åˆ° <a href="">TeamCity</a> æŒç»­é›†æˆæœåŠ¡å™¨ã€‚</li>
</ul>


<h3>å®ç°è‡ªå·±çš„æ—¥å¿—æ ·å¼</h3>

<p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä»»ä½•ä½ å–œæ¬¢çš„è¯­è¨€æ¥å®ç°è‡ªå·±çš„æ—¥å¿—æ ·å¼ï¼Œåœ¨ xctool ä¸­ï¼Œæ—¥å¿—æ ·å¼æ˜¯ç‹¬ç«‹å¯æ‰§è¡Œçš„ï¼Œä» STDIN è¯»å– JSON å¯¹è±¡ï¼Œæ ¼å¼åŒ–ç»“æœå†™å…¥åˆ° STDOUTã€‚</p>

<p>ä½ å¯ä»¥é€šè¿‡ <code>-reporter</code> é€‰é¡¹æŒ‡å®šå®Œæ•´è·¯å¾„è°ƒç”¨è‡ªå®šä¹‰æ—¥å¿—æ ·å¼ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>path/to/xctool.sh <span class="se">\</span>
</span><span class='line'>  -workspace YourWorkspace.xcworkspace <span class="se">\</span>
</span><span class='line'>  -scheme YourScheme <span class="se">\</span>
</span><span class='line'>  -reporter /path/to/your/reporter <span class="se">\</span>
</span><span class='line'>  <span class="nb">test</span>
</span></code></pre></td></tr></table></div></figure>


<p>ä¾‹å¦‚ï¼Œä¸‹é¢æ˜¯ç”¨ Python å†™çš„ä¸€ä¸ªç®€å•çš„æ—¥å¿—æ ·å¼ï¼Œæ¯æ¬¡æµ‹è¯•é€šè¿‡è¾“å‡ºä¸€ä¸ªå¥å· <code>.</code>ï¼Œå¤±è´¥åˆ™è¾“å‡ºä¸€ä¸ªæ„Ÿå¹å· <code>!</code>ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="c">#!/usr/bin/python</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">fileinput</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">json</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">sys</span>
</span><span class='line'>
</span><span class='line'><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fileinput</span><span class="o">.</span><span class="n">input</span><span class="p">():</span>
</span><span class='line'>    <span class="n">obj</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="n">obj</span><span class="p">[</span><span class="s">&#39;event&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;end-test&#39;</span><span class="p">:</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">obj</span><span class="p">[</span><span class="s">&#39;succeeded&#39;</span><span class="p">]:</span>
</span><span class='line'>            <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;.&#39;</span><span class="p">)</span>
</span><span class='line'>        <span class="k">else</span><span class="p">:</span>
</span><span class='line'>            <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;!&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>å¦‚æœä½ ç”¨ Objective-C å†™æ—¥å¿—æ ·å¼ï¼Œä½ ä¼šå‘ç° <code>Reporter</code> ç±»æ¯”è¾ƒæœ‰å¸®åŠ©ï¼Œè§ <a href="">Reporter.h</a>ã€‚</p>

<h2>é…ç½®ï¼ˆ.xctool-argsï¼‰</h2>

<p>å¦‚æœä½ åœ¨å‘½ä»¤è¡Œä¸­ç»å¸¸éœ€è¦é€šè¿‡å¾ˆå¤šå‚æ•°æ¥ä½¿ç”¨ <em>xctool</em>ï¼Œå¯ä»¥è®¾ç½® <strong>.xctool-args</strong> æ–‡ä»¶æ¥åŠ å¿«å·¥ä½œæµç¨‹ã€‚å¦‚æœ <em>xctool</em> åœ¨å½“å‰ç›®å½•ä¸­å‘ç° <strong>.xctool-args</strong> æ–‡ä»¶ï¼Œå®ƒä¼šè‡ªåŠ¨åœ¨å‚æ•°é‚£é‡Œé¢„å¡«å……ã€‚</p>

<p>æ ¼å¼æ˜¯ä¸€ä¸ª JSON æ•°ç»„çš„å‚æ•°é…ç½®ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='json'><span class='line'><span class="p">[</span>
</span><span class='line'>  <span class="s2">&quot;-workspace&quot;</span><span class="p">,</span> <span class="s2">&quot;YourWorkspace.xcworkspace&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;-scheme&quot;</span><span class="p">,</span> <span class="s2">&quot;YourScheme&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;-configuration&quot;</span><span class="p">,</span> <span class="s2">&quot;Debug&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;-sdk&quot;</span><span class="p">,</span> <span class="s2">&quot;iphonesimulator&quot;</span><span class="p">,</span>
</span><span class='line'>  <span class="s2">&quot;-arch&quot;</span><span class="p">,</span> <span class="s2">&quot;i386&quot;</span>
</span><span class='line'><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>é€šè¿‡å‘½ä»¤è¡Œé…ç½®çš„ä»»ä½•é¢å¤–å‚æ•°ä¼˜å…ˆäºå®ƒä»¬åœ¨ <em>.xctool-args</em> æ–‡ä»¶ä¸­çš„é…ç½®ã€‚</p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2016/01/14/facebook-xctool-de-shi-yong/'>https://lengmolehongyan.github.io/blog/2016/01/14/facebook-xctool-de-shi-yong/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS å¼€å‘ä½¿ç”¨ Jenkins æ­å»º CI æœåŠ¡å™¨]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2016/01/13/ios-jenkins-use/"/>
    <updated>2016-01-13T18:57:16+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2016/01/13/ios-jenkins-use</id>
    <content type="html"><![CDATA[<h2>å‡†å¤‡</h2>

<p>æ‰“å¼€ <a href="http://jenkins-ci.org/">Jenkins å®˜ç½‘</a>ï¼Œå®˜ç½‘å³ä¾§å¯ä»¥ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„ <a href="http://mirrors.jenkins-ci.org/war/latest/jenkins.war">jenkins.war</a>ã€‚</p>

<!--more-->


<p><img src="https://lengmolehongyan.github.io/images/QQ20160113-0@2x.png" alt="jenkins.war" /></p>

<p>ä¸‹è½½å®Œæˆåï¼Œç»ˆç«¯è¿›å…¥åˆ° jenkins.war æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'><span class="nv">$ </span>java -jar jenkins.war --httpPort<span class="o">=</span>8888
</span></code></pre></td></tr></table></div></figure>


<p>å¯ä»¥åˆ›å»ºä¸€ä¸ª bash/zsh alias æ¥ç»™ä¸Šè¿°æŒ‡ä»¤èµ·ä¸€ä¸ªåˆ«åï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">alias </span><span class="nv">jenkins</span><span class="o">=</span><span class="s2">&quot;java -jar æ­¤å¤„ä¸ºjenkins.waræ–‡ä»¶æ‰€åœ¨è·¯å¾„&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>å¦‚æœä½¿ç”¨çš„æ˜¯ bashï¼Œåœ¨ç”¨æˆ·ç›®å½•ä¸‹çš„ <code>.bashrc</code> æ–‡ä»¶ä¸­æ·»åŠ ä¸Šé¢è¿™å¥ï¼Œåˆ«åå°±èµ·å¥½äº†ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯ zshï¼Œåˆ™åœ¨ç”¨æˆ·ç›®å½•ä¸‹çš„ <code>.zshrc</code> æ–‡ä»¶å¢åŠ ã€‚ä¹‹åï¼Œåœ¨ç»ˆç«¯ï¼Œç›´æ¥è¾“å…¥ <code>jenkins</code> æŒ‡ä»¤å°±å¯ä»¥å¯åŠ¨ jenkins ã€‚</p>

<p>å¦‚æœå‡ºç°ä»¥ä¸‹æç¤ºï¼Œè¯´æ˜éœ€è¦å‡çº§ Java ç‰ˆæœ¬ï¼ŒJenkins éœ€è¦è‡³å°‘ Java7 åŠä»¥åçš„ç‰ˆæœ¬ï¼Œå¯ä»¥åœ¨æ­¤é¡µé¢ä¸‹è½½ <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk7-downloads-1880260.html">Java</a> ã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/2016011315-19-43@2x.png" alt="é”™è¯¯æç¤º" /></p>

<p>ä¸Šé¢åœ¨ç»ˆç«¯è¾“å…¥çš„å‘½ä»¤ä¸­ï¼Œ<code>httpPort</code> æŒ‡å®šçš„æ˜¯ Jenkins æ‰€ä½¿ç”¨çš„æœ¬æœº http ç«¯å£å·ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹ï¼Œç­‰å¾… Jenkins å®Œå…¨å¯åŠ¨åï¼Œç»ˆç«¯ä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>...
</span><span class='line'>ä¿¡æ¯: Jenkins is fully up and running
</span></code></pre></td></tr></table></div></figure>


<p>ç°åœ¨åœ¨æµè§ˆå™¨æ‰“å¼€ <a href="http://localhost:8888/">http://localhost:8888/</a>ï¼Œå°±å¯ä»¥çœ‹åˆ°æœ¬æœº Jenkins çš„ç•Œé¢äº†ã€‚</p>

<h2>Jenkins é…ç½®</h2>

<p>Jenkins é»˜è®¤æ²¡æœ‰å®‰è£… <code>git</code> æ’ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨å®‰è£…ã€‚å¦‚ä¸‹å›¾ï¼Œåœ¨ Jenkins çš„ç•Œé¢å·¦ä¾§ï¼Œä¾æ¬¡ç‚¹å‡»ç³»ç»Ÿç®¡ç†ï¼Œç®¡ç†æ’ä»¶ï¼Œåœ¨å¯é€‰æ’ä»¶ä¸‹ï¼Œç­›é€‰ <code>git</code>ï¼Œç„¶åå‹¾é€‰ Git pluginï¼ŒGit server plugin å’Œ Git client pluginï¼Œç‚¹å‡»ä¸‹è½½å¾…é‡å¯åå®‰è£…æŒ‰é’®ï¼Œç­‰å¾…æ’ä»¶ä¸‹è½½å®‰è£…æˆåŠŸåï¼Œé‡å¯ Jenkins å°±å¯ä»¥äº†ã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160113-2@2x.png" alt="ç®¡ç†æ’ä»¶" /></p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160113-1@2x.png" alt="å®‰è£… git æ’ä»¶" /></p>

<p>å®‰è£…è¿‡ç¨‹ä¸­å¦‚æœé‡åˆ°ä¸‹é¢è¿™ç§é”™è¯¯ï¼Œæç¤ºæ’ä»¶ä¸‹è½½åœ°å€é”™è¯¯å¯¼è‡´å®‰è£…å¤±è´¥ï¼Œä»é”™è¯¯ä¿¡æ¯ä¸­æ‹·è´é‡å®šå‘åçš„åœ°å€æ‰‹åŠ¨ä¸‹è½½ï¼Œä¸‹è½½å®Œæˆåè¿›å…¥æ’ä»¶ç®¡ç†ï¼Œé€‰æ‹©é«˜çº§ï¼Œç„¶åä¸Šä¼ æ’ä»¶å®‰è£…å°±å¯ä»¥äº†ã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160113-3@2x.png" alt="å®‰è£…æ’ä»¶å¤±è´¥" /></p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160114-0@2x.png" alt="æ‰‹åŠ¨å®‰è£…æ’ä»¶" /></p>

<p>åœ¨ Jenkins ç³»ç»Ÿç®¡ç†ï¼Œç³»ç»Ÿè®¾ç½®ä¸­å¯ä»¥é…ç½®ç³»ç»Ÿç®¡ç†å‘˜é‚®ä»¶åœ°å€å’Œé‚®ä»¶é€šçŸ¥ï¼ŒJenkins å¯ä»¥åœ¨é€‚å½“çš„æ—¶æœºå‘é€é‚®ä»¶é€šçŸ¥ï¼Œå‘é€é‚®ä»¶ä½¿ç”¨çš„æ˜¯ <code>SMTP</code> åè®®ã€‚åœ¨è®¾ç½®é‚®ç®±æ—¶ï¼ŒJenkins ç®¡ç†å‘˜é‚®ç®±è¦ä¸ <code>SMTP</code> ä¸­è®¾ç½®çš„å‘é€é‚®ç®±ä¸ºåŒä¸€ä¸ªé‚®ç®±ã€‚è¿™é‡Œé…ç½®å®Œæˆåï¼Œå¯ä»¥å‘é€æµ‹è¯•é‚®ä»¶ï¼Œæµ‹è¯•æ˜¯å¦é…ç½®æˆåŠŸã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160114-1@2x.png" alt="é…ç½®ç³»ç»Ÿç®¡ç†å‘˜é‚®ä»¶åœ°å€" /></p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160114-2@2x.png" alt="é…ç½®é‚®ä»¶é€šçŸ¥" /></p>

<h2>æ–°å»ºé¡¹ç›®</h2>

<p>Jenkins é»˜è®¤ä½¿ç”¨å½“å‰ç”¨æˆ· <code>.ssh</code> ç›®å½•ä¸‹çš„å…¬ç§é’¥æ¥è¿›è¡Œ <code>git</code> çš„ç›¸å…³æ“ä½œã€‚åœ¨ Jenkins é¦–é¡µï¼Œç‚¹å‡»æ–°å»ºï¼Œè¾“å…¥é¡¹ç›®åç§°ï¼Œé€‰æ‹©æ„å»ºé¡¹ç›®çš„å±æ€§ï¼Œç„¶åç‚¹å‡» OKï¼Œè¿›å…¥é¡¹ç›®é…ç½®é¡µé¢ã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160114-3@2x.png" alt="åˆ›å»ºé¡¹ç›®" /></p>

<p>åœ¨é¡¹ç›®é…ç½®é¡µé¢ï¼Œæ‰¾åˆ°æºç ç®¡ç†ï¼Œé…ç½®é¡¹ç›®çš„è¿œç¨‹ä»“åº“ï¼Œå¡«å…¥é¡¹ç›®çš„è¿œç¨‹ä»“åº“ <code>git</code> åœ°å€ï¼Œä»¥åŠç¼–è¯‘æ„å»ºé¡¹ç›®çš„åˆ†æ”¯ã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160114-4@2x.png" alt="é¡¹ç›®é…ç½®" /></p>

<p>ä¸‹ä¸€æ­¥å°±æ˜¯å¯¹é¡¹ç›®ç¼–è¯‘çš„è®¾ç½®ï¼Œåœ¨é¡¹ç›®é…ç½®æœ€ä¸‹æ–¹çš„æ„å»ºé€‰é¡¹ï¼Œç‚¹å‡»å¢åŠ æ„å»ºæ­¥éª¤ï¼Œå¯ä»¥é€‰æ‹©é€šè¿‡ <code>shell</code> è„šæœ¬ç¼–è¯‘ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Jenkins è‡ªå¸¦çš„ Xcode æ’ä»¶ï¼ˆéœ€è¦å®‰è£… Xcode æ’ä»¶ï¼‰ã€‚ç¼–å†™è„šæœ¬ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ Xcode çš„ xcodebuild æ¥å†™ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ Facebook çš„ <a href="https://github.com/facebook/xctool">xctool</a> ã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160114-5@2x.png" alt="é¡¹ç›®ç¼–è¯‘è®¾ç½®" /></p>

<p>é¡¹ç›®æˆåŠŸç¼–è¯‘ä»¥åï¼Œå¯ä»¥è®¾ç½®ç¼–è¯‘æ„å»ºå‡ºæ¥çš„ ipa æ–‡ä»¶ä¿å­˜ä½ç½®ï¼ŒåŒæ—¶å¯ä»¥è®¾ç½®å½“ç¼–è¯‘æ„å»ºå¤±è´¥æ—¶çš„é‚®ä»¶æé†’ã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160114-6@2x.png" alt="ç¼–è¯‘åæ“ä½œè®¾ç½®" /></p>

<p>ä¸Šè¿°æ‰€æœ‰æ“ä½œå®Œæˆä¹‹åï¼Œç‚¹å‡»åº”ç”¨å¹¶ä¿å­˜ï¼Œå›åˆ°æµ‹è¯•é¡¹ç›®é¦–é¡µï¼Œä¾¿å¯ä»¥ç¼–è¯‘æ„å»ºé¡¹ç›®äº†ï¼Œé¡¹ç›®å¦‚æœéœ€è¦ä¿®æ”¹é…ç½®ï¼Œå¯ä»¥ç›´æ¥åœ¨é…ç½®é‡Œé¢ä¿®æ”¹ã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20160114-7@2x.png" alt="é¡¹ç›®åˆ›å»ºå®Œæˆ" /></p>

<h2>TODO</h2>

<p> æ¥ä¸‹æ¥å°±æ˜¯å­¦ä¹  Facebook çš„ xctool çš„ä½¿ç”¨&hellip;&hellip;</p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2016/01/13/ios-jenkins-use/'>https://lengmolehongyan.github.io/blog/2016/01/13/ios-jenkins-use/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[çº¦æŸå‰–æï¼ˆAnatomy of a Constraintï¼‰]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2016/01/02/anatomy-of-a-constraint/"/>
    <updated>2016-01-02T12:09:52+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2016/01/02/anatomy-of-a-constraint</id>
    <content type="html"><![CDATA[<p>è§†å›¾å±‚æ¬¡ç»“æ„ä¸Šçš„å¸ƒå±€æ˜¯ç”±ä¸€äº›åˆ—çš„å…¬å¼ï¼ˆçº¿æ€§æ–¹ç¨‹ï¼‰æ¥å®šä¹‰çš„ï¼Œæ¯ä¸ªçº¦æŸéƒ½æœ‰ä¸€ä¸ªå•ä¸€çš„è¡¨è¾¾å¼ï¼Œä½ çš„ç›®æ ‡å°±æ˜¯è¦è®©è¿™ä¸€ç³»åˆ—çš„è¡¨è¾¾å¼æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç»“æœã€‚</p>

<p>ç¤ºä¾‹å…¬å¼å¦‚ä¸‹ï¼š</p>

<!--more-->


<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/view_formula_2x.png" alt="view_formula" /></p>

<p>è¿™ä¸ªçº¦æŸå£°æ˜äº†çº¢è‰²è§†å›¾ï¼ˆviewï¼‰çš„å·¦è¾¹ï¼ˆleadingï¼‰è·ç¦»è“è‰²è§†å›¾ï¼ˆviewï¼‰çš„å³è¾¹ï¼ˆtrailingï¼‰å§‹ç»ˆä¿æŒ 8 ä¸ªç‚¹ï¼Œè¿™ä¸ªå…¬å¼æœ‰å¦‚ä¸‹å‡ é¡¹ï¼š</p>

<ul>
<li><strong>item 1ï¼ˆç¬¬ä¸€é¡¹ï¼‰</strong>ï¼šè¡¨è¾¾å¼ä¸­çš„ç¬¬ä¸€é¡¹ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå°±æ˜¯çº¢è‰²è§†å›¾ï¼ˆviewï¼‰ã€‚è¿™ä¸€é¡¹å¿…é¡»æ˜¯ä¸€ä¸ªè§†å›¾ï¼ˆviewï¼‰æˆ–è€…æ˜¯ä¸€ä¸ªå¸ƒå±€å‚è€ƒçº¿ï¼ˆlayout guideï¼‰ã€‚</li>
<li><strong>Attribute 1ï¼ˆå±æ€§ 1ï¼‰</strong>ï¼šè¦çº¦æŸè¡¨è¾¾å¼ä¸­ç¬¬ä¸€é¡¹çš„å±æ€§ï¼Œåœ¨æ­¤ä¾‹ä¸­ï¼Œå°±æ˜¯çº¢è‰²è§†å›¾ï¼ˆviewï¼‰çš„å·¦è¾¹ï¼ˆleadingï¼‰ã€‚</li>
<li><strong>Relationshipï¼ˆå…³ç³»ï¼‰</strong>ï¼šè¡¨è¾¾å¼å·¦å³ä¸¤è¾¹ä¹‹é—´çš„å…³ç³»ï¼Œæœ‰ä¸‰ç§å…³ç³»ï¼Œç­‰äºï¼Œå¤§äºç­‰äºï¼Œå°äºç­‰äºï¼Œåœ¨æ­¤ä¾‹ä¸­ï¼Œå·¦å³ä¸¤è¾¹æ˜¯ç›¸ç­‰çš„å…³ç³»ã€‚</li>
<li><strong>Multiplierï¼ˆä¹˜æ•°ï¼‰</strong>ï¼šæ­¤æµ®ç‚¹æ•°å€¼å°†ç”¨äºå’Œå±æ€§ 2 çš„å€¼ç›¸ä¹˜ï¼Œåœ¨æ­¤ä¾‹ä¸­ï¼Œè¿™ä¸ªå€¼æ˜¯ 1.0ã€‚</li>
<li><strong>Item 2ï¼ˆç¬¬äºŒé¡¹ï¼‰</strong>ï¼šè¡¨è¾¾å¼ä¸­çš„ç¬¬äºŒé¡¹ï¼Œåœ¨æ­¤ä¾‹ä¸­å°±æ˜¯è“è‰²è§†å›¾ï¼ˆviewï¼‰ï¼Œä¸åƒç¬¬ä¸€é¡¹ï¼Œè¿™ä¸€é¡¹å¯ä»¥æ˜¯ç©ºçš„ã€‚</li>
<li><strong>Attribute 2ï¼ˆå±æ€§ 2ï¼‰</strong>ï¼šè¦çº¦æŸè¡¨è¾¾å¼ä¸­ç¬¬äºŒé¡¹çš„å±æ€§ï¼Œåœ¨æ­¤ä¾‹ä¸­ï¼Œå°±æ˜¯è“è‰²è§†å›¾ï¼ˆviewï¼‰çš„å³è¾¹ï¼ˆtrailingï¼‰ã€‚å¦‚æœç¬¬äºŒé¡¹æ˜¯ç©ºï¼Œè¿™é‡Œä¸€å®šä¸æ˜¯ä¸€ä¸ªå±æ€§ã€‚</li>
<li><strong>Constantï¼ˆå¸¸é‡ï¼‰</strong>ï¼šä¸€ä¸ªè¡¨ç¤ºåç§»é‡çš„æµ®ç‚¹æ•°å¸¸é‡ï¼Œåœ¨æ­¤ä¾‹ä¸­ï¼Œå€¼æ˜¯ 8.0ã€‚è¿™ä¸ªå€¼æ˜¯ç”¨æ¥æ·»åŠ åˆ°å±æ€§ 2 ä¸Šçš„ã€‚</li>
</ul>


<p>ç•Œé¢ä¸Šçš„å¤§å¤šæ•°çº¦æŸæ˜¯ç”±ä¸¤é¡¹ä¹‹é—´çš„å…³ç³»è¡¨ç¤ºçš„ï¼Œè¿™äº›é¡¹å¯ä»¥æ˜¯è§†å›¾ï¼Œä¹Ÿå¯ä»¥æ˜¯å¸ƒå±€å‚è€ƒçº¿ã€‚çº¦æŸä¹Ÿå¯ä»¥è¡¨ç¤ºåŒä¸€è§†å›¾ä¸¤ä¸ªä¸åŒå±æ€§ä¹‹é—´çš„å…³ç³»ï¼Œæ¯”å¦‚ï¼Œè®¾ç½®è§†å›¾çš„å®½é«˜æ¯”ä¾‹ï¼Œä¹Ÿå¯ä»¥ç»™è§†å›¾çš„é«˜æˆ–å®½è®¾ç½®ä¸ºä¸€ä¸ªå¸¸é‡å€¼ï¼Œå½“è®¾ç½®ä¸ºå¸¸é‡å€¼æ—¶ï¼Œç¬¬äºŒé¡¹ä¸ºç©ºï¼Œç¬¬äºŒé¡¹çš„å±æ€§è®¾ç½®ä¸º Not An Attributeï¼Œä¹˜æ•°ä¸º 0.0ã€‚</p>

<h2>è‡ªåŠ¨å¸ƒå±€å±æ€§</h2>

<p>åœ¨è‡ªåŠ¨å¸ƒå±€ä¸­ï¼Œå±æ€§çš„åŠŸèƒ½å°±æ˜¯è¢«çº¦æŸçš„ï¼Œé€šå¸¸åŒ…æ‹¬å››ä¸ªè¾¹ç•Œï¼ˆå‰åä¸Šä¸‹ï¼‰ï¼Œè¿˜æœ‰é«˜åº¦ã€å®½åº¦ä»¥åŠå‚ç›´å’Œæ°´å¹³ä¸­å¿ƒã€‚æ–‡æœ¬æ§ä»¶è¿˜æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªåŸºçº¿ï¼ˆbaselineï¼‰å±æ€§ã€‚</p>

<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/attributes_2x.png" alt="attributes" /></p>

<p>æœ‰å…³å®Œæ•´çš„å¸ƒå±€å±æ€§åˆ—è¡¨ï¼Œå‚é˜… <a href="https://developer.apple.com/library/ios/documentation/AppKit/Reference/NSLayoutConstraint_Class/index.html#//apple_ref/c/tdef/NSLayoutAttribute">NSLayoutAttribute æšä¸¾</a> ã€‚</p>

<blockquote><p>æ³¨ï¼š</p>

<p>è™½ç„¶ OSX å’Œ iOS éƒ½æ˜¯ä½¿ç”¨ NSLayoutAttribute æšä¸¾ï¼Œä½†å®ƒä»¬å®šä¹‰çš„å€¼é›†ç¨æœ‰ä¸åŒï¼ŒæŸ¥é˜…å®Œæ•´å¸ƒå±€å±æ€§åˆ—è¡¨æ—¶ï¼Œè¯·ç¡®ä¿æŸ¥çœ‹çš„æ˜¯æ­£ç¡®å¹³å°çš„æ–‡æ¡£ã€‚</p></blockquote>

<h2>ç¤ºä¾‹æ–¹ç¨‹</h2>

<p>é€šè¿‡æ–¹ç¨‹ä¸­å¤§é‡çš„å‚æ•°å’Œå±æ€§å¯ä»¥åˆ›å»ºå¤šç§ä¸åŒç±»å‹çš„çº¦æŸï¼Œä½ å¯ä»¥å®šä¹‰ä¸¤ä¸ªè§†å›¾ä¹‹é—´çš„é—´è·ã€è§†å›¾è¾¹ç¼˜çš„å¯¹é½æ–¹å¼ã€ä¸¤ä¸ªè§†å›¾çš„ç›¸å¯¹å¤§å°ï¼Œç”šè‡³å®šä¹‰è§†å›¾çš„çºµæ¨ªæ¯”ã€‚ç„¶è€Œï¼Œå¹¶éæ‰€æœ‰å±æ€§éƒ½æ˜¯å…¼å®¹çš„ã€‚</p>

<p>æœ‰ä¸¤ç§åŸºæœ¬ç±»å‹çš„å±æ€§ï¼Œå¤§å°å±æ€§ï¼ˆä¾‹å¦‚ï¼Œé«˜åº¦å’Œå®½åº¦ï¼‰å’Œä½ç½®å±æ€§ï¼ˆä¾‹å¦‚ï¼Œå·¦è¾¹å’Œé¡¶éƒ¨ï¼‰ã€‚å¤§å°å±æ€§ç”¨äºæŒ‡å®šä¸€ä¸ªè§†å›¾æœ‰å¤šå¤§ï¼Œå¹¶ä¸æŒ‡å®šè§†å›¾çš„ä½ç½®ã€‚ä½ç½®å±æ€§ç”¨äºæŒ‡å®šè§†å›¾ç›¸å¯¹å…¶ä»–è§†å›¾çš„ä½ç½®ï¼ŒåŒæ ·ä¸æ¶‰åŠè§†å›¾çš„å¤§å°ã€‚</p>

<p>å¸¦ç€è¿™äº›å·®å¼‚ï¼Œå†çœ‹çœ‹ä¸‹é¢è¿™äº›è§„åˆ™ï¼š</p>

<ul>
<li>å¤§å°å±æ€§çš„çº¦æŸä¸èƒ½æ·»åŠ åˆ°ä½ç½®å±æ€§ä¸Š</li>
<li>å¤§å°å±æ€§åªèƒ½èµ‹å€¼å¸¸é‡</li>
<li>å¯¹äºä½ç½®å±æ€§ï¼Œä¸èƒ½å°†å‚ç›´å±æ€§çš„çº¦æŸæ·»åŠ åˆ°æ°´å¹³å±æ€§ä¸Š</li>
<li>å¯¹äºä½ç½®å±æ€§ï¼Œä¸èƒ½å°† Leading å’Œ Trailing å±æ€§çš„çº¦æŸæ·»åŠ åˆ° Left å’Œ Right å±æ€§ä¸Š</li>
</ul>


<p></p>


<p>ä¾‹å¦‚ï¼Œæ²¡æœ‰é¢å¤–çš„å±æ€§ä»…è®¾ç½®ä¸€ä¸ªè§†å›¾çš„é¡¶éƒ¨ä¸ºä¸€ä¸ªå¸¸é‡å€¼ 20.0 æ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå¿…é¡»æ€»æ˜¯å®šä¹‰æŸä¸€è§†å›¾ç›¸å¯¹äºå…¶ä»–è§†å›¾çš„ä½ç½®å±æ€§ï¼Œæ¯”å¦‚ï¼Œè®¾ç½®è·ç¦»å…¶çˆ¶è§†å›¾çš„é¡¶éƒ¨ä¸º 20.0 ä¸ªç‚¹ã€‚ç„¶è€Œï¼Œè®¾ç½®æŸä¸€è§†å›¾çš„é«˜åº¦æ˜¯ 20.0 æ˜¯æœ‰æ•ˆçš„ã€‚æ›´å¤šä¿¡æ¯ï¼Œå‚é˜… <a href="">è‡ªåŠ¨å¸ƒå±€å±æ€§å€¼è§£é‡Š</a>ã€‚</p>

<p>3-1 åˆ—å‡ºäº†ä¸åŒå¸¸è§çº¦æŸçš„è¡¨è¾¾å¼ã€‚</p>

<blockquote><p>æ³¨ï¼š</p>

<p>æœ¬ç« èŠ‚æ‰€æœ‰ç¤ºä¾‹æ–¹ç¨‹éƒ½æ˜¯ä½¿ç”¨çš„ä¼ªä»£ç ï¼Œæƒ³çœ‹å®é™…ä»£ç åˆ›å»ºçº¦æŸï¼Œå‚é˜… <a href="">è‡ªåŠ¨å¸ƒå±€æ‰‹å†Œ</a> å’Œ <a href="">ä»£ç åˆ›å»ºçº¦æŸ</a>ã€‚</p></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// 3-1 å¸¸è§çº¦æŸç¤ºä¾‹è¡¨è¾¾å¼</span>
</span><span class='line'><span class="c1">// è®¾ç½®é«˜åº¦å¸¸é‡å€¼</span>
</span><span class='line'><span class="n">View</span><span class="p">.</span><span class="n">height</span> <span class="o">=</span> <span class="mf">0.0</span> <span class="o">*</span> <span class="n">NotAnAttribute</span> <span class="o">+</span> <span class="mf">40.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è®¾ç½®ä¸¤ä¸ªæŒ‰é’®ä¹‹é—´çš„å›ºå®šé—´è·</span>
</span><span class='line'><span class="n">Button_2</span><span class="p">.</span><span class="n">leading</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Button_1</span><span class="p">.</span><span class="n">trailing</span> <span class="o">+</span> <span class="mf">8.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è®¾ç½®ä¸¤ä¸ªæŒ‰é’®çš„å‰éƒ¨è¾¹ç¼˜å¯¹é½</span>
</span><span class='line'><span class="n">Button_1</span><span class="p">.</span><span class="n">leading</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Button_2</span><span class="p">.</span><span class="n">leading</span> <span class="o">+</span> <span class="mf">0.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è®¾ç½®ä¸¤ä¸ªæŒ‰é’®çš„å®½åº¦ç›¸åŒ</span>
</span><span class='line'><span class="n">Button_1</span><span class="p">.</span><span class="n">width</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Button_2</span><span class="p">.</span><span class="n">width</span> <span class="o">+</span> <span class="mf">0.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è®¾ç½®è§†å›¾åœ¨å…¶çˆ¶è§†å›¾çš„ä¸­å¿ƒ</span>
</span><span class='line'><span class="n">View</span><span class="p">.</span><span class="n">centerX</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Superview</span><span class="p">.</span><span class="n">centerX</span> <span class="o">+</span> <span class="mf">0.0</span>
</span><span class='line'><span class="n">View</span><span class="p">.</span><span class="n">centerY</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Superview</span><span class="p">.</span><span class="n">centerY</span> <span class="o">+</span> <span class="mf">0.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è®¾ç½®è§†å›¾çš„å®½é«˜æ¯”ä¸ºä¸€ä¸ªå¸¸é‡å€¼</span>
</span><span class='line'><span class="n">View</span><span class="p">.</span><span class="n">height</span> <span class="o">=</span> <span class="mf">2.0</span> <span class="o">*</span> <span class="n">View</span><span class="p">.</span><span class="n">width</span> <span class="o">+</span> <span class="mf">0.0</span>
</span></code></pre></td></tr></table></div></figure>


<h2>ç›¸ç­‰ï¼Œä¸æ˜¯èµ‹å€¼</h2>

<p>æ³¨æ„ï¼Œç¤ºä¾‹ä¸­æ–¹ç¨‹çš„ç­‰å·è¡¨ç¤ºçš„æ˜¯ç›¸ç­‰ï¼Œè€Œä¸æ˜¯èµ‹å€¼ã€‚</p>

<p>å½“è‡ªåŠ¨å¸ƒå±€æ±‚è§£è¿™äº›æ–¹ç¨‹æ—¶ï¼Œå¹¶ä¸æ˜¯å°†ç­‰å¼å³è¾¹çš„å€¼èµ‹å€¼ç»™ç­‰å¼å·¦è¾¹ã€‚ç›¸åï¼Œå®ƒåŒæ—¶è®¡ç®—å±æ€§ 1 å’Œå±æ€§ 2 çš„å€¼ä½¿å®ƒä»¬ä¹‹é—´çš„å…³ç³»æˆç«‹ï¼Œè¿™å°±æ„å‘³ç€å¯ä»¥è‡ªç”±è°ƒæ•´è¡¨è¾¾å¼ä¸­çš„é¡¹ã€‚æ¯”å¦‚ï¼Œ3-2 ä¸­çš„æ–¹ç¨‹å°±å’Œ 3-1 çš„ç»“æœæ˜¯ç›¸åŒçš„ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// 3-2 åå‘æ–¹ç¨‹</span>
</span><span class='line'><span class="c1">// è®¾ç½®ä¸¤ä¸ªæŒ‰é’®ä¹‹é—´çš„å›ºå®šé—´è·</span>
</span><span class='line'><span class="n">Button_1</span><span class="p">.</span><span class="n">trailing</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Button_2</span><span class="p">.</span><span class="n">leading</span> <span class="o">-</span> <span class="mf">8.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è®¾ç½®ä¸¤ä¸ªæŒ‰é’®çš„å‰éƒ¨è¾¹ç¼˜å¯¹é½</span>
</span><span class='line'><span class="n">Button_2</span><span class="p">.</span><span class="n">leading</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Button_1</span><span class="p">.</span><span class="n">leading</span> <span class="o">+</span> <span class="mf">0.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è®¾ç½®ä¸¤ä¸ªæŒ‰é’®å®½åº¦ç›¸åŒ</span>
</span><span class='line'><span class="n">Button_2</span><span class="p">.</span><span class="n">width</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Button</span><span class="p">.</span><span class="n">width</span> <span class="o">+</span> <span class="mf">0.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è®¾ç½®è§†å›¾åœ¨å…¶çˆ¶è§†å›¾çš„ä¸­å¿ƒ</span>
</span><span class='line'><span class="n">Superview</span><span class="p">.</span><span class="n">centerX</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">View</span><span class="p">.</span><span class="n">centerX</span> <span class="o">+</span> <span class="mf">0.0</span>
</span><span class='line'><span class="n">Superview</span><span class="p">.</span><span class="n">centerY</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">View</span><span class="p">.</span><span class="n">centerY</span> <span class="o">+</span> <span class="mf">0.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è®¾ç½®è§†å›¾çš„å®½é«˜æ¯”ä¸ºä¸€ä¸ªå¸¸é‡å€¼</span>
</span><span class='line'><span class="n">View</span><span class="p">.</span><span class="n">width</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">View</span><span class="p">.</span><span class="n">height</span> <span class="o">+</span> <span class="mf">0.0</span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>æ³¨ï¼š</p>

<p>å½“é‡æ–°è°ƒæ•´æ–¹ç¨‹ä¸­çš„é¡¹æ—¶ï¼Œè¯·ç¡®ä¿è°ƒæ•´äº†ä¹˜æ•°å’Œå¸¸é‡ã€‚æ¯”å¦‚ï¼Œå¸¸é‡å€¼ 8.0 è¦å˜æˆ -8.0ï¼Œä¹˜æ•° 2.0 è¦å˜æˆ 0.5ï¼Œå¸¸é‡å€¼ 0.0 å’Œ ä¹˜æ•° 1.0 ä¿æŒä¸å˜ã€‚</p></blockquote>

<p>ä½ ä¼šå‘ç°ï¼Œè‡ªåŠ¨å¸ƒå±€ç»å¸¸æä¾›å¤šç§æ–¹å¼æ¥è§£å†³åŒæ ·çš„é—®é¢˜ã€‚ç†æƒ³æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥é€‰æ‹©çš„æ˜¯æœ€èƒ½æ¸…æ™°è¡¨è¾¾æ„å›¾çš„æ–¹æ¡ˆã€‚ç„¶è€Œï¼Œä¸åŒçš„å¼€å‘è€…æ— ç–‘ä¼šä¸åŒæ„å“ªä¸ªæ–¹æ¡ˆæ˜¯æœ€å¥½çš„ã€‚è¿™é‡Œï¼Œç›¸æ¯”æ­£ç¡®çš„æ–¹æ¡ˆï¼Œä¸€è´¯é€‰æ‹©å¥½çš„æ–¹æ¡ˆã€‚å¦‚æœä½ é€‰æ‹©ä¸€ç§æ–¹æ¡ˆï¼Œå¹¶åšæŒä½¿ç”¨ï¼Œä»é•¿è¿œæ¥çœ‹ï¼Œä½ å°†é‡åˆ°å¾ˆå°‘é—®é¢˜ã€‚æ¯”å¦‚ï¼Œæœ¬æŒ‡å—ä½¿ç”¨ä»¥ä¸‹è§„åˆ™ï¼š</p>

<ol>
<li>æ•´æ•°ä¹˜æ³•ä¼˜å…ˆäºå°æ•°ä¹˜æ³•ã€‚</li>
<li>æ­£æ•°ä¼˜å…ˆäºè´Ÿæ•°ã€‚</li>
<li>ä¸ç®¡åœ¨å“ªï¼Œè§†å›¾åº”è¯¥ä»¥ä»å‰åˆ°åï¼Œä»ä¸Šåˆ°ä¸‹çš„å¸ƒå±€é¡ºåºã€‚</li>
</ol>


<h2>åˆ›å»ºæ²¡æœ‰æ­§ä¹‰çš„ã€ä¸å†²çªçš„å¸ƒå±€</h2>

<p>å½“ä½¿ç”¨è‡ªåŠ¨å¸ƒå±€æ—¶ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯ï¼Œæä¾›ä¸€ç³»åˆ—æ–¹ç¨‹è®©å®ƒä»¬æœ‰ä¸”ä»…æœ‰ä¸€ç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚æœ‰æ­§ä¹‰çš„çº¦æŸæœ‰å¤šä¸ªå¯èƒ½çš„è§£å†³æ–¹æ¡ˆï¼Œå†²çªçš„çº¦æŸä¸ä¼šæœ‰æœ‰æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚</p>

<p>ä¸€èˆ¬æ¥è¯´ï¼Œé¡»ä¸ºæ¯ä¸ªè§†å›¾éƒ½æŒ‡å®šå¤§å°å’Œä½ç½®çš„çº¦æŸã€‚ä½†æ˜¯ï¼Œå¦‚æœçˆ¶è§†å›¾çš„å¤§å°å·²ç»è®¾ç½®ï¼ˆæ¯”å¦‚ï¼Œåœ¨ iOS ä¸­æ§åˆ¶å™¨çš„æ ¹è§†å›¾ï¼‰ï¼Œæ²¡æœ‰æ­§ä¹‰çš„ã€ä¸å†²çªçš„å¸ƒå±€éœ€è¦ä¸ºæ¯ä¸ªè§†å›¾çš„æ¯ä¸ªç»´åº¦çš„è®¾ç½®ä¸¤ä¸ªçº¦æŸæ¡ä»¶ï¼ˆä¸åŒ…æ‹¬çˆ¶è§†å›¾ï¼‰ã€‚ç„¶è€Œï¼Œåœ¨é€‰æ‹©ä½ æƒ³è¦ä½¿ç”¨çš„çº¦æŸçš„æ—¶æœ‰å¤§é‡çš„é€‰æ‹©ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„ä¸‰ç§æ–¹å¼éƒ½å¯ä»¥åˆ›å»ºå‡ºæ²¡æœ‰æ­§ä¹‰çš„ã€ä¸å†²çªçš„å¸ƒå±€ï¼ˆåªæ˜¾ç¤ºäº†æ°´å¹³æ–¹å‘çš„çº¦æŸï¼‰ï¼š</p>

<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/constraint_examples_2x.png" alt="constraint_examples" /></p>

<ul>
<li>ç¬¬ä¸€ç§å¸ƒå±€çº¦æŸäº†è§†å›¾çš„å·¦è¾¹ç¼˜ç›¸å¯¹äºçˆ¶è§†å›¾çš„å·¦è¾¹ç¼˜çš„ä½ç½®ï¼ŒåŒæ—¶è®¾ç½®äº†è¯¥è§†å›¾çš„å®½åº¦ï¼Œå³è¾¹ç¼˜çš„ä½ç½®å¯ä»¥åŸºäºçˆ¶è§†å›¾çš„å¤§å°ä»¥åŠå…¶ä»–çº¦æŸè®¡ç®—å‡ºæ¥ã€‚</li>
<li>ç¬¬äºŒç§å¸ƒå±€çº¦æŸäº†è§†å›¾çš„å·¦è¾¹ç¼˜ç›¸å¯¹äºçˆ¶è§†å›¾çš„å·¦è¾¹ç¼˜çš„ä½ç½®ï¼ŒåŒæ—¶çº¦æŸäº†è§†å›¾çš„å³è¾¹ç¼˜ç›¸å¯¹äºçˆ¶è§†å›¾çš„å³è¾¹ç¼˜çš„ä½ç½®ï¼Œè¯¥è§†å›¾çš„å®½åº¦å¯ä»¥åŸºäºçˆ¶è§†å›¾çš„å¤§å°ä»¥åŠå…¶ä»–çº¦æŸè®¡ç®—å‡ºæ¥ã€‚</li>
<li>ç¬¬ä¸‰ç§å¸ƒå±€çº¦æŸäº†è§†å›¾çš„å·¦è¾¹ç¼˜ç›¸å¯¹äºçˆ¶è§†å›¾çš„å·¦è¾¹ç¼˜çš„ä½ç½®ï¼ŒåŒæ—¶è¯¥è§†å›¾å’Œçˆ¶è§†å›¾ center ä¸­å¿ƒå¯¹é½ï¼Œè§†å›¾çš„å¤§å°å’Œè·ç¦»çˆ¶è§†å›¾å³è¾¹ç¼˜çš„ä½ç½®éƒ½å¯ä»¥åŸºäºçˆ¶è§†å›¾çš„å¤§å°ä»¥åŠå…¶ä»–çº¦æŸè®¡ç®—å‡ºæ¥ã€‚</li>
</ul>


<p>æ³¨æ„æ¯ç§å¸ƒå±€éƒ½æœ‰ä¸€ä¸ªè§†å›¾å’Œä¸¤ä¸ªæ°´å¹³æ–¹å‘çš„çº¦æŸã€‚åœ¨æ¯ç§æƒ…å†µä¸‹ï¼Œçº¦æŸå®Œå…¨å®šä¹‰äº†è§†å›¾çš„å®½åº¦å’Œæ°´å¹³ä½ç½®ã€‚è¿™æ„å‘³ç€æ‰€æœ‰çš„å¸ƒå±€æ²¿ç€æ°´å¹³è½´åˆ›å»ºäº†æ²¡æœ‰æ­§ä¹‰çš„ï¼Œä¸å†²çªçš„å¸ƒå±€ã€‚ç„¶è€Œè¿™äº›å¸ƒå±€å¹¶ä¸å®Œå…¨ç›¸åŒï¼Œæƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœçˆ¶è§†å›¾çš„å®½åº¦æ”¹å˜äº†å°†ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>

<p>åœ¨ç¬¬ä¸€ç§å¸ƒå±€ä¸­ï¼Œè§†å›¾çš„å®½åº¦ä¸ä¼šå‘ç”Ÿæ”¹å˜ã€‚å¤§å¤šæ•°æ—¶å€™ï¼Œè¿™å¹¶ä¸æ˜¯ä½ æ‰€æƒ³è¦çš„ã€‚äº‹å®ä¸Šï¼Œä½œä¸ºä¸€èˆ¬åŸåˆ™ï¼Œä½ åº”è¯¥é¿å…ç»™è§†å›¾çš„å¤§å°èµ‹å€¼å¸¸é‡ã€‚è‡ªåŠ¨å¸ƒå±€æ˜¯è®¾è®¡ç»™åˆ›å»ºå¸ƒå±€æ¥åŠ¨æ€é€‚åº”ä¸åŒçš„ç¯å¢ƒã€‚å½“ç»™è§†å›¾è®¾ç½®ä¸€ä¸ªå›ºå®šå¤§å°ï¼Œå°±å‰Šå¼±äº†è‡ªåŠ¨å¸ƒå±€çš„å¼ºå¤§äº†ã€‚</p>

<p>ç¬¬äºŒç§å¸ƒå±€å’Œç¬¬ä¸‰ç§å¸ƒå±€äº§ç”Ÿç›¸åŒçš„æ•ˆæœï¼Œå¯èƒ½å¹¶ä¸æ˜æ˜¾ï¼šçˆ¶è§†å›¾çš„å®½åº¦æ”¹å˜äº†ï¼Œå®ƒä»¬éƒ½å’Œçˆ¶è§†å›¾ä¿æŒä¸€ä¸ªå›ºå®šçš„é—´è·ã€‚ç„¶è€Œï¼Œå®ƒä»¬å¹¶ä¸ä¸€å®šç›¸åŒã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç¬¬äºŒä¸ªä¾‹å­æ›´å®¹æ˜“ç†è§£ï¼Œä½†æ˜¯ç¬¬ä¸‰ä¸ªä¾‹å­å¯èƒ½æ˜¯æ›´æœ‰ç”¨çš„ï¼Œå°¤å…¶æ˜¯è®¾ç½®ä¸€äº›è§†å›¾ center ä¸­å¿ƒå¯¹é½ã€‚ä¸€å¦‚æ—¢å¾€ï¼Œä¸ºä½ çš„ç‰¹ç‚¹å¸ƒå±€é€‰æ‹©æœ€ä½³çš„æ–¹æ³•ã€‚</p>

<p>ç°åœ¨è€ƒè™‘ä¸€äº›æ›´å¤æ‚çš„æƒ…å†µï¼Œå‡è®¾ä½ æƒ³åœ¨ä¸€ä¸ª iPhone ä¸Šæ˜¾ç¤ºä¸¤ä¸ªè§†å›¾ï¼Œä¸€è¾¹ä¸€ä¸ªï¼Œä½ éœ€è¦ç¡®ä¿å®ƒä»¬åœ¨å„è¾¹ç•Œä¸Šæœ‰ä¸ªå¥½çš„é—´è·ï¼Œä¸”æ€»æ˜¯æœ‰ç›¸åŒçš„å®½åº¦ï¼Œè€Œä¸”åœ¨è®¾å¤‡é€‰ä¸­çš„æ—¶å€™ï¼Œå®ƒä»¬ä¹Ÿèƒ½æ­£ç¡®çš„åšå‡ºè°ƒæ•´ã€‚</p>

<p>ä¸‹é¢çš„é™„å›¾å±•ç¤ºäº†åœ¨ç«–å±ã€æ¨ªå±æƒ…å†µä¸‹çš„ä¸¤ä¸ªè§†å›¾ï¼š</p>

<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/Blocks_Portrait_2x.png" alt="Blocks_Portrait" /></p>

<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/Blocks_Landscape_2x.png" alt="Blocks_Landscape" /></p>

<p>æ‰€ä»¥ï¼Œè¿™æ ·çš„çº¦æŸåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿä¸‹é¢çš„é™„å›¾æä¾›äº†ä¸€ç§è§£å†³æ–¹æ¡ˆï¼š</p>

<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/two_view_example_1_2x.png" alt="two_view_example_1" /></p>

<p>ä¸Šé¢çš„è§£å†³æ–¹æ¡ˆä½¿ç”¨äº†ä¸‹é¢è¿™äº›çº¦æŸï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// å‚ç›´çº¦æŸ</span>
</span><span class='line'><span class="n">Red</span><span class="p">.</span><span class="n">top</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Superview</span><span class="p">.</span><span class="n">top</span> <span class="o">+</span> <span class="mf">20.0</span>
</span><span class='line'><span class="n">Superview</span><span class="p">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Red</span><span class="p">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mf">20.0</span>
</span><span class='line'><span class="n">Blue</span><span class="p">.</span><span class="n">top</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Superview</span><span class="p">.</span><span class="n">top</span> <span class="o">+</span> <span class="mf">20.0</span>
</span><span class='line'><span class="n">Superview</span><span class="p">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Blue</span><span class="p">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mf">20.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// æ°´å¹³çº¦æŸ</span>
</span><span class='line'><span class="n">Red</span><span class="p">.</span><span class="n">leading</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Superview</span><span class="p">.</span><span class="n">leading</span> <span class="o">+</span> <span class="mf">20.0</span>
</span><span class='line'><span class="n">Blue</span><span class="p">.</span><span class="n">leading</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Red</span><span class="p">.</span><span class="n">trailing</span> <span class="o">+</span> <span class="mf">8.0</span>
</span><span class='line'><span class="n">Superview</span><span class="p">.</span><span class="n">trailing</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Blue</span><span class="p">.</span><span class="n">trailing</span> <span class="o">+</span> <span class="mf">20.0</span>
</span><span class='line'><span class="n">Red</span><span class="p">.</span><span class="n">width</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Blue</span><span class="p">.</span><span class="n">width</span> <span class="o">+</span> <span class="mf">0.0</span>
</span></code></pre></td></tr></table></div></figure>


<p>æŒ‰ç…§ä¹‹å‰çš„ç»éªŒæ³•åˆ™ï¼Œè¿™ç§å¸ƒå±€æœ‰ä¸¤ä¸ªè§†å›¾ï¼Œå››ä¸ªæ°´å¹³çº¦æŸå’Œå››ä¸ªå‚ç›´çº¦æŸã€‚è™½ç„¶è¿™ä¸æ˜¯ä¸€ä¸ªç»å¯¹æœ‰æ•ˆçš„æ³•åˆ™ï¼Œä½†å®ƒå¯ä»¥è¡¨ç¤ºå‡ºä½ å·²ç»åœ¨æ­£ç¡®çš„é“è·¯ä¸Šã€‚æ›´é‡è¦çš„æ˜¯ï¼Œçº¦æŸå”¯ä¸€æŒ‡å®šäº†æ¯ä¸ªè§†å›¾çš„å¤§å°å’Œä½ç½®ï¼Œç”Ÿæˆä¸€ä¸ªæ²¡æœ‰æ­§ä¹‰çš„ã€ä¸å†²çªçš„å¸ƒå±€ã€‚ç§»é™¤ä»»ä½•ä¸€ä¸ªçº¦æŸï¼Œå¸ƒå±€å°±ä¼šå˜æˆæœ‰æ­§ä¹‰çš„ï¼Œæ·»åŠ é¢å¤–çš„çº¦æŸï¼Œå°±ä¼šå¯¼è‡´çº¦æŸå†²çªã€‚</p>

<p>å½“ç„¶ï¼Œè¿™å¹¶ä¸æ˜¯å”¯ä¸€çš„è§£å†³æ–¹æ¡ˆã€‚è¿™æœ‰ä¸€ä¸ªåŒæ ·æœ‰æ•ˆçš„æ–¹æ³•ï¼š</p>

<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/two_view_example_2_2x.png" alt="two_view_example_2" /></p>

<p>ä»£æ›¿å›ºå®šè“è‰²è§†å›¾çš„é¡¶éƒ¨å’Œåº•éƒ¨è·ç¦»çˆ¶è§†å›¾çš„ä½ç½®ï¼Œè®©è“è‰²è§†å›¾å’Œçº¢è‰²è§†å›¾é¡¶éƒ¨å¯¹é½ï¼ŒåŒæ—¶è®©è“è‰²è§†å›¾å’Œçº¢è‰²è§†å›¾åº•éƒ¨å¯¹é½ï¼Œçº¦æŸå¦‚ä¸‹æ‰€ç¤ºï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// å‚ç›´çº¦æŸ</span>
</span><span class='line'><span class="n">Red</span><span class="p">.</span><span class="n">top</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Superview</span><span class="p">.</span><span class="n">top</span> <span class="o">+</span> <span class="mf">20.0</span>
</span><span class='line'><span class="n">Superview</span><span class="p">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Red</span><span class="p">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mf">20.0</span>
</span><span class='line'><span class="n">Red</span><span class="p">.</span><span class="n">top</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Blue</span><span class="p">.</span><span class="n">top</span> <span class="o">+</span> <span class="mf">0.0</span>
</span><span class='line'><span class="n">Red</span><span class="p">.</span><span class="n">bottom</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Blue</span><span class="p">.</span><span class="n">bottom</span> <span class="o">+</span> <span class="mf">0.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// æ°´å¹³çº¦æŸ</span>
</span><span class='line'><span class="n">Red</span><span class="p">.</span><span class="n">leading</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Superview</span><span class="p">.</span><span class="n">leading</span> <span class="o">+</span> <span class="mf">20.0</span>
</span><span class='line'><span class="n">Blue</span><span class="p">.</span><span class="n">leading</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Red</span><span class="p">.</span><span class="n">trailing</span> <span class="o">+</span> <span class="mf">8.0</span>
</span><span class='line'><span class="n">Superview</span><span class="p">.</span><span class="n">trailing</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Blue</span><span class="p">.</span><span class="n">trailing</span> <span class="o">+</span> <span class="mf">20.0</span>
</span><span class='line'><span class="n">Red</span><span class="p">.</span><span class="n">width</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Blue</span><span class="p">.</span><span class="n">width</span> <span class="o">+</span> <span class="mf">0.0</span>
</span></code></pre></td></tr></table></div></figure>


<p>è¯¥ä¾‹å­ä¸­ä»ç„¶æœ‰ä¸¤ä¸ªè§†å›¾ï¼Œå››ä¸ªæ°´å¹³çº¦æŸï¼Œå››ä¸ªå‚ç›´çº¦æŸï¼Œä»ç„¶ä¼šäº§ç”Ÿæ²¡æœ‰æ­§ä¹‰çš„ã€ä¸å†²çªçš„å¸ƒå±€ã€‚</p>

<blockquote><p>ä½†æ˜¯å“ªä¸ªæ›´å¥½å‘¢ï¼Ÿ</p>

<p>è¿™äº›æ–¹æ¡ˆéƒ½ä¼šäº§ç”Ÿæœ‰æ•ˆçš„å¸ƒå±€ï¼Œå› æ­¤å“ªä¸ªæ›´å¥½å‘¢ï¼Ÿ</p>

<p>ä¸å¹¸çš„æ˜¯ï¼Œå®¢è§‚è¯æ˜ä¸€ç§æ–¹æ³•ä¼˜äºå…¶ä»–æ–¹æ³•æ˜¯å‡ ä¹ä¸å¯èƒ½çš„ï¼Œå› ä¸ºæ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ã€‚</p>

<p>å½“ä¸€ä¸ªè§†å›¾è¢«ç§»é™¤äº†ï¼Œç¬¬ä¸€ç§æ–¹æ¡ˆç›¸å¯¹å¥½ä¸€ç‚¹ã€‚ä»è§†å›¾å±‚çº§ä¸Šç§»é™¤ä¸€ä¸ªè§†å›¾ï¼Œä¼šåŒæ—¶åˆ é™¤å’Œè¿™ä¸ªè§†å›¾ç›¸å…³çš„æ‰€æœ‰çº¦æŸã€‚å› æ­¤ï¼Œå½“ç§»é™¤çº¢è‰²è§†å›¾æ—¶ï¼Œè“è‰²è§†å›¾è¿˜ä¼šæœ‰ä¸‰ä¸ªçº¦æŸã€‚åªéœ€è¦å†æ·»åŠ ä¸€ä¸ªçº¦æŸï¼Œå°±ä¼šå†æ¬¡äº§ç”Ÿä¸€ä¸ªæœ‰æ•ˆçš„å¸ƒå±€ã€‚åœ¨ç¬¬äºŒç§æ–¹æ¡ˆä¸‹ï¼Œç§»é™¤çº¢è‰²è§†å›¾ï¼Œè“è‰²è§†å›¾å°±åªå‰©ä¸‹ä¸€ä¸ªçº¦æŸäº†ã€‚</p>

<p>å¦ä¸€æ–¹é¢ï¼Œç¬¬ä¸€ç§æ–¹æ¡ˆå¦‚æœä½ å¸Œæœ›è¿™ä¸¤ä¸ªè§†å›¾é¡¶éƒ¨å’Œåº•éƒ¨å¯¹é½ï¼Œå°±å¿…é¡»ç¡®ä¿å®ƒä»¬é¡¶éƒ¨å’Œåº•éƒ¨çº¦æŸçš„å¸¸äº®å€¼ç›¸åŒã€‚å¦‚æœæ”¹å˜äº†ä¸€ä¸ªå¸¸é‡å€¼ï¼Œä½ å¿…é¡»è®°ç€è¦ä¿®æ”¹å¦ä¸€ä¸ªã€‚</p></blockquote>

<h2>çº¦æŸä¸ç­‰å¼</h2>

<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‰€æœ‰ç¤ºä¾‹çš„çº¦æŸéƒ½æ˜¯ç­‰å¼ï¼Œä½†è¿™åªæ˜¯ä¸€éƒ¨åˆ†ã€‚çº¦æŸè¡¨è¾¾å¼ä¹Ÿå¯ä»¥è¡¨ç¤ºä¸ºä¸ç­‰å¼ï¼Œå…·ä½“è€Œè¨€ï¼Œçº¦æŸçš„å…³ç³»å¯ä»¥æ˜¯ç­‰äºã€å¤§äºç­‰äºã€å°äºç­‰äºã€‚</p>

<p>ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨çº¦æŸæ¥è®¾ç½®ä¸€ä¸ªè§†å›¾çš„æœ€å°æˆ–è€…æœ€å¤§å°ºå¯¸ï¼ˆè¡¨ 3-3ï¼‰ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="err">è¡¨</span> <span class="mi">3</span><span class="o">-</span><span class="mi">3</span> <span class="err">è®¾ç½®æœ€å°å’Œæœ€å¤§å°ºå¯¸</span>
</span><span class='line'><span class="c1">// è®¾ç½®æœ€å°å®½åº¦</span>
</span><span class='line'><span class="n">View</span><span class="p">.</span><span class="n">width</span> <span class="o">&gt;=</span> <span class="mf">0.0</span> <span class="o">*</span> <span class="n">NotAnAttribute</span> <span class="o">+</span> <span class="mf">40.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// è®¾ç½®æœ€å¤§å®½åº¦</span>
</span><span class='line'><span class="n">View</span><span class="p">.</span><span class="n">width</span> <span class="o">&lt;=</span> <span class="mf">0.0</span> <span class="o">*</span> <span class="n">NotAnAttribute</span> <span class="o">+</span> <span class="mf">280.0</span>
</span></code></pre></td></tr></table></div></figure>


<p>ä¸€æ—¦å¼€å§‹ä½¿ç”¨ä¸ç­‰å¼ï¼Œæ¯ä¸ªè§†å›¾æ¯ä¸ªç»´åº¦ä¸Šçš„ä¸¤ä¸ªçº¦æŸçš„è§„åˆ™å°±ä¼šæ‰“ç ´ï¼Œä½ æ€»æ˜¯å¯ä»¥ç”¨ä¸¤ä¸ªä¸ç­‰å¼æ¥ä»£æ›¿ä¸€ä¸ªç­‰å¼å…³ç³»ã€‚åœ¨è¡¨ 3-4 ä¸­ï¼Œå•ä¸€çš„ç­‰å¼å…³ç³»å’Œä¸€ç»„ä¸ç­‰å¼äº§ç”Ÿç›¸åŒçš„æ•ˆæœã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="err">è¡¨</span> <span class="mi">3</span><span class="o">-</span><span class="mi">4</span> <span class="err">ç”¨ä¸¤ä¸ªä¸ç­‰å¼æ¥ä»£æ›¿ä¸€ä¸ªç­‰å¼å…³ç³»</span>
</span><span class='line'><span class="c1">// å•ä¸€çš„ç­‰å¼å…³ç³»</span>
</span><span class='line'><span class="n">Blue</span><span class="p">.</span><span class="n">leading</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Red</span><span class="p">.</span><span class="n">trailing</span> <span class="o">+</span> <span class="mf">8.0</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// å¯ä»¥æ›¿æ¢ä¸ºä¸¤ä¸ªä¸ç­‰å¼</span>
</span><span class='line'><span class="n">Blue</span><span class="p">.</span><span class="n">leading</span> <span class="o">&gt;=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Red</span><span class="p">.</span><span class="n">trailing</span> <span class="o">+</span> <span class="mf">8.0</span>
</span><span class='line'><span class="n">Blue</span><span class="p">.</span><span class="n">leading</span> <span class="o">&lt;=</span> <span class="mf">1.0</span> <span class="o">*</span> <span class="n">Red</span><span class="p">.</span><span class="n">trailing</span> <span class="o">+</span> <span class="mf">8.0</span>
</span></code></pre></td></tr></table></div></figure>


<p>åè¿‡æ¥åˆ™å°±ä¸ä¸€å®šæˆç«‹ï¼Œå› ä¸ºä¸¤ä¸ªä¸ç­‰å¼å¹¶ä¸æ€»æ˜¯ç­‰äºä¸€ä¸ªç­‰å¼ã€‚æ¯”å¦‚ï¼Œåœ¨è¡¨ 3-3 ä¸­çš„ä¸ç­‰å¼é™åˆ¶äº†è§†å›¾å®½åº¦çš„å¯èƒ½å¤§å°èŒƒå›´ï¼Œä½†æ˜¯æ²¡æœ‰è®¾ç½®å®ƒçš„å®½åº¦å…·ä½“å€¼ï¼Œä½ ä»ç„¶éœ€è¦åœ¨è¿™ä¸ªèŒƒå›´å†…æ·»åŠ é¢å¤–çš„æ°´å¹³çº¦æŸæ¥è®¾ç½®è§†å›¾çš„ä½ç½®å’Œå¤§å°ã€‚</p>

<h2>çº¦æŸä¼˜å…ˆçº§</h2>

<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çº¦æŸéƒ½æ˜¯å¿…éœ€çš„ã€‚è‡ªåŠ¨å¸ƒå±€å¿…é¡»è®¡ç®—å‡ºä¸€ç§æ–¹æ¡ˆæ¥æ»¡è¶³æ‰€æœ‰çº¦æŸã€‚å¦‚æœä¸èƒ½ï¼Œåˆ™ä¼šæŠ¥é”™ã€‚è‡ªåŠ¨å¸ƒå±€ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºå¸ƒå±€å†²çªçš„ä¿¡æ¯ï¼Œå¹¶å¹²æ‰å…¶ä¸­ä¸€ä¸ªçº¦æŸï¼Œç„¶åé‡æ–°è®¡ç®—å‡ºæ–°çš„æ–¹æ¡ˆã€‚æ›´å¤šä¿¡æ¯ï¼Œå‚é˜… <a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/ConflictingLayouts.html#//apple_ref/doc/uid/TP40010853-CH19-SW1">çº¦æŸå†²çª</a>ã€‚</p>

<p>ä½ ä¹Ÿå¯ä»¥åˆ›å»ºå¯é€‰çº¦æŸã€‚æ‰€æœ‰çº¦æŸéƒ½æœ‰ä¸€ä¸ªä» 1 åˆ° 1000 çš„ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§ä¸º 1000 çš„çº¦æŸæ˜¯å¿…é¡»çš„ï¼Œå…¶ä»–çº¦æŸéƒ½æ˜¯å¯é€‰çš„ã€‚</p>

<p>å½“è®¡ç®—å¸ƒå±€æ–¹æ¡ˆæ—¶ï¼Œè‡ªåŠ¨å¸ƒå±€æŒ‰ç…§ä¼˜å…ˆçº§ä»é«˜åˆ°ä½çš„é¡ºåºå°è¯•æ»¡è¶³æ‰€æœ‰çº¦æŸã€‚å¦‚æœä¸èƒ½æ»¡è¶³ä¸€ä¸ªå¯é€‰çº¦æŸï¼Œè¿™ä¸ªçº¦æŸå°±ä¼šè¢«è·³è¿‡ï¼Œç»§ç»­ä¸‹ä¸€ä¸ªçº¦æŸã€‚</p>

<p>å³ä½¿ä¸€ä¸ªå¯é€‰çº¦æŸä¸èƒ½æ»¡è¶³ï¼Œå®ƒä»ç„¶å¯ä»¥å½±å“å¸ƒå±€ã€‚å¦‚æœåœ¨è·³è¿‡å¯é€‰çº¦æŸåçš„å¸ƒå±€ä¸­ï¼Œæœ‰ä»»ä½•æœ‰æ­§ä¹‰çš„ï¼Œç³»ç»Ÿä¼šé€‰æ‹©æœ€æ¥è¿‘è¿™ä¸ªçº¦æŸçš„å¸ƒå±€æ–¹æ¡ˆã€‚ä»¥è¿™ç§æ–¹å¼ï¼Œä¸æ»¡è¶³çš„å¯é€‰çº¦æŸä½œä¸ºä¸€ç§åŠ›å°†è§†å›¾æ‹‰å‘ä»–ä»¬ã€‚</p>

<p>å¯é€‰çº¦æŸå’Œä¸ç­‰å¼ç»å¸¸ä¸€èµ·å·¥ä½œã€‚æ¯”å¦‚ï¼Œåœ¨è¡¨ 3-4 ä¸­ï¼Œå¯ä»¥å°†ä¸¤ä¸ªä¸ç­‰å¼æ”¹ä¸ºä¸åŒçš„ä¼˜å…ˆçº§ã€‚å¤§äºç­‰äºçš„å…³ç³»å¯ä»¥è¡¨ç¤ºä¸ºå¿…é¡»çš„ï¼ˆä¼˜å…ˆçº§ä¸º1000ï¼‰ï¼Œå°äºç­‰äºçš„å…³ç³»è¡¨ç¤ºä¸ºä½ä¼˜å…ˆçº§ï¼ˆä¼˜å…ˆçº§ä¸º250ï¼‰ã€‚è¿™å°±æ„å‘³ç€ï¼Œè“è‰²è§†å›¾ä¸èƒ½æ¯”ä»çº¢è‰²è§†å›¾çš„ 8.0 ä¸ªç‚¹æ›´è¿‘ã€‚ç„¶è€Œï¼Œå…¶ä»–çº¦æŸä¼šæŠŠå®ƒæ‹‰å¾—æ›´è¿œã€‚ä¸è¿‡ï¼Œå¯é€‰çº¦æŸæŠŠè“è‰²è§†å›¾æ‹‰å‘çº¢è‰²è§†å›¾ï¼Œç¡®ä¿åœ¨å¸ƒå±€ä¸­æ·»åŠ å…¶å®ƒçº¦æŸèƒ½å°½å¯èƒ½åœ°æ¥è¿‘ 8.0 ç‚¹çš„é—´è·ã€‚</p>

<blockquote><p>æ³¨ï¼š</p>

<p>ä¸è¦è§‰å¾—å¿…é¡»ä½¿ç”¨ä¼˜å…ˆçº§ä¸º 1000 çš„å€¼ã€‚äº‹å®ä¸Šï¼Œä¼˜å…ˆçº§ä¸€èˆ¬é›†ä¸­ä½¿ç”¨å›´ç»•ç³»ç»Ÿå®šä¹‰çš„ä½ï¼ˆ250ï¼‰ï¼Œä¸­ï¼ˆ500ï¼‰ï¼Œé«˜ï¼ˆ750ï¼‰ï¼Œå¿…é¡»çš„ï¼ˆ1000ï¼‰ä¼˜å…ˆçº§ã€‚ä½ å¯èƒ½éœ€è¦è®©çº¦æŸçš„ä¼˜å…ˆçº§æ¯”è¿™äº›å€¼é«˜æˆ–ä½ä¸€ä¸¤ä¸ªç‚¹æ¥å¸®åŠ©é˜²æ­¢å…³ç³»ã€‚å¦‚æœä½ çš„å€¼è¿œè¶…ä¸€ä¸¤ä¸ªç‚¹ï¼Œä½ å¯èƒ½è¦é‡æ–°æ£€æŸ¥ä½ çš„å¸ƒå±€é€»è¾‘äº†ã€‚</p>

<p>åœ¨ iOS ä¸Šå®šä¹‰çš„çº¦æŸä¼˜å…ˆçº§å¸¸é‡ï¼Œå‚é˜… <a href="https://developer.apple.com/library/ios/documentation/AppKit/Reference/NSLayoutConstraint_Class/index.html#//apple_ref/c/tdef/UILayoutPriority">UILayoutPriority</a> æšä¸¾ã€‚å¯¹äº OS Xï¼Œå‚é˜… Layout Priorities å¸¸é‡ã€‚</p></blockquote>

<h2>å›ºæœ‰å†…å®¹å¤§å°</h2>

<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‰€æœ‰ç¤ºä¾‹éƒ½æ˜¯ä½¿ç”¨çº¦æŸæ¥å®šä¹‰è§†å›¾çš„ä½ç½®å’Œå¤§å°ã€‚ç„¶è€Œï¼Œä¸€äº›è§†å›¾ä¾æ®ç»™å®šçš„å†…å®¹æœ‰ä¸€ä¸ªåŸç”Ÿçš„å¤§å°ã€‚è¿™å°±ç§°ä¸ºå®ƒä»¬çš„ <em>å›ºæœ‰å†…å®¹å¤§å°</em>ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªæŒ‰é’®çš„å›ºæœ‰å†…å®¹å¤§å°å°±æ˜¯å®ƒçš„æ ‡é¢˜åŠ ä¸Šä¸€ä¸ªå°çš„é—´è·ã€‚</p>

<p>å¹¶ä¸æ˜¯æ‰€æœ‰è§†å›¾éƒ½æœ‰å›ºæœ‰å†…å®¹å¤§å°ã€‚å¯¹äºæœ‰å›ºæœ‰å†…å®¹å¤§å°çš„è§†å›¾ï¼Œå›ºæœ‰å†…å®¹å¤§å°ä¼šå®šä¹‰è§†å›¾çš„å®½ï¼Œé«˜ï¼Œæˆ–è€…å®½é«˜éƒ½å®šä¹‰ã€‚è¡¨ 3-1 åˆ—ä¸¾äº†ä¸€äº›ä¾‹å­ã€‚</p>

<p><strong>è¡¨ 3-1</strong> å¸¸ç”¨æ§ä»¶çš„å›ºæœ‰å†…å®¹å¤§å°</p>

<table>
<thead>
<tr>
<th>æ§ä»¶ </th>
<th> å›ºæœ‰å†…å®¹å¤§å°</th>
</tr>
</thead>
<tbody>
<tr>
<td>UIVie å’Œ NSView </td>
<td> æ²¡æœ‰å›ºæœ‰å†…å®¹å¤§å°ã€‚</td>
</tr>
<tr>
<td>Sliders </td>
<td> åªå®šä¹‰äº†å®½åº¦ï¼ˆiOSï¼‰ã€‚<p></p>å®šä¹‰å®½åº¦ï¼Œé«˜åº¦ï¼Œæˆ–è€…éƒ½å®šä¹‰â€”â€”å–å†³äº slider çš„ç±»å‹ï¼ˆOSXï¼‰ã€‚</td>
</tr>
<tr>
<td>Labelsï¼Œbuttonsï¼Œswitchesï¼ŒtextFields </td>
<td> é«˜åº¦å®½åº¦éƒ½å®šä¹‰ã€‚</td>
</tr>
<tr>
<td>TextViewsï¼ŒimageViews </td>
<td> å›ºæœ‰å†…å®¹å¤§å°ä¼šæ”¹å˜</td>
</tr>
</tbody>
</table>


<p>å›ºæœ‰å†…å®¹å¤§å°å–å†³äºè§†å›¾å½“å‰çš„å†…å®¹ã€‚ä¸€ä¸ª label æˆ–è€… button çš„å›ºæœ‰å†…å®¹å¤§å°æ˜¯åŸºäºæ‰€æ˜¾ç¤ºæ–‡æœ¬çš„æ•°é‡å’Œæ‰€ä½¿ç”¨çš„å­—ä½“ã€‚å¯¹äºå…¶ä»–è§†å›¾ï¼Œå›ºæœ‰å†…å®¹å¤§å°æ›´åŠ å¤æ‚ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ²¡æœ‰å›¾ç‰‡çš„ imageView æ˜¯æ²¡æœ‰å›ºæœ‰å†…å®¹å¤§å°çš„ï¼Œå½“ä½ ç»™å®ƒæ·»åŠ ä¸€ä¸ªå›¾ç‰‡åï¼Œå®ƒçš„å›ºæœ‰å†…å®¹å¤§å°å°±æ˜¯å›¾ç‰‡çš„å¤§å°ã€‚</p>

<p>TextView çš„å›ºæœ‰å†…å®¹å¤§å°çš„æ”¹å˜å–å†³äºå®ƒçš„å†…å®¹ï¼Œä»¥åŠæ˜¯å¦å¯ä»¥æ»šåŠ¨ï¼Œå’Œç»™å®ƒæ·»åŠ çš„å…¶ä»–çº¦æŸã€‚æ¯”å¦‚ï¼Œå¼€å¯æ»šåŠ¨åï¼Œå®ƒå°±æ²¡æœ‰å›ºæœ‰å†…å®¹å¤§å°äº†ã€‚å…³é—­æ»šåŠ¨åï¼Œå®ƒçš„å›ºæœ‰å†…å®¹å¤§å°é»˜è®¤æ˜¯æ ¹æ®æ²¡æœ‰ä»»ä½•æ¢è¡Œæ–‡æœ¬çš„å¤§å°è®¡ç®—çš„ã€‚å¦‚æœæ–‡æœ¬ä¸­æ²¡æœ‰æ¢è¡Œï¼Œå®ƒè®¡ç®—æ‰€éœ€å®½åº¦å’Œé«˜åº¦æ¥å¸ƒå±€å†…å®¹ä¸ºä¸€ä¸ªå•è¡Œæ–‡æœ¬ã€‚å¦‚æœä¸ºå®ƒæ·»åŠ å®½åº¦çº¦æŸï¼Œå›ºæœ‰å†…å®¹å¤§å°ä¾æ®ç»™å®šçš„å®½åº¦å®šä¹‰æ‰€éœ€é«˜åº¦æ¥å±•ç¤ºæ–‡æœ¬ã€‚</p>

<p>è‡ªåŠ¨å¸ƒå±€ç”¨æ¯ä¸ªç»´åº¦ä¸Šçš„ä¸€ç»„çº¦æŸæ¥è¡¨ç¤ºè§†å›¾çš„å›ºæœ‰å†…å®¹å¤§å°ã€‚å†…å®¹å‹ç¼©ï¼ˆcontent huggingï¼‰å°†è§†å›¾å‘å†…æ‹‰ï¼Œä½¿å®ƒç´§é å†…å®¹ã€‚æŠ—å†…å®¹å‹ç¼©ï¼ˆcompression resistanceï¼‰å°†è§†å›¾å‘å¤–æ¨ï¼Œä½¿å®ƒä¸è£å‰ªå†…å®¹ã€‚</p>

<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/intrinsic_content_size_2x.png" alt="intrinsic_content_size" /></p>

<p>è¿™äº›çº¦æŸæ˜¯ä½¿ç”¨è¡¨ 3-5 æ‰€åˆ—å‡ºçš„ä¸ç­‰å¼å®šä¹‰çš„ã€‚è¿™é‡Œçš„ <code>IntrinsicHeight</code> å’Œ <code>IntrinsicWidth</code> å¸¸é‡ä»£è¡¨çš„æ˜¯ä»è§†å›¾çš„å›ºæœ‰å†…å®¹å¤§å°ä¸­å¾—åˆ°çš„é«˜åº¦å’Œå®½åº¦ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="err">è¡¨</span><span class="mi">3</span><span class="o">-</span><span class="mi">5</span> <span class="err">é˜»æ­¢å†…å®¹å‹ç¼©å’Œå†…å®¹å‹ç¼©</span>
</span><span class='line'><span class="c1">// æŠ—å†…å®¹å‹ç¼©</span>
</span><span class='line'><span class="n">View</span><span class="p">.</span><span class="n">height</span> <span class="o">&gt;=</span> <span class="mf">0.0</span> <span class="o">*</span> <span class="n">NotAnAttribute</span> <span class="o">+</span> <span class="n">IntrinsicHeight</span>
</span><span class='line'><span class="n">View</span><span class="p">.</span><span class="n">width</span> <span class="o">&gt;=</span> <span class="mf">0.0</span> <span class="o">*</span> <span class="n">NotAnAttribute</span> <span class="o">+</span> <span class="n">IntrinsicWidth</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// å†…å®¹å‹ç¼©</span>
</span><span class='line'><span class="n">View</span><span class="p">.</span><span class="n">height</span> <span class="o">&lt;=</span> <span class="mf">0.0</span> <span class="o">*</span> <span class="n">NotAnAttribute</span> <span class="o">+</span> <span class="n">IntrinsicHeight</span>
</span><span class='line'><span class="n">View</span><span class="p">.</span><span class="n">width</span> <span class="o">&lt;=</span> <span class="mf">0.0</span> <span class="o">*</span> <span class="n">NotAnAttribute</span> <span class="o">+</span> <span class="n">IntrinsicWidth</span>
</span></code></pre></td></tr></table></div></figure>


<p>æ¯ä¸€ä¸ªçº¦æŸéƒ½æœ‰å®ƒè‡ªå·±çš„ä¼˜å…ˆçº§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè§†å›¾ä½¿ç”¨ 250 ä½œä¸ºå†…å®¹å‹ç¼©ä¼˜å…ˆçº§ï¼Œ750 ä½œä¸ºæŠ—å†…å®¹å‹ç¼©ä¼˜å…ˆçº§ã€‚å› æ­¤ï¼Œæ‹‰ä¼¸è§†å›¾æ¯”å‹ç¼©è§†å›¾ç®€å•ã€‚å¯¹äºå¤§å¤šæ•°æ§ä»¶ï¼Œè¿™æ˜¯æ‰€æœŸæœ›çš„è¡Œä¸ºã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥å®‰å…¨åœ°æ‹‰ä¼¸æŒ‰é’®è¶…è¿‡å®ƒçš„å›ºæœ‰å†…å®¹å¤§å°ï¼Œä½†æ˜¯å¦‚æœä½ å‹ç¼©å®ƒï¼Œå®ƒçš„å†…å®¹å°±ä¼šè¢«è£å‰ªã€‚æ³¨æ„ï¼ŒInterface Builder å¶å°”å¯èƒ½ä¼šä¿®æ”¹è¿™äº›ä¼˜å…ˆçº§æ¥å¸®åŠ©é˜²æ­¢å…³ç³»é”™è¯¯ã€‚æ›´å¤šä¿¡æ¯ï¼Œå‚é˜… <a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/WorkingwithConstraintsinInterfaceBuidler.html#//apple_ref/doc/uid/TP40010853-CH10-SW2">è®¾ç½®å†…å®¹å‹ç¼©å’ŒæŠ—å†…å®¹å‹ç¼©ä¼˜å…ˆçº§</a>ã€‚</p>

<p>åªè¦æœ‰å¯èƒ½ï¼Œå°½é‡åœ¨ä½ çš„å¸ƒå±€ä¸­ä½¿ç”¨è§†å›¾çš„å›ºæœ‰å†…å®¹å¤§å°ã€‚å®ƒå¯ä»¥è®©ä½ çš„å¸ƒå±€åŠ¨æ€é€‚åº”è§†å›¾å†…å®¹çš„æ”¹å˜ã€‚å®ƒä¹Ÿä¸ºä½ åˆ›å»ºæ²¡æœ‰æ­§ä¹‰ã€ä¸å†²çªçš„å¸ƒå±€å‡å°‘äº†ä¸€äº›çº¦æŸï¼Œä½†æ˜¯ä½ éœ€è¦ç®¡ç†è§†å›¾çš„å†…å®¹å‹ç¼©ä¼˜å…ˆçº§å’ŒæŠ—å†…å®¹å‹ç¼©ä¼˜å…ˆçº§ï¼ˆCHCRï¼‰ã€‚è¿™é‡Œæœ‰ä¸€äº›å¤„ç†å›ºæœ‰å†…å®¹å¤§å°çš„æŒ‡å—ï¼š</p>

<ul>
<li><p>å½“ä¸ºäº†å¡«å……ä¸€ä¸ªç©ºé—´éœ€è¦æ‹‰ä¼¸æ‰€æœ‰è§†å›¾æ—¶ï¼Œå¦‚æœå®ƒä»¬éƒ½æœ‰ä¸€ä¸ªç›¸åŒçš„å†…å®¹å‹ç¼©ä¼˜å…ˆçº§ï¼Œè¿™ä¸ªå¸ƒå±€å°±ä¼šæ˜¯æœ‰æ­§ä¹‰çš„ã€‚è‡ªåŠ¨å¸ƒå±€ä¸çŸ¥é“è¯¥æ‹‰ä¼¸å“ªä¸ªè§†å›¾ã€‚</p>

<p>ä¸€ä¸ªå¸¸è§çš„ä¾‹å­å°±æ˜¯ label å’Œ textField çš„ç»„åˆã€‚é€šå¸¸ï¼Œä½ å¸Œæœ› textField æ‹‰ä¼¸æ¥å¡«å……ç©ºä½™ç©ºé—´ï¼Œlabel åˆ™ä¿æŒè‡ªå·±çš„å›ºæœ‰å†…å®¹å¤§å°ã€‚ä¸ºäº†è¾¾åˆ°è¿™ä¸ªæ•ˆæœï¼Œç¡®ä¿ textField çš„æ°´å¹³å†…å®¹å‹ç¼©ä¼˜å…ˆçº§æ¯” label çš„å°ã€‚</p>

<p>äº‹å®ä¸Šï¼Œè¿™ç§ä¾‹å­å¤ªå¸¸è§ä»¥è‡³äº Interface Builder å·²ç»ä¸ºä½ è‡ªåŠ¨å¤„ç†ï¼Œå³ä¸ºæ‰€æœ‰çš„ label è®¾ç½®å†…å®¹å‹ç¼©ä¼˜å…ˆçº§ä¸º 251ã€‚å¦‚æœæ˜¯ä»£ç åˆ›å»ºå¸ƒå±€ï¼Œä½ éœ€è¦è‡ªå·±åŠ¨æ‰‹ä¿®æ”¹å†…å®¹å‹ç¼©ä¼˜å…ˆçº§ã€‚</p></li>
<li><p>å½“æœ‰ä¸å¯è§èƒŒæ™¯çš„è§†å›¾ï¼ˆæ¯”å¦‚ buttons å’Œ labelsï¼‰ä¸å°å¿ƒè¢«æ‹‰ä¼¸ç»å¸¸ä¼šäº§ç”Ÿå¥‡æ€ªçš„å’Œæ„æƒ³ä¸åˆ°çš„å¸ƒå±€ã€‚å®é™…é—®é¢˜ä¸­å¯èƒ½å¹¶ä¸æ˜æ˜¾ï¼Œå› ä¸ºæ–‡æœ¬åªæ˜¯å‡ºç°åœ¨äº†ä¸€ä¸ªé”™è¯¯çš„ä½ç½®ã€‚ä¸ºäº†é˜²æ­¢ä¸å¿…è¦çš„æ‹‰ä¼¸ï¼Œå°è¯•å¢å¤§å†…å®¹å‹ç¼©ä¼˜å…ˆçº§ã€‚</p></li>
<li>è§†å›¾çš„åŸºçº¿çº¦æŸåªåœ¨å›ºæœ‰å†…å®¹é«˜åº¦èµ·ä½œç”¨ï¼Œå¦‚æœä¸€ä¸ªè§†å›¾è¢«å‚ç›´æ‹‰ä¼¸æˆ–è€…å‹ç¼©ï¼ŒåŸºçº¿çº¦æŸå°†ä¸å†æ­£ç¡®å¯¹é½ã€‚</li>
<li>ä¸€äº›æ§ä»¶ï¼Œæ¯”å¦‚ UISwitchï¼Œåº”è¯¥å§‹ç»ˆæ˜¾ç¤ºå…¶å›ºæœ‰å†…å®¹å¤§å°ï¼Œæ ¹æ®éœ€è¦å¢åŠ  CHCR ä»¥é˜²æ­¢è¢«æ‹‰ä¼¸æˆ–å‹ç¼©ã€‚</li>
<li></li>
</ul>


<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2016/01/02/anatomy-of-a-constraint/'>https://lengmolehongyan.github.io/blog/2016/01/02/anatomy-of-a-constraint/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[æ²¡æœ‰çº¦æŸçš„è‡ªåŠ¨å¸ƒå±€ï¼ˆAuto Layout Without Constraintsï¼‰]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2016/01/01/auto-layout-without-constraints/"/>
    <updated>2016-01-01T10:38:41+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2016/01/01/auto-layout-without-constraints</id>
    <content type="html"><![CDATA[<p>StackView æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•ï¼Œå‰”é™¤äº†å¤æ‚çš„çº¦æŸï¼Œåˆ©ç”¨è‡ªåŠ¨å¸ƒå±€çš„å¼ºå¤§æ¥å¸ƒå±€ç•Œé¢ï¼Œå•ä¸ª StackView ç”±ä¸€è¡Œæˆ–è€…ä¸€åˆ—æ§ä»¶ç»„æˆï¼ŒStackView æ ¹æ®è‡ªèº«çš„å±æ€§å¸ƒå±€è¿™äº›æ§ä»¶ã€‚</p>

<ul>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIStackView_Class_Reference/index.html#//apple_ref/occ/instp/UIStackView/axis">axis</a>:ï¼ˆä»… UIStackViewï¼‰è¡¨ç¤º StackView çš„æ–¹å‘ï¼Œçºµå‘æˆ–è€…æ°´å¹³ã€‚</li>
<li>orientation:ï¼ˆä»… NSStackViewï¼‰è¡¨ç¤º StackView çš„æ–¹å‘ï¼Œçºµå‘æˆ–è€…æ°´å¹³ã€‚</li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIStackView_Class_Reference/index.html#//apple_ref/occ/instp/UIStackView/distribution">distribution</a>ï¼šè¡¨ç¤ºæ²¿ç€ axis æ–¹å‘çš„è§†å›¾å¸ƒå±€æ–¹å¼ã€‚</li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIStackView_Class_Reference/index.html#//apple_ref/occ/instp/UIStackView/alignment">alignment</a>ï¼šè¡¨ç¤ºçºµå‘äº axis æ–¹å‘çš„è§†å›¾å¸ƒå±€æ–¹å¼ã€‚</li>
<li><a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIStackView_Class_Reference/index.html#//apple_ref/occ/instp/UIStackView/spacing">spacing</a>ï¼šè¡¨ç¤ºç›¸é‚»è§†å›¾ä¹‹é—´çš„é—´éš”ã€‚</li>
</ul>


<p>è¦ä½¿ç”¨ StackViewï¼Œåœ¨ IB ä¸­æ‹–ä¸€ä¸ªçºµå‘æˆ–è€…æ°´å¹³çš„ StackView åˆ°ç”»å¸ƒä¸­ï¼Œç„¶åæ‹–æ§ä»¶æ”¾åˆ° StackView å†…ã€‚</p>

<p>å¦‚æœä¸€ä¸ªè§†å›¾æœ‰è‡ªèº«å†…å®¹å¤§å°ï¼Œå®ƒåœ¨ StackView ä¸­å°†æ˜¾ç¤ºä¸ºè‡ªèº«çš„å¤§å°ã€‚å¦‚æœæ²¡æœ‰ï¼ŒIB å°†ä¼šæä¾›é»˜è®¤çš„å¤§å°ï¼Œä½ å¯ä»¥è°ƒæ•´å®ƒçš„å¤§å°ï¼ŒIB ä¸­æ·»åŠ çº¦æŸæ¥ä¿æŒå¤§å°ä¸å˜ã€‚</p>

<p>æƒ³è¿›ä¸€æ­¥å¾®è°ƒå¸ƒå±€ï¼Œå¯ä»¥åœ¨å±æ€§æ£€æŸ¥å™¨ï¼ˆAttributes Inspectorï¼‰ ä¿®æ”¹ StackView çš„å±æ€§ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œè®¾ç½® StackView çš„ spacing å±æ€§ä¸º 8 ä¸ªç‚¹ï¼Œdistribution å±æ€§ä¸º Fill Equallyã€‚</p>

<!--more-->


<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/IB_StackView_Simple_2x.png" alt="IB_StackView_Simple" /></p>

<p>StackView çš„å¸ƒå±€è¿˜åŸºäºå­è§†å›¾çš„å†…å®¹å‹ç¼©å’ŒæŠ—å‹ç¼©ä¼˜å…ˆçº§ï¼Œå¯ä»¥åœ¨å°ºå¯¸æ£€æŸ¥å™¨ï¼ˆSize Inspectorï¼‰ä¿®æ”¹ã€‚</p>

<blockquote><p>æ³¨ï¼š</p>

<p>å¯ä»¥é€šè¿‡ç»™å­è§†å›¾ç›´æ¥æ·»åŠ çº¦æŸæ¥æ›´è¿›ä¸€æ­¥çš„è°ƒæ•´å¸ƒå±€ï¼Œä½†æ˜¯ï¼Œè¦é¿å…ä»»ä½•å¯èƒ½çš„å†²çªã€‚é€šç”¨æ³•åˆ™ï¼šå¦‚æœè§†å›¾å¯¹äºä¸€ä¸ªç»™å®šçš„å¤§å°é»˜è®¤å›åˆ°å…¶æœ¬èº«å†…å®¹å¤§å°ï¼Œä¾¿å¯ä»¥å®‰å…¨æ·»åŠ è¯¥çº¦æŸã€‚æ›´å¤šçº¦æŸå†²çªï¼Œå‚é˜… <a href="">çº¦æŸå†²çªï¼ˆUnsatisfiable Layoutsï¼‰</a>ã€‚</p></blockquote>

<p>æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥ç”¨ StackView åµŒå¥— StackViewï¼Œæ„å»ºæ›´åŠ å¤æ‚çš„å¸ƒå±€ã€‚</p>

<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/IB_StackView_NestedStacks_2x.png" alt="IB_StackView_NestedStacks" /></p>

<p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå°½å¯èƒ½å¤šçš„ä½¿ç”¨ StackView æ¥ç®¡ç†å¸ƒå±€ï¼Œåªæœ‰ä½¿ç”¨ StackView ä¸èƒ½è¾¾åˆ°æ•ˆæœæ—¶ï¼Œå†å»åˆ›å»ºçº¦æŸã€‚</p>

<p>æœ‰å…³ StackView çš„æ›´å¤šä½¿ç”¨ï¼Œå‚é˜… <a href="https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIStackView_Class_Reference/index.html#//apple_ref/doc/uid/TP40015256">UIStackView Class Reference</a> æˆ–è€… NSStackView Class Referenceã€‚</p>

<blockquote><p>æ³¨ï¼š</p>

<p>è™½ç„¶åµŒå¥—ä½¿ç”¨ StackView å¯ä»¥æ„å»ºå‡ºå¤æ‚çš„ç•Œé¢ï¼Œä½†ä»ä¸èƒ½å®Œå…¨é¿å¼€çº¦æŸçš„ä½¿ç”¨ï¼Œå› ä¸ºè‡³å°‘æ€»æ˜¯éœ€è¦è®¾ç½®æœ€å¤–å±‚è§†å›¾çš„ä½ç½®ï¼ˆå’Œå¯èƒ½çš„å¤§å°ï¼‰ã€‚</p></blockquote>

<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/AutoLayoutWithoutConstraints.html#//apple_ref/doc/uid/TP40010853-CH8-SW1">Auto Layout Without Constraints</a></p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2016/01/01/auto-layout-without-constraints/'>https://lengmolehongyan.github.io/blog/2016/01/01/auto-layout-without-constraints/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ç†è§£è‡ªåŠ¨å¸ƒå±€ï¼ˆUnderstanding Auto Layoutï¼‰]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2016/01/01/understanding-auto-layout/"/>
    <updated>2016-01-01T00:05:16+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2016/01/01/understanding-auto-layout</id>
    <content type="html"><![CDATA[<p>è‡ªåŠ¨å¸ƒå±€ä¼šä¾æ®ç»™è§†å›¾ view åœ¨è§†å›¾å±‚æ¬¡ä¸­è®¾ç½®çš„çº¦æŸæ¥åŠ¨æ€è®¡ç®—å®ƒçš„å¤§å°å’Œä½ç½®ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥è®¾ç½®ä¸€ä¸ª UIButton çš„çº¦æŸä¸ºï¼šå’Œä¸€ä¸ª UIImageView æ°´å¹³å±…ä¸­ï¼Œå¹¶ä¸” UIButton çš„é¡¶éƒ¨è·ç¦» UIImageView çš„åº•éƒ¨ä¿æŒ 8 ä¸ªç‚¹ã€‚ä¹‹åå¦‚æœ UIImageView çš„å¤§å°æˆ–è€…ä½ç½®æ”¹å˜ï¼ŒUIButton çš„ä½ç½®å°†ä¼šè‡ªåŠ¨è°ƒæ•´ã€‚</p>

<p>åŸºäºçº¦æŸè¿™ç§æ–¹å¼æ¥å†™ç•Œé¢å°±å¯ä»¥åŠ¨æ€å“åº”æ¥è‡ªè§†å›¾å†…éƒ¨å’Œå¤–éƒ¨çš„å˜åŒ–ã€‚</p>

<h2>å¤–éƒ¨å˜åŒ–</h2>

<p>å¤–éƒ¨å˜åŒ–å‘ç”Ÿåœ¨çˆ¶è§†å›¾çš„å¤§å°æˆ–è€…å½¢çŠ¶å‘ç”Ÿæ”¹å˜ã€‚æ¯æ¬¡å˜åŒ–ï¼Œéƒ½å¿…é¡»å……åˆ†åˆ©ç”¨å¯ç”¨ç©ºé—´æ¥ä¸ºè§†å›¾ view æ›´æ–°å¸ƒå±€ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„å¤–éƒ¨å˜åŒ–æºï¼š</p>

<ul>
<li>ç”¨æˆ·è°ƒæ•´çª—å£ï¼ˆOSXï¼‰</li>
<li>ç”¨æˆ·åœ¨ iPad ä¸Šè¿›å…¥æˆ–è€…ç¦»å¼€ SplitViewï¼ˆiOSï¼‰</li>
<li>è®¾å¤‡æ—‹è½¬ï¼ˆiOSï¼‰</li>
<li>ç”µè¯å’Œå½•éŸ³çŠ¶æ€æ çš„å‡ºç°æˆ–è€…æ¶ˆå¤±ï¼ˆiOSï¼‰</li>
<li>æƒ³é€‚é… Size Classes</li>
<li>æƒ³é€‚é…ä¸åŒå±å¹•å¤§å°</li>
</ul>


<p>è¿™äº›åœºæ™¯å¤§å¤šå‘ç”Ÿåœ¨åº”ç”¨è¿è¡ŒçŠ¶æ€ä¸‹ï¼Œå®ƒä»¬éœ€è¦åº”ç”¨åšå‡ºåŠ¨æ€å“åº”ã€‚ä½†å…¶å®ƒæ¯”å¦‚æ”¯æŒä¸åŒå±å¹•å°ºå¯¸çš„åº”ç”¨ï¼Œå°±å¯ä»¥é€‚åº”ä¸åŒçš„åœºæ™¯ã€‚å› ä¸ºå¯¹äºä¸€ä¸ªè®¾å¤‡çš„å±å¹•å°ºå¯¸æ˜¯ä¸ä¼šå‘ç”Ÿæ”¹å˜çš„ï¼Œä½†ç•Œé¢å¸ƒå±€é€‚é…åä½ çš„åº”ç”¨åœ¨ iPhone4S å’Œ iPhone6 Plusï¼Œç”šè‡³ iPad ä¸Šè¿è¡Œæ•ˆæœéƒ½æ˜¯ç›¸åŒçš„ã€‚è‡ªåŠ¨å¸ƒå±€åŒæ—¶ä¹Ÿæ˜¯ iPad ä¸Šæ”¯æŒ SlideOver å’Œ SplitView çš„é‡è¦ç»„ä»¶ã€‚</p>

<!--more-->


<h2>å†…éƒ¨å˜åŒ–</h2>

<p>å†…éƒ¨å˜åŒ–å‘ç”Ÿåœ¨è§†å›¾å°ºå¯¸æ”¹å˜æˆ–è€…ç”¨æˆ·ç•Œé¢äº‹ä»¶æ”¹å˜ã€‚</p>

<p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„å†…éƒ¨å˜åŒ–æºï¼š</p>

<ul>
<li>ç¨‹åºå±•ç¤ºå†…å®¹å‘ç”Ÿæ”¹å˜</li>
<li>ç¨‹åºæ”¯æŒå›½é™…åŒ–</li>
<li>ç¨‹åºæ”¯æŒ Dynamic Typeï¼ˆiOSï¼‰</li>
</ul>


<p>å½“ç¨‹åºå±•ç¤ºå†…å®¹å‘ç”Ÿæ”¹å˜æ—¶ï¼Œç›¸æ¯”æ—§çš„å¸ƒå±€ï¼Œæ–°çš„å†…å®¹å¯èƒ½éœ€è¦ä¸åŒçš„å¸ƒå±€ã€‚è¿™ä¸€èˆ¬å‘ç”Ÿåœ¨ç¨‹åºæ˜¾ç¤ºæ–‡æœ¬æˆ–è€…å›¾ç‰‡æ—¶ã€‚æ¯”å¦‚ï¼Œä¸€ä¸ªæ–°é—»ç±»çš„åº”ç”¨ï¼Œéœ€è¦ä¾æ®æ–°é—»æ–‡ç« çš„å¤§å°æ¥è°ƒæ•´å®ƒçš„å¸ƒå±€ã€‚åŒæ ·ï¼Œä¸€ä¸ªç…§ç‰‡é›†åˆçš„é¡µé¢éœ€è¦å¤„ç†å¤§é‡å›¾ç‰‡å°ºå¯¸å’Œç¼©æ”¾æ¯”ä¾‹çš„é—®é¢˜ã€‚</p>

<p>å›½é™…åŒ–å¯ä»¥ä½¿ä½ çš„ç¨‹åºåœ¨ä¸åŒçš„è¯­è¨€ï¼ŒåŒºåŸŸå’Œæ–‡åŒ–ä¸‹éƒ½èƒ½ä½¿ç”¨ã€‚ä¸€ä¸ªåšäº†å›½é™…åŒ–çš„åº”ç”¨çš„å¸ƒå±€å¿…é¡»è€ƒè™‘è¿™äº›å·®å¼‚ï¼ŒåŒæ—¶ä¹Ÿåº”è¯¥æ”¯æŒåœ¨ä¸åŒè¯­è¨€å’ŒåŒºåŸŸçš„ç¯å¢ƒä¸‹ï¼Œæ˜¾ç¤ºæ­£ç¡®ã€‚</p>

<p>å›½é™…åŒ–å½±å“å¸ƒå±€ä¸»è¦æœ‰ä¸‰ä¸ªå› ç´ ã€‚ç¬¬ä¸€ï¼Œç”¨æˆ·ç•Œé¢ä¸Šçš„è¯­è¨€éœ€è¦ç¿»è¯‘ï¼Œæ ‡ç­¾ï¼ˆlabelï¼‰ å°±éœ€è¦ä¸åŒçš„ç©ºé—´æ¥å±•ç¤ºã€‚æ¯”å¦‚ï¼Œå¾·è¯­æ‰€å ç©ºé—´é€šå¸¸æ¯”è‹±è¯­çš„å¤§ï¼Œè€Œæ—¥è¯­æ‰€å ç©ºé—´å°å¾ˆå¤šã€‚</p>

<p>ç¬¬äºŒï¼Œå³ä½¿è¯­è¨€ç›¸åŒï¼Œä¸åŒåœ°åŒºæ˜¾ç¤ºæ—¥æœŸå’Œæ•°å­—çš„æ ¼å¼ä¹Ÿä¼šä¸åŒã€‚å°½ç®¡è¿™äº›å˜åŒ–é€šå¸¸æ¯”è¯­è¨€å˜åŒ–å¸¦æ¥çš„å½±å“ç•¥å°ï¼Œç•Œé¢ä»éœ€è¦é€‚é…è¿™äº›ç»†å¾®çš„å¤§å°å˜åŒ–ã€‚</p>

<p>ç¬¬ä¸‰ï¼Œè¯­è¨€çš„æ”¹å˜ä¸ä»…å½±å“æ–‡æœ¬çš„å¤§å°ï¼Œè€Œä¸”å¯¹å¸ƒå±€ä¹Ÿä¼šæœ‰å½±å“ï¼Œå› ä¸ºä¸åŒçš„è¯­è¨€å¯èƒ½ä½¿ç”¨ä¸åŒçš„å¸ƒå±€æ–¹å‘ï¼Œæ¯”å¦‚è‹±è¯­æ˜¯ä»å·¦è‡³å³çš„æ–¹å‘ï¼Œè€Œé˜¿æ‹‰ä¼¯è¯­å’Œå¸Œä¼¯æ¥è¯­æ˜¯ä»å³è‡³å·¦çš„æ–¹å‘ã€‚é€šå¸¸ï¼Œç•Œé¢ä¸Šçš„æ§ä»¶çš„é¡ºåºåº”è¯¥å’Œå¸ƒå±€çš„æ–¹å‘ç›¸åŒ¹é…ï¼Œå¦‚æœåœ¨è‹±è¯­ç¯å¢ƒä¸‹ä¸€ä¸ªæŒ‰é’®åœ¨è§†å›¾çš„å³ä¸‹æ–¹ï¼Œåœ¨é˜¿æ‹‰ä¼¯è¯­ä¸‹åº”è¯¥åœ¨å·¦ä¸‹æ–¹ã€‚</p>

<p>æœ€åï¼Œå¦‚æœä½ çš„ iOS åº”ç”¨æ”¯æŒ Dynamic Typeï¼Œç”¨æˆ·åˆ™å¯ä»¥æ›´æ”¹è¿™ä¸ªåº”ç”¨ä¸­çš„å­—ä½“å¤§å°ã€‚è¿™æ ·ä¼šå¯¼è‡´ç•Œé¢ä¸Šæ‰€æœ‰æœ‰æ–‡æœ¬çš„æ§ä»¶çš„é«˜åº¦å®½åº¦éƒ½å‘ç”Ÿå˜åŒ–ã€‚å¦‚æœç”¨æˆ·åœ¨ä½¿ç”¨åº”ç”¨æ—¶æ›´æ”¹å­—ä½“å¤§å°ï¼Œå­—ä½“å’Œå¸ƒå±€å¿…é¡»é€‚åº”å˜åŒ–ã€‚</p>

<h2>è‡ªåŠ¨å¸ƒå±€ VS è®¡ç®— Frame å¸ƒå±€</h2>

<p>ç›®å‰ï¼Œæœ‰ä¸‰ç§æ–¹æ³•æ¥å¸ƒå±€ç•Œé¢ï¼Œä»£ç è®¡ç®— frame å¸ƒå±€ã€ä½¿ç”¨ AutoresizingMask è‡ªåŠ¨å“åº”ä¸€äº›å¤–éƒ¨å˜åŒ–å¸ƒå±€ï¼Œæˆ–è€…è‡ªåŠ¨å¸ƒå±€ã€‚</p>

<p>é€šå¸¸ï¼Œåº”ç”¨æ˜¯é€šè¿‡ä»£ç ä¸ºè§†å›¾å±‚æ¬¡ä¸­çš„æ¯ä¸ªè§†å›¾è®¾ç½® frame æ¥å¸ƒå±€ç•Œé¢çš„ï¼Œframe è¡¨ç¤ºä¸€ä¸ªè§†å›¾åœ¨å…¶çˆ¶è§†å›¾åæ ‡ç³»çš„ä½ç½®å’Œå¤§å°ã€‚</p>

<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/layout_views_2x.png" alt="layout_views" /></p>

<p>é€šè¿‡è®¡ç®— frame æ¥å¸ƒå±€ç•Œé¢ï¼Œå¿…é¡»è¦ä¸ºè§†å›¾å±‚æ¬¡ä¸­çš„æ¯ä¸ªè§†å›¾è®¡ç®—å¤§å°å’Œä½ç½®ï¼Œè€Œä¸”ï¼Œå¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œè¿˜éœ€è¦ä¸ºæ‰€æœ‰å½±å“çš„è§†å›¾é‡æ–°è®¡ç®—ã€‚</p>

<p>åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œé€šè¿‡ä»£ç æ¥è®¾ç½®ä¸€ä¸ªè§†å›¾çš„ frame çš„ç¡®æ¯”è¾ƒçµæ´»ã€å¼ºå¤§ï¼Œå½“æœ‰å˜åŒ–æ—¶ï¼Œå¯ä»¥ç®€å•ä¿®æ”¹å‡ ä¸ªæ•°å­—å°±èƒ½è¾¾åˆ°æƒ³è¦çš„æ•ˆæœã€‚ç„¶è€Œï¼Œå› ä¸ºå¿…é¡»è‡ªå·±ç®¡ç†æ‰€æœ‰å˜åŒ–ï¼Œå¸ƒå±€ä¸€ä¸ªç®€å•çš„ç•Œé¢å°†éœ€è¦è€ƒè™‘å¤§é‡å› ç´ æ¥è®¾è®¡ã€è°ƒè¯•å’Œç»´æŠ¤ï¼Œè¿™æ ·ä¸ºåˆ›å»ºä¸€ä¸ªçœŸæ­£é€‚é…çš„ç•Œé¢å°±å¢åŠ äº†ä¸æ­¢ä¸€ä¸ªæ•°é‡çº§çš„éš¾åº¦ã€‚</p>

<p>ç›¸æ¯”è®¡ç®— frame å¸ƒå±€ï¼Œä½¿ç”¨ AutoresizingMask ç®€å•ç‚¹ï¼ŒAutoresizingMask ç”¨äºçˆ¶è§†å›¾çš„ frame å˜åŒ–æ—¶ï¼Œå­è§†å›¾çš„ frame å¦‚ä½•æ”¹å˜ï¼Œè¿™ç§ç®€å•çš„å¸ƒå±€æ–¹å¼é€‚ç”¨äºå¤–éƒ¨å˜åŒ–ã€‚</p>

<p>AutoresizingMask æ”¯æŒç›¸å¯¹è¾ƒå°çš„å¸ƒå±€å­é›†ï¼Œå¯¹äºå¤æ‚çš„ç•Œé¢ï¼Œé€šå¸¸éœ€è¦ç”¨ä»£ç å¢åŠ  AutoresizingMask å˜åŒ–ã€‚è€Œä¸”ï¼ŒAutoresizingMask ä»…é€‚ç”¨äºå¤–éƒ¨å˜åŒ–ï¼Œä¸æ”¯æŒå†…éƒ¨å˜åŒ–ã€‚</p>

<p>å°½ç®¡ AutoresizingMask æ˜¯å¸ƒå±€ä¸Šçš„ä¸€ä¸ªæå‡ï¼Œä½†æ˜¯è‡ªåŠ¨å¸ƒå±€åˆ™å‘ˆç°äº†å…¨æ–°çš„æ¨¡å¼ã€‚ä»¥å‰éœ€è¦è€ƒè™‘ä¸€ä¸ªè§†å›¾çš„ frameï¼Œè€Œç”¨è‡ªåŠ¨å¸ƒå±€ï¼Œåªéœ€è¦è€ƒè™‘è§†å›¾çš„å…³ç³»ã€‚</p>

<p>è‡ªåŠ¨å¸ƒå±€åˆ™æ˜¯ç•Œé¢ä¸Šä½¿ç”¨å¤§é‡çº¦æŸï¼Œçº¦æŸé€šå¸¸è¡¨ç¤ºä¸¤ä¸ªè§†å›¾ä¹‹é—´çš„å…³ç³»ï¼Œè‡ªåŠ¨å¸ƒå±€æ ¹æ®çº¦æŸæ¥è®¡ç®—æ¯ä¸ªè§†å›¾çš„å¤§å°å’Œä½ç½®ï¼Œè¿™æ ·å¸ƒå±€å°±å¯ä»¥åŠ¨æ€å“åº”æ¥è‡ªè§†å›¾å†…éƒ¨å’Œå¤–éƒ¨çš„å˜åŒ–ã€‚</p>

<p><img src="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Art/layout_constraints_2x.png" alt="layout_constraints" /></p>

<p>é€šè¿‡è®¾è®¡ä¸€å¥—çº¦æŸæ¥åˆ›å»ºç‰¹å®šè¡Œä¸ºçš„é€»è¾‘ä¸åŒäºå†™ç¨‹åºæˆ–è€…é¢å‘å¯¹è±¡çš„ä»£ç ã€‚å¹¸è¿çš„æ˜¯ï¼ŒæŒæ¡è‡ªåŠ¨å¸ƒå±€å’ŒæŒæ¡å…¶ä»–ç¼–ç¨‹æŠ€æœ¯æ˜¯ä¸€æ ·çš„ï¼Œæœ‰ä¸¤ä¸ªåŸºæœ¬æ­¥éª¤ï¼šé¦–å…ˆç†è§£åŸºäºçº¦æŸå¸ƒå±€èƒŒåçš„é€»è¾‘ï¼Œç„¶åå­¦ä¹  APIã€‚è¿™ä¹Ÿæ˜¯æˆåŠŸå­¦ä¹ å…¶ä»–ç¼–ç¨‹æŠ€æœ¯çš„æ­¥éª¤ï¼Œè‡ªåŠ¨å¸ƒå±€å½“ç„¶ä¹Ÿä¸ä¾‹å¤–ã€‚</p>

<p>æœ¬æŒ‡å—çš„å‰©ä½™éƒ¨åˆ†æ—¨åœ¨å¸®åŠ©ä½ è½»æ¾è¿‡æ¸¡åˆ°è‡ªåŠ¨å¸ƒå±€ã€‚<a href="">æ²¡æœ‰çº¦æŸçš„è‡ªåŠ¨å¸ƒå±€</a> ç« èŠ‚æè¿°äº†åœ¨ç•Œé¢ä¸Šç®€åŒ–åˆ›å»ºè‡ªåŠ¨å¸ƒå±€çš„é«˜çº§æŠ½è±¡æ¦‚å¿µã€‚<a href="">çº¦æŸå‰–æ</a> ç« èŠ‚æä¾›äº†ä½ éœ€è¦ç†è§£ä¸è‡ªåŠ¨å¸ƒå±€æˆåŠŸäº¤äº’çš„èƒŒååŸç†ã€‚<a href="">åœ¨ IB ä¸­ä½¿ç”¨çº¦æŸ</a> ç« èŠ‚æè¿°äº†è®¾è®¡è‡ªåŠ¨å¸ƒå±€çš„å·¥å…·ï¼Œ<a href="">ä»£ç åˆ›å»ºçº¦æŸ</a> å’Œ <a href="">è‡ªåŠ¨å¸ƒå±€æ‰‹å†Œ</a> ç« èŠ‚è¯¦ç»†åœ°ä»‹ç»äº†è‡ªåŠ¨å¸ƒå±€çš„ APIã€‚æœ€åï¼Œ<a href="">è‡ªåŠ¨å¸ƒå±€æ‰‹å†Œ</a> ç« èŠ‚æä¾›äº†å¤§é‡ä¸”ä¸åŒå¤æ‚å±‚æ¬¡çš„å¸ƒå±€ä¾‹å­ï¼Œä½ å¯ä»¥åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­å­¦ä¹ å’Œä½¿ç”¨ï¼Œ<a href="">è‡ªåŠ¨å¸ƒå±€è°ƒè¯•</a> ç« èŠ‚åˆ™æä¾›äº†å‘ç”Ÿé”™è¯¯æ—¶çš„ä¿®å¤å»ºè®®å’Œå·¥å…·ã€‚</p>

<p>åŸæ–‡é“¾æ¥ï¼š<a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/index.html#//apple_ref/doc/uid/TP40010853-CH7-SW1">Understanding Auto Layout</a></p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2016/01/01/understanding-auto-layout/'>https://lengmolehongyan.github.io/blog/2016/01/01/understanding-auto-layout/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[è‡ªåŠ¨å¸ƒå±€æŒ‡å—ï¼ˆAuto Layout Guideï¼‰]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2015/12/27/autolayout-guide/"/>
    <updated>2015-12-27T19:14:33+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2015/12/27/autolayout-guide</id>
    <content type="html"><![CDATA[<p>è·Ÿéšå®˜æ–¹æ–‡æ¡£ <a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/index.html">è‡ªåŠ¨å¸ƒå±€æŒ‡å—</a> çš„è„šæ­¥ï¼ŒAutoLayout ä»å…¥é—¨åˆ°è¿›é˜¶ã€‚</p>

<p>æ–‡ç« ç›®å½•ç»“æ„ï¼š</p>

<ul>
<li><p>å…¥é—¨ï¼ˆGetting Startedï¼‰</p>

<ul>
<li><a href="https://lengmolehongyan.github.io/blog/2016/01/01/understanding-auto-layout/">ç†è§£è‡ªåŠ¨å¸ƒå±€ï¼ˆUnderstanding Auto Layoutï¼‰</a></li>
<li><a href="https://lengmolehongyan.github.io/blog/2016/01/01/auto-layout-without-constraints/">æ²¡æœ‰çº¦æŸçš„è‡ªåŠ¨å¸ƒå±€ï¼ˆAuto Layout Without Constraintsï¼‰</a></li>
<li><a href="https://lengmolehongyan.github.io/blog/2016/01/02/anatomy-of-a-constraint/">çº¦æŸå‰–æï¼ˆAnatomy of a Constraintï¼‰</a></li>
<li><a href="">åœ¨ IB ä¸­ä½¿ç”¨çº¦æŸï¼ˆWorking with Constraints in Interface Builderï¼‰</a></li>
</ul>
</li>
</ul>


<p></p>


<ul>
<li><p>è‡ªåŠ¨å¸ƒå±€æ‰‹å†Œï¼ˆAuto Layout Cookbookï¼‰</p>

<ul>
<li><a href="">Stack Views</a></li>
<li><a href="">ç®€å•çº¦æŸï¼ˆSimple Constraintsï¼‰</a></li>
<li><a href="">è‡ªèº«æœ‰å†…å®¹å°ºå¯¸çš„è§†å›¾ï¼ˆViews with Intrinsic Content Sizeï¼‰</a></li>
</ul>
</li>
</ul>


<p></p>


<ul>
<li><p>è‡ªåŠ¨å¸ƒå±€è°ƒè¯•</p>

<ul>
<li><a href="">é”™è¯¯ç±»å‹ï¼ˆTypes of Errorsï¼‰</a></li>
<li><a href="">çº¦æŸå†²çªï¼ˆUnsatisfiable Layoutsï¼‰</a></li>
<li><a href="">æœ‰æ­§ä¹‰çš„å¸ƒå±€ï¼ˆAmbiguous Layoutsï¼‰</a></li>
<li><a href="">é€»è¾‘é”™è¯¯ï¼ˆLogical Errorsï¼‰</a></li>
<li><a href="">è°ƒè¯•æŠ€å·§ï¼ˆDebugging Tricks and Tipsï¼‰</a></li>
</ul>
</li>
</ul>


<p></p>


<ul>
<li><p>è‡ªåŠ¨å¸ƒå±€è¿›é˜¶</p>

<ul>
<li><a href="">ä»£ç åˆ›å»ºçº¦æŸï¼ˆProgrammatically Creating Constraintsï¼‰</a></li>
<li><a href="">SizeClass è¯¦ç»†çº¦æŸï¼ˆSize-Class-Specific Layoutï¼‰</a></li>
<li><a href="">ScrollView ä¸è‡ªåŠ¨å¸ƒå±€ï¼ˆWorking with Scroll Viewsï¼‰</a></li>
<li><a href="">è‡ªåŠ¨å¸ƒå±€ä¸è‡ªåŠ¨è®¡ç®—è¡Œé«˜çš„ TableViewCellï¼ˆWorking with Self-Sizing Table View Cellsï¼‰</a></li>
</ul>
</li>
</ul>


<p></p>


<ul>
<li><p>é™„å½•</p>

<ul>
<li><a href="">VFL è¯­è¨€ï¼ˆVisual Format Languageï¼‰</a></li>
</ul>
</li>
</ul>


<p></p>


<ul>
<li><p>ä¿®æ”¹å†å²</p>

<ul>
<li><a href="">æ–‡æ¡£ä¿®æ”¹å†å²ï¼ˆDocument Revision Historyï¼‰</a></li>
</ul>
</li>
</ul>


<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2015/12/27/autolayout-guide/'>https://lengmolehongyan.github.io/blog/2015/12/27/autolayout-guide/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS è‡ªå®šä¹‰é€šçŸ¥å£°éŸ³]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2015/12/25/zi-ding-yi-tong-zhi-sheng-yin/"/>
    <updated>2015-12-25T22:49:49+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2015/12/25/zi-ding-yi-tong-zhi-sheng-yin</id>
    <content type="html"><![CDATA[<p>é¡¹ç›®ä¸­é‡åˆ°éœ€è¦è‡ªå®šä¹‰é€šçŸ¥å£°éŸ³çš„éœ€æ±‚ï¼Œä»¥å‰æ²¡åšè¿‡ï¼Œå°±æŸ¥äº†ä¸‹<a href="https://developer.apple.com/library/content/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/SupportingNotificationsinYourApp.html#//apple_ref/doc/uid/TP40008194-CH4-SW10">å®˜æ–¹æ–‡æ¡£</a>ï¼Œå°±åƒæ–‡æ¡£ä¸Šè¯´çš„ï¼Œå®ç°èµ·æ¥ç¡®å®æŒºç®€å•ï¼Œå°±æ•´ç†ä¸‹å½“åšå¤‡å¿˜å§ã€‚</p>

<p>å…³äºæ¨é€ï¼Œå®˜æ–¹æ–‡æ¡£ã€å„ç§ç¬¬ä¸‰æ–¹æ¨é€æ–‡æ¡£éƒ½å¾ˆå…¨ï¼Œå°±è·³è¿‡äº†ã€‚</p>

<p>ç”±äºè‡ªå®šä¹‰é€šçŸ¥å£°éŸ³è¿˜æ˜¯ç”± iOS ç³»ç»Ÿæ¥æ’­æ”¾çš„ï¼Œæ‰€ä»¥å¯¹éŸ³é¢‘æ•°æ®æ ¼å¼æœ‰é™åˆ¶ï¼Œå¯ä»¥æ˜¯å¦‚ä¸‹å››ç§ä¹‹ä¸€ï¼š</p>

<ol>
<li>Linear PCM</li>
<li>MA4 (IMA/ADPCM)</li>
<li>ÂµLaw</li>
<li>aLaw</li>
</ol>


<p>å¯¹åº”éŸ³é¢‘æ–‡ä»¶æ ¼å¼æ˜¯ <code>aiff</code>ï¼Œ<code>wav</code>ï¼Œ<code>caf</code> æ–‡ä»¶ï¼Œæ–‡ä»¶ä¹Ÿå¿…é¡»æ”¾åˆ° app çš„ <code>mainBundle</code> ç›®å½•ä¸­ã€‚</p>

<p>è‡ªå®šä¹‰é€šçŸ¥å£°éŸ³çš„æ’­æ”¾æ—¶é—´å¿…é¡»åœ¨ 30s å†…ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªé™åˆ¶ï¼Œåˆ™å°†ç”¨ç³»ç»Ÿé»˜è®¤é€šçŸ¥å£°éŸ³æ›¿ä»£ã€‚</p>

<!--more-->


<p>å¯ä»¥ä½¿ç”¨ <code>afconvert</code> å·¥å…·æ¥å¤„ç†éŸ³é¢‘æ–‡ä»¶æ ¼å¼ï¼Œåœ¨ç»ˆç«¯ä¸­æ•²å…¥å¦‚ä¸‹å‘½ä»¤å°±å¯ä»¥å°†ä¸€ä¸ª <code>mp3</code> æ–‡ä»¶è½¬æ¢æˆ <code>caf</code> æ–‡ä»¶ï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>afconvert unbelievable.mp3 unbelievable.caf -d ima4 -f caff -v</span></code></pre></td></tr></table></div></figure>


<p>è½¬æ¢å®Œæˆåå°±å¯ä»¥å°† <code>unbelievable.caf</code> è¿™ä¸ªæ–‡ä»¶æ‹–å…¥ Xcode å·¥ç¨‹ä¸­ï¼Œç¼–è¯‘è¿è¡Œé¡¹ç›®åœ¨çœŸæœºä¸Šã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20151226-0@2x.png" alt="å°† unbelievable.caf æ–‡ä»¶æ‹–å…¥å·¥ç¨‹ä¸­" /></p>

<p>å‘é€æ¨é€é€šçŸ¥æ—¶ï¼Œåªéœ€é…ç½® <code>sound</code> å­—æ®µçš„å€¼ä¸ºå¯¼å…¥åˆ°å·¥ç¨‹ä¸­çš„éŸ³é¢‘æ–‡ä»¶åï¼Œè¿™é‡Œå³å°±æ˜¯ <code>unbelievable.caf</code>ã€‚</p>

<p>æµ‹è¯•~~ï¼Œå®Œç¾ï¼ï¼ï¼æ”¶åˆ°æ¨é€æ—¶ï¼Œé€šçŸ¥å£°éŸ³å°±æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„å£°éŸ³äº†ã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20151226-1@2x.png" alt="æ”¶åˆ°æ¨é€ä¿¡æ¯" /></p>

<p><a href="https://github.com/lengmolehongyan/CustomAlertSoundsDemo">Demo åœ°å€</a></p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2015/12/25/zi-ding-yi-tong-zhi-sheng-yin/'>https://lengmolehongyan.github.io/blog/2015/12/25/zi-ding-yi-tong-zhi-sheng-yin/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Xcode é¡¹ç›®å¿½ç•¥è­¦å‘Š]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2015/12/09/hu-lue-jing-gao/"/>
    <updated>2015-12-09T23:26:54+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2015/12/09/hu-lue-jing-gao</id>
    <content type="html"><![CDATA[<p>å¯¹äºä¸€ä¸ªæœ‰å¼ºè¿«ç—‡çš„æˆ‘ï¼Œæ¯æ¬¡ <code>âŒ˜B</code> Build é¡¹ç›®æ—¶ï¼Œå‘ç°ä¸€ä¸ª <img src="https://lengmolehongyan.github.io/images/DVTStatus-Warning@2x.png" width="30"> è­¦å‘Šéƒ½è¦ç‚¹è¿›å»ä¿®å¤äº†ï¼Œç„¶è€Œï¼Œå¯¹äºä¸€äº›æ— å…³ç´§è¦çš„è­¦å‘Šï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥é€‰æ‹©å¿½ç•¥è¿™ä¸ªè­¦å‘Šï¼Œè®© Xcode ä¸æç¤ºå‘¢ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯å¯ä»¥çš„ã€‚</p>

<p>ä¸‹é¢ï¼Œå°±ä»‹ç»ä¸€ä¸‹åœ¨é¡¹ç›®ä¸­å¿½ç•¥è­¦å‘Šçš„ä¸‰ä¸ªåœ°æ–¹ï¼š</p>

<!--more-->


<h2>åœ¨æºæ–‡ä»¶ä¸­å¿½ç•¥è­¦å‘Š</h2>

<p>åœ¨ä¸€äº›ç¬¬ä¸‰æ–¹åº“ä¸­ï¼Œæ€»èƒ½çœ‹åˆ°ä¸‹é¢è¿™æ®µä»£ç çš„èº«å½±ï¼Œè¿™å°±æ˜¯ç”¨äºå¿½ç•¥æŸä¸ªè­¦å‘Š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#pragma clang diagnostic push</span>
</span><span class='line'><span class="cp">#pragma clang diagnostic ignored &quot;è­¦å‘Šæ ‡è¯†ç¬¦&quot;</span>
</span><span class='line'><span class="p">...</span>
</span><span class='line'><span class="p">...</span>
</span><span class='line'><span class="cp">#pragma clang diagnostic pop</span>
</span></code></pre></td></tr></table></div></figure>


<p>ç”¨æ³•å¾ˆç®€å•ï¼Œæ¯”å¦‚åœ¨æ§åˆ¶å™¨çš„ <code>-viewDidLoad</code> ä¸­å†™äº†å¥åˆ›å»ºä¸€ä¸ª <code>eTestView</code> çš„ä»£ç </p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="bp">UIView</span> <span class="o">*</span><span class="n">eTestView</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">UIView</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>Xcode ä¼šç«‹å³æŠ¥ä¸€ä¸ªè­¦å‘Šï¼Œæç¤ºæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨è¿™ä¸ªå˜é‡</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20151213-0@2x.png" alt="Unused variable 'eTestView'" /></p>

<p>åªéœ€åœ¨åˆ›å»º <code>eTestView</code> çš„å‰ååŠ ä¸Šå¦‚ä¸‹å‡ è¡Œï¼Œé»„è‰²è­¦å‘Šå°±æ¶ˆå¤±äº†ğŸ˜„</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#pragma clang diagnostic push</span>
</span><span class='line'><span class="cp">#pragma clang diagnostic ignored &quot;-Wunused-variable&quot;</span>
</span><span class='line'><span class="bp">UIView</span> <span class="o">*</span><span class="n">eTestView</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">UIView</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class='line'><span class="cp">#pragma clang diagnostic pop</span>
</span></code></pre></td></tr></table></div></figure>


<p>è‡³äºè­¦å‘Šæ ‡è¯†ç¬¦ï¼Œé¼ æ ‡ç‚¹å‡ ä¸‹å°±å¯ä»¥æ‰¾åˆ°ã€‚</p>

<p>å¦‚ä¸‹å›¾ï¼Œå³å‡»æŸä¸ªè­¦å‘Šï¼Œé€‰æ‹© <code>Reveal in Log</code>ï¼ˆæœ‰æ—¶è¿™ä¸ªé€‰é¡¹å¯èƒ½æ˜¯ç½®ç°çŠ¶æ€ï¼Œä¸èƒ½é€‰æ‹©ï¼Œå¯ä»¥å°è¯•ç¼–è¯‘ä¸‹é¡¹ç›®ï¼Œæˆ–è€…é€€å‡º Xcode é‡æ–°æ¥ä¸€æ¬¡ï¼‰</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20151213-1@2x.png" alt="Reveal in Log" /></p>

<p>ä¸‹å›¾çº¢è‰²æ¡†ä¸­ï¼Œä¸­æ‹¬å·å†…éƒ¨çš„å°±æ˜¯è­¦å‘Šæ ‡è¯†ç¬¦ï¼ˆå…ˆè¦ç‚¹å‡»å³ä¸Šè§’å±•å¼€è­¦å‘Šæ‰èƒ½çœ‹åˆ°è¿™ä¸€å¤§å †ä¿¡æ¯ï¼‰</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20151213-2@2x.png" alt="è­¦å‘Šæ ‡è¯†ç¬¦" /></p>

<h2>åœ¨ Build Settings ä¸­é¡¹ç›®å…¨å±€å¿½ç•¥è­¦å‘Š</h2>

<p>åœ¨é¡¹ç›®çš„ <code>Build Settings</code> ä¸­ä¹Ÿå¯ä»¥è®¾ç½®å¿½ç•¥æŸç§æˆ–å¤šç§ç±»å‹çš„è­¦å‘Šï¼Œä¸è¿‡åœ¨è¿™è®¾ç½®çš„å½±å“èŒƒå›´å°±æ˜¯æ•´ä¸ªé¡¹ç›®çš„äº†ï¼Œè¦ä¸‰æ€è€Œåè¡Œï¼Œä¸ç„¶å°±æ˜¯ç»™è‡ªå·±æŒ–å‘ã€‚</p>

<p>è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œåœ¨ <code>Build Settings</code> ä¸­æ‰¾åˆ° <code>Custom Compiler Flags</code>ï¼ŒåŒå‡» <code>Other Warning Flags</code>ï¼ˆå¯ä»¥é…ç½® <code>Debug</code> å’Œ <code>Release</code> ç¯å¢ƒï¼‰ï¼Œå¡«å…¥ <code>-Wno-unused-variable</code>ï¼Œå®Œæˆåï¼Œç¼–è¯‘é¡¹ç›®ï¼Œé¡¹ç›®ä¸­æ‰€æœ‰çš„æ­¤ç±»å‹è­¦å‘Šéƒ½æ²¡æœ‰äº†ã€‚</p>

<p><img src="https://lengmolehongyan.github.io/images/QQ20151213-4@2x.png" alt="Build Settings ä¸­é¡¹ç›®å…¨å±€å¿½ç•¥è­¦å‘Š" /></p>

<p>è¿™é‡Œæ‰€å¡«å†™çš„å†…å®¹è§„åˆ™ï¼Œä»…ä»…æ˜¯åœ¨ç¬¬ä¸€ç§æ–¹æ³•ä¸­æ‰¾åˆ°çš„è­¦å‘Šæ ‡è¯†ç¬¦ä¸­çš„ <code>W</code> å­—æ¯åé¢åŠ ä¸Š <code>no-</code> å°±å¯ä»¥äº†ã€‚</p>

<h2>CocoaPods å¯¼å…¥ç¬¬ä¸‰æ–¹åº“å¿½ç•¥è­¦å‘Š</h2>

<p>é€šè¿‡ CocoaPods ç»™é¡¹ç›®å¯¼å…¥äº†ä¸€äº›ç¬¬ä¸‰æ–¹åº“ï¼Œè¿™äº›åº“é‡Œé¢æˆ–å¤šæˆ–å°‘ä¼šæœ‰äº›è­¦å‘Šï¼Œæƒ³æ¶ˆé™¤è¿™äº›è­¦å‘Šï¼Œå¾ˆç®€å•ï¼Œåªéœ€åœ¨ <code>Podfile</code> ä¸­åŠ ä¸Šè¿™ä¸€å¥ <code>inhibit_all_warnings!</code>ï¼Œæ‰€æœ‰é€šè¿‡ CocoaPods å®‰è£…çš„ç¬¬ä¸‰åº“çš„è­¦å‘Šå°±æ²¡æœ‰äº†ã€‚</p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2015/12/09/hu-lue-jing-gao/'>https://lengmolehongyan.github.io/blog/2015/12/09/hu-lue-jing-gao/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[è®¡ç®—ä»£ç æ‰§è¡Œæ—¶é—´å·®]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2015/12/05/ji-suan-dai-ma-zhi-xing-shi-jian-chai/"/>
    <updated>2015-12-05T23:53:21+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2015/12/05/ji-suan-dai-ma-zhi-xing-shi-jian-chai</id>
    <content type="html"><![CDATA[<p>å¼€å‘ä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦çŸ¥é“æŸä¸ªæ•ˆæœåˆ°åº•è€—æ—¶å¤šé•¿æ—¶é—´ï¼Œå¯èƒ½æƒ³åˆ°ç”¨ <code>Foundation</code> æ¡†æ¶ä¸­çš„ <code>NSDate</code> ç±»æ¥è®¡ç®—ï¼Œæ¯”å¦‚ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="bp">NSDate</span> <span class="o">*</span><span class="n">previousDate</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSDate</span> <span class="n">date</span><span class="p">];</span>
</span><span class='line'><span class="p">...</span>
</span><span class='line'><span class="n">NSTimeInterval</span> <span class="n">timeInterval</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">NSDate</span> <span class="n">date</span><span class="p">]</span> <span class="nl">timeIntervalSinceDate</span><span class="p">:</span><span class="n">previousDate</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>åœ¨ <code>CoreFoundation</code> æ¡†æ¶ä¸­ï¼Œæœ‰ä¸€ä¸ªå‡½æ•°è¿”å›å½“å‰ç³»ç»Ÿçš„ç»å¯¹æ—¶é—´ï¼Œä¹Ÿå¯ä»¥ç”¨åšè®¡ç®—æ—¶é—´å·®ã€‚å¦‚ä¸‹ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">CFAbsoluteTime</span> <span class="n">previousTime</span> <span class="o">=</span> <span class="n">CFAbsoluteTimeGetCurrent</span><span class="p">();</span>
</span><span class='line'><span class="p">...</span>
</span><span class='line'><span class="n">CFAbsoluteTime</span> <span class="n">currentTime</span> <span class="o">=</span> <span class="n">CFAbsoluteTimeGetCurrent</span><span class="p">();</span>
</span><span class='line'><span class="n">CFAbsoluteTime</span> <span class="n">timeInterval</span> <span class="o">=</span> <span class="n">currentTime</span> <span class="o">-</span> <span class="n">previousTime</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>




<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2015/12/05/ji-suan-dai-ma-zhi-xing-shi-jian-chai/'>https://lengmolehongyan.github.io/blog/2015/12/05/ji-suan-dai-ma-zhi-xing-shi-jian-chai/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[è§£å†³ Xcode å‡çº§æ’ä»¶å¤±æ•ˆ]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2015/12/03/jie-jue-xcode-sheng-ji-cha-jian-shi-xiao/"/>
    <updated>2015-12-03T23:50:08+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2015/12/03/jie-jue-xcode-sheng-ji-cha-jian-shi-xiao</id>
    <content type="html"><![CDATA[<ul>
<li>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç è·å–åˆ° <code>DVTPlugInCompatibilityUUID</code></li>
</ul>


<p></p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>defaults read /Applications/Xcode.app/Contents/Info DVTPlugInCompatibilityUUID</span></code></pre></td></tr></table></div></figure>


<ul>
<li>ç„¶åè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼Œæœ€åä¸€é¡¹æ˜¯ä¸Šä¸€æ­¥è·å–åˆ°çš„ <code>DVTPlugInCompatibilityUUID</code></li>
</ul>


<p></p>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>find ~/Library/Application\ Support/Developer/Shared/Xcode/Plug-ins -name Info.plist -maxdepth 3 | xargs -I{} defaults write {} DVTPlugInCompatibilityUUIDs -array-add æ­¤å¤„ä¸ºä¸Šä¸€æ­¥è·å¾—çš„ UUID</span></code></pre></td></tr></table></div></figure>


<ul>
<li>ç»ˆç«¯æ‰§è¡Œå®Œä¸Šé¢å‘½ä»¤åï¼Œæ‰“å¼€ Xcodeï¼Œä¼šæœ‰ä¸‹å›¾æç¤ºï¼Œç‚¹å‡» <code>Load Bundles</code>ï¼Œå°±ä¼šåŠ è½½ Xcode æ’ä»¶ç›®å½•ä¸­å·²å®‰è£…çš„æ’ä»¶ã€‚</li>
</ul>


<p></p>




<!--more-->


<p><img src="https://lengmolehongyan.github.io/images/QQ20151204-0@2x.png" alt="Load Bundles" /></p>

<p>~~~ ğŸ˜Š OVER ğŸ˜Š ~~~</p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2015/12/03/jie-jue-xcode-sheng-ji-cha-jian-shi-xiao/'>https://lengmolehongyan.github.io/blog/2015/12/03/jie-jue-xcode-sheng-ji-cha-jian-shi-xiao/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Can't Add Self as Subview å´©æºƒè§£å†³åŠæ³•]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2015/10/30/cant-add-self-as-subview-beng-kui-jie-jue-ban-fa/"/>
    <updated>2015-10-30T23:14:49+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2015/10/30/cant-add-self-as-subview-beng-kui-jie-jue-ban-fa</id>
    <content type="html"><![CDATA[<h2>å‰è¨€</h2>

<p>æŸ¥çœ‹é¡¹ç›®çš„å´©æºƒæ±‡æ€»ï¼Œä¸€ç›´æœ‰ä¸€ä¸ª bug å­˜åœ¨ï¼Œä¹‹å‰ä¹Ÿæœ‰æ³¨æ„è¿‡ï¼Œåªå› è¿™ä¸ª bug çš„å´©æºƒå †æ ˆæ—¥å¿—è§£æå‡ºæ¥å¹¶æ²¡æœ‰ä»€ä¹ˆåµç”¨ï¼Œä¹Ÿä¸çŸ¥è¯¥æ€ä¹ˆå¤ç°ï¼Œå°±æ’‚ä¸‹äº†ã€‚</p>

<p>ä½†ç°åœ¨è¿™ä¸ª bug å´©æºƒå‘ç”Ÿæ¬¡æ•°è¹­è¹­æ¶¨ï¼Œå´©æºƒå æ¯”é«˜äº†èµ·æ¥ï¼Œä¸å¾—ä¸é‡è§†èµ·æ¥ã€‚</p>

<p>ç‚¹è¿›å´©æºƒè¯¦æƒ…ï¼Œåªæœ‰çŸ­çŸ­çš„ä¸€å¥ <code>Can't add self as subview</code>ã€‚</p>

<!--more-->


<p>å´©æºƒè°ƒç”¨å †æ ˆè§£æå‡ºæ¥å¦‚ä¸‹ï¼š</p>

<p><img src="http://7xjhyk.com1.z0.glb.clouddn.com/QQ20151031-0@2x.png" alt="å´©æºƒè°ƒç”¨å †æ ˆè§£æ" /></p>

<p>å¯¹è§£å†³é—®é¢˜æ ¹æœ¬èµ·ä¸äº†ä½œç”¨ï¼Œåªèƒ½ä¾é  Google äº†ã€‚</p>

<h2>bug å¤ç°</h2>

<p>åœ¨ StackOverflow ä¸Šæ‰¾åˆ°å¤ç°æ­¤ bug çš„æ–¹æ³•ï¼Œå°è¯•åŒæ—¶ <code>push</code> ä¸¤ä¸ªæ§åˆ¶å™¨ï¼Œæˆ–è€…åŒæ—¶ <code>push</code> å’Œ <code>pop</code> ä¸€ä¸ªæ§åˆ¶å™¨ã€‚</p>

<p><img src="http://i.stack.imgur.com/93n6V.png" alt="æµ‹è¯•åŒæ—¶ push ä¸¤ä¸ªæ§åˆ¶å™¨" /></p>

<p>ä¸Šå›¾æ˜¯å½“æ—¶ä¸€å›ç­”æ­¤é—®é¢˜äººçš„è¿è¡Œç»“æœï¼Œä½†ç°åœ¨æµ‹è¯•å¹¶ä¸ä¼šå¼•èµ·å´©æºƒï¼Œä¸è¿‡åŒæ—¶ <code>push</code> ä¸€ä¸ªæ§åˆ¶å™¨æ˜¯ä¼šå¯¼è‡´å´©æºƒçš„ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹å›¾ï¼š</p>

<p><img src="http://7xjhyk.com1.z0.glb.clouddn.com/QQ20151105-0@2x.png" alt="æµ‹è¯•åŒæ—¶ push ä¸€ä¸ªæ§åˆ¶å™¨" /></p>

<p>å…¶å®è¿™ä¸ªå´©æºƒï¼Œæœ€ç®€å•çš„æƒ…å†µå°±æ˜¯ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">addSubview</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>è€Œè¿™ä¸ªåŸå› å°±æ˜¯åŒä¸€æ—¶é—´åŒæ—¶ push å¤šä¸ªæ§åˆ¶å™¨å†è¿”å›ï¼ŒåŠ¨ç”»è¢«æ‰“æ–­åå¼•èµ·çš„å´©æºƒï¼Œæœ¬è´¨æ ¹æºæ˜¯ push åŠ¨ç”»è¿˜æ²¡æœ‰å®Œæˆå°±æ€¥ç€ push ä¸‹ä¸€ä¸ªæ§åˆ¶å™¨ã€‚</p>

<h2>è§£å†³åŠæ³•</h2>

<p>åˆ›å»ºä¸€ä¸ªåˆ†ç±»ï¼Œæ‹¦æˆªæ§åˆ¶å™¨å…¥æ ˆ\å‡ºæ ˆçš„æ–¹æ³•è°ƒç”¨ï¼Œé€šè¿‡å®‰å…¨çš„æ–¹å¼ï¼Œç¡®ä¿å½“æœ‰æ§åˆ¶å™¨æ­£åœ¨è¿›è¡Œå…¥æ ˆ\å‡ºæ ˆæ“ä½œæ—¶ï¼Œæ²¡æœ‰å…¶ä»–å…¥æ ˆ\å‡ºæ ˆæ“ä½œã€‚</p>

<p>æ­¤åˆ†ç±»ç”¨åˆ°è¿è¡Œæ—¶ (Runtime) çš„æ–¹æ³•äº¤æ¢ <code>Method Swizzling</code>ï¼Œå› æ­¤åªéœ€è¦å¤åˆ¶ä¸‹é¢çš„ä»£ç åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œæ­¤ bug å°±ä¸å¤å­˜åœ¨äº†ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="cp">#import &quot;UINavigationController+Consistent.h&quot;</span>
</span><span class='line'><span class="cp">#import &lt;objc/runtime.h&gt;</span>
</span><span class='line'><span class="c1">/// This char is used to add storage for the isPushingViewController property.</span>
</span><span class='line'><span class="k">static</span> <span class="kt">char</span> <span class="k">const</span> <span class="o">*</span> <span class="k">const</span> <span class="n">ObjectTagKey</span> <span class="o">=</span> <span class="s">&quot;ObjectTag&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="k">@interface</span> <span class="bp">UINavigationController</span> <span class="p">()</span>
</span><span class='line'><span class="k">@property</span> <span class="p">(</span><span class="k">readwrite</span><span class="p">,</span><span class="k">getter</span> <span class="o">=</span> <span class="n">isViewTransitionInProgress</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">viewTransitionInProgress</span><span class="p">;</span>
</span><span class='line'><span class="k">@end</span>
</span><span class='line'>
</span><span class='line'><span class="k">@implementation</span> <span class="bp">UINavigationController</span> <span class="nl">(Consistent)</span>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setViewTransitionInProgress:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">property</span> <span class="p">{</span>
</span><span class='line'>    <span class="bp">NSNumber</span> <span class="o">*</span><span class="n">number</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithBool</span><span class="p">:</span><span class="n">property</span><span class="p">];</span>
</span><span class='line'>    <span class="n">objc_setAssociatedObject</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="n">ObjectTagKey</span><span class="p">,</span> <span class="n">number</span> <span class="p">,</span> <span class="n">OBJC_ASSOCIATION_RETAIN</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isViewTransitionInProgress</span> <span class="p">{</span>
</span><span class='line'>    <span class="bp">NSNumber</span> <span class="o">*</span><span class="n">number</span> <span class="o">=</span> <span class="n">objc_getAssociatedObject</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="n">ObjectTagKey</span><span class="p">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[</span><span class="n">number</span> <span class="n">boolValue</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">#pragma mark - Intercept Pop, Push, PopToRootVC</span>
</span><span class='line'><span class="c1">/// @name Intercept Pop, Push, PopToRootVC</span>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="bp">NSArray</span> <span class="o">*</span><span class="p">)</span><span class="nf">safePopToRootViewControllerAnimated:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="n">viewTransitionInProgress</span><span class="p">)</span> <span class="k">return</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">animated</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nb">self</span><span class="p">.</span><span class="n">viewTransitionInProgress</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="c1">//-- This is not a recursion, due to method swizzling the call below calls the original  method.</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[</span><span class="nb">self</span> <span class="nl">safePopToRootViewControllerAnimated</span><span class="p">:</span><span class="n">animated</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="bp">NSArray</span> <span class="o">*</span><span class="p">)</span><span class="nf">safePopToViewController:</span><span class="p">(</span><span class="bp">UIViewController</span> <span class="o">*</span><span class="p">)</span><span class="nv">viewController</span> <span class="nf">animated:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="n">viewTransitionInProgress</span><span class="p">)</span> <span class="k">return</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">animated</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nb">self</span><span class="p">.</span><span class="n">viewTransitionInProgress</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="c1">//-- This is not a recursion, due to method swizzling the call below calls the original  method.</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[</span><span class="nb">self</span> <span class="nl">safePopToViewController</span><span class="p">:</span><span class="n">viewController</span> <span class="nl">animated</span><span class="p">:</span><span class="n">animated</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="bp">UIViewController</span> <span class="o">*</span><span class="p">)</span><span class="nf">safePopViewControllerAnimated:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="n">viewTransitionInProgress</span><span class="p">)</span> <span class="k">return</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">animated</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nb">self</span><span class="p">.</span><span class="n">viewTransitionInProgress</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="c1">//-- This is not a recursion, due to method swizzling the call below calls the original  method.</span>
</span><span class='line'>    <span class="k">return</span> <span class="p">[</span><span class="nb">self</span> <span class="nl">safePopViewControllerAnimated</span><span class="p">:</span><span class="n">animated</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">safePushViewController:</span><span class="p">(</span><span class="bp">UIViewController</span> <span class="o">*</span><span class="p">)</span><span class="nv">viewController</span> <span class="nf">animated:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span> <span class="p">{</span>
</span><span class='line'>    <span class="nb">self</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="nb">self</span><span class="p">;</span>
</span><span class='line'>    <span class="c1">//-- If we are already pushing a view controller, we dont push another one.</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="nb">self</span><span class="p">.</span><span class="n">isViewTransitionInProgress</span> <span class="o">==</span> <span class="nb">NO</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">//-- This is not a recursion, due to method swizzling the call below calls the original  method.</span>
</span><span class='line'>        <span class="p">[</span><span class="nb">self</span> <span class="nl">safePushViewController</span><span class="p">:</span><span class="n">viewController</span> <span class="nl">animated</span><span class="p">:</span><span class="n">animated</span><span class="p">];</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="n">animated</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="nb">self</span><span class="p">.</span><span class="n">viewTransitionInProgress</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// This is confirmed to be App Store safe.</span>
</span><span class='line'><span class="c1">// If you feel uncomfortable to use Private API, you could also use the delegate method navigationController:didShowViewController:animated:.</span>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">safeDidShowViewController:</span><span class="p">(</span><span class="bp">UIViewController</span> <span class="o">*</span><span class="p">)</span><span class="nv">viewController</span> <span class="nf">animated:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">//-- This is not a recursion. Due to method swizzling this is calling the original method.</span>
</span><span class='line'>    <span class="p">[</span><span class="nb">self</span> <span class="nl">safeDidShowViewController</span><span class="p">:</span><span class="n">viewController</span> <span class="nl">animated</span><span class="p">:</span><span class="n">animated</span><span class="p">];</span>
</span><span class='line'>    <span class="nb">self</span><span class="p">.</span><span class="n">viewTransitionInProgress</span> <span class="o">=</span> <span class="nb">NO</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'><span class="c1">// If the user doesnt complete the swipe-to-go-back gesture, we need to intercept it and set the flag to NO again.</span>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">navigationController:</span><span class="p">(</span><span class="bp">UINavigationController</span> <span class="o">*</span><span class="p">)</span><span class="nv">navigationController</span> <span class="nf">willShowViewController:</span><span class="p">(</span><span class="bp">UIViewController</span> <span class="o">*</span><span class="p">)</span><span class="nv">viewController</span> <span class="nf">animated:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span> <span class="p">{</span>
</span><span class='line'>    <span class="kt">id</span><span class="o">&lt;</span><span class="bp">UIViewControllerTransitionCoordinator</span><span class="o">&gt;</span> <span class="n">tc</span> <span class="o">=</span> <span class="n">navigationController</span><span class="p">.</span><span class="n">topViewController</span><span class="p">.</span><span class="n">transitionCoordinator</span><span class="p">;</span>
</span><span class='line'>    <span class="p">[</span><span class="n">tc</span> <span class="nl">notifyWhenInteractionEndsUsingBlock</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="kt">id</span><span class="o">&lt;</span><span class="bp">UIViewControllerTransitionCoordinatorContext</span><span class="o">&gt;</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="nb">self</span><span class="p">.</span><span class="n">viewTransitionInProgress</span> <span class="o">=</span> <span class="nb">NO</span><span class="p">;</span>
</span><span class='line'>        <span class="c1">//--Reenable swipe back gesture.</span>
</span><span class='line'>        <span class="nb">self</span><span class="p">.</span><span class="n">interactivePopGestureRecognizer</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="p">(</span><span class="kt">id</span><span class="o">&lt;</span><span class="bp">UIGestureRecognizerDelegate</span><span class="o">&gt;</span><span class="p">)</span><span class="n">viewController</span><span class="p">;</span>
</span><span class='line'>        <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">interactivePopGestureRecognizer</span> <span class="nl">setEnabled</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}];</span>
</span><span class='line'>    <span class="c1">//-- Method swizzling wont work in the case of a delegate so:</span>
</span><span class='line'>    <span class="c1">//-- forward this method to the original delegate if there is one different than ourselves.</span>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">navigationController</span><span class="p">.</span><span class="n">delegate</span> <span class="o">!=</span> <span class="nb">self</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="p">[</span><span class="n">navigationController</span><span class="p">.</span><span class="n">delegate</span> <span class="nl">navigationController</span><span class="p">:</span><span class="n">navigationController</span>
</span><span class='line'>                                     <span class="nl">willShowViewController</span><span class="p">:</span><span class="n">viewController</span>
</span><span class='line'>                                                   <span class="nl">animated</span><span class="p">:</span><span class="n">animated</span><span class="p">];</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="p">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">load</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">//-- Exchange the original implementation with our custom one.</span>
</span><span class='line'>    <span class="n">method_exchangeImplementations</span><span class="p">(</span><span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">pushViewController</span><span class="p">:</span><span class="nl">animated</span><span class="p">:)),</span> <span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">safePushViewController</span><span class="p">:</span><span class="nl">animated</span><span class="p">:)));</span>
</span><span class='line'>    <span class="n">method_exchangeImplementations</span><span class="p">(</span><span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">didShowViewController</span><span class="p">:</span><span class="nl">animated</span><span class="p">:)),</span> <span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">safeDidShowViewController</span><span class="p">:</span><span class="nl">animated</span><span class="p">:)));</span>
</span><span class='line'>    <span class="n">method_exchangeImplementations</span><span class="p">(</span><span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">popViewControllerAnimated</span><span class="p">:)),</span> <span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">safePopViewControllerAnimated</span><span class="p">:)));</span>
</span><span class='line'>    <span class="n">method_exchangeImplementations</span><span class="p">(</span><span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">popToRootViewControllerAnimated</span><span class="p">:)),</span> <span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">safePopToRootViewControllerAnimated</span><span class="p">:)));</span>
</span><span class='line'>    <span class="n">method_exchangeImplementations</span><span class="p">(</span><span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">popToViewController</span><span class="p">:</span><span class="nl">animated</span><span class="p">:)),</span> <span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="nb">self</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">safePopToViewController</span><span class="p">:</span><span class="nl">animated</span><span class="p">:)));</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure>




<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2015/10/30/cant-add-self-as-subview-beng-kui-jie-jue-ban-fa/'>https://lengmolehongyan.github.io/blog/2015/10/30/cant-add-self-as-subview-beng-kui-jie-jue-ban-fa/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[FMDB ä½¿ç”¨æ–¹æ³•]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2015/10/22/fmdb-xue-xi-zong-jie/"/>
    <updated>2015-10-22T22:41:56+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2015/10/22/fmdb-xue-xi-zong-jie</id>
    <content type="html"><![CDATA[<blockquote><p>ä¼˜ç§€çš„ç¬¬ä¸‰æ–¹åº“ï¼ŒREADME ä¹Ÿæ˜¯å¾ˆä¼˜ç§€çš„ï¼Œç†è§£äº† READMEï¼Œä¼šå¯¹ä½¿ç”¨å¸¦æ¥å¾ˆå¤šä¾¿åˆ©ã€‚</p></blockquote>

<h2>ARC å’Œ MRC</h2>

<p>é¡¹ç›®ä¸­ä½¿ç”¨ ARC è¿˜æ˜¯ MRCï¼Œå¯¹ä½¿ç”¨ FMDB éƒ½æ²¡æœ‰ä»»ä½•å½±å“ï¼ŒFMDB ä¼šåœ¨ç¼–è¯‘é¡¹ç›®æ—¶è‡ªåŠ¨åŒ¹é…ã€‚</p>

<h2>ä½¿ç”¨</h2>

<p>åœ¨ FMDB ä¸­æœ‰ä¸‰ä¸ªé‡è¦çš„ç±»ï¼š</p>

<ol>
<li><code>FMDatabase</code>ï¼šæ˜¯ä¸€ä¸ªæä¾› SQLite æ•°æ®åº“çš„ç±»ï¼Œç”¨äºæ‰§è¡Œ SQL è¯­å¥ã€‚</li>
<li><code>FMResultSet</code>ï¼šç”¨åœ¨ <code>FMDatabase</code> ä¸­æ‰§è¡ŒæŸ¥è¯¢çš„ç»“æœçš„ç±»ã€‚</li>
<li><code>FMDatabaseQueue</code>ï¼šåœ¨å¤šçº¿ç¨‹ä¸‹æŸ¥è¯¢å’Œæ›´æ–°æ•°æ®åº“ç”¨åˆ°çš„ç±»ã€‚</li>
</ol>


<p></p>




<!--more-->


<h2>æ•°æ®åº“åˆ›å»º</h2>

<p><code>FMDatabase</code> æ˜¯é€šè¿‡ä¸€ä¸ª SQLite æ•°æ®åº“æ–‡ä»¶è·¯å¾„åˆ›å»ºçš„ï¼Œæ­¤è·¯å¾„å¯ä»¥æ˜¯ä»¥ä¸‹ä¸‰è€…ä¹‹ä¸€ï¼š</p>

<ol>
<li>ä¸€ä¸ªæ–‡ä»¶çš„ç³»ç»Ÿè·¯å¾„ã€‚ç£ç›˜ä¸­å¯ä»¥ä¸å­˜åœ¨æ­¤æ–‡ä»¶ï¼Œå› ä¸ºå¦‚æœä¸å­˜åœ¨ä¼šè‡ªåŠ¨ä¸ºä½ åˆ›å»ºã€‚</li>
<li>ä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸² <code>@""</code>ã€‚ä¼šåœ¨ä¸´æ—¶ä½ç½®åˆ›å»ºä¸€ä¸ªç©ºçš„æ•°æ®åº“ï¼Œå½“ <code>FMDatabase</code> è¿æ¥å…³é—­æ—¶ï¼Œè¯¥æ•°æ®åº“ä¼šè¢«åˆ é™¤ã€‚</li>
<li><code>NULL</code>ã€‚ä¼šåœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ•°æ®åº“ï¼Œå½“ <code>FMDatabase</code> è¿æ¥å…³é—­æ—¶ï¼Œè¯¥æ•°æ®åº“ä¼šè¢«é”€æ¯ã€‚</li>
</ol>


<p></p>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// åˆ›å»ºæ•°æ®åº“ç¤ºä¾‹</span>
</span><span class='line'><span class="n">FMDatabase</span> <span class="o">*</span><span class="n">db</span> <span class="o">=</span> <span class="p">[</span><span class="n">FMDatabase</span> <span class="nl">databaseWithPath</span><span class="p">:</span><span class="s">@&quot;/tmp/tmp.db&quot;</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h2>æ‰“å¼€æ•°æ®åº“</h2>

<p>æ•°æ®åº“å¿…é¡»æ˜¯æ‰“å¼€çŠ¶æ€ï¼Œæ‰èƒ½ä¸ä¹‹äº¤äº’ã€‚å¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„èµ„æºå’Œæƒé™æ¥æ‰“å¼€\åˆ›å»ºæ•°æ®åº“ï¼Œæ•°æ®åº“ä¼šæ‰“å¼€å¤±è´¥ã€‚</p>

<h2>æ•°æ®åº“æ›´æ–°</h2>

<p>SQL è¯­å¥ä¸­é™¤è¿‡ <code>SELECT</code> è¯­å¥éƒ½å¯ä»¥ç§°ä¹‹ä¸ºæ›´æ–°æ“ä½œã€‚åŒ…æ‹¬ <code>CREATE</code>ï¼Œ<code>UPDATE</code>ï¼Œ<code>INSERT</code>ï¼Œ<code>ALTER</code>ï¼Œ<code>COMMIT</code>ï¼Œ<code>BEGIN</code>ï¼Œ<code>DETACH</code>ï¼Œ<code>DROP</code>ï¼Œ<code>END</code>ï¼Œ<code>EXPLAIN</code>ï¼Œ<code>VACUUM</code>ï¼Œ<code>REPLACE</code> ç­‰ã€‚ä¸€èˆ¬åªè¦ä¸æ˜¯ä»¥ <code>SELECT</code> å¼€å¤´çš„ SQL è¯­å¥ï¼Œéƒ½æ˜¯æ›´æ–°è¯­å¥ã€‚</p>

<p>æ‰§è¡Œæ›´æ–°è¯­å¥åä¼šè¿”å›ä¸€ä¸ª <code>BOOL</code> å€¼ï¼Œè¿”å› <code>YES</code> è¡¨ç¤ºæ‰§è¡Œæ›´æ–°è¯­å¥æˆåŠŸï¼Œè¿”å› <code>NO</code> è¡¨ç¤ºå‡ºç°é”™è¯¯ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨ <code>-lastErrorMessage</code> å’Œ <code>-lastErrorCode</code> æ–¹æ³•è·å–æ›´å¤šé”™è¯¯ä¿¡æ¯ã€‚</p>

<h2>æ•°æ®åº“æŸ¥è¯¢</h2>

<p>é€šè¿‡è°ƒç”¨ <code>-executeQuery...</code> æ–¹æ³•ä¹‹ä¸€æ‰§è¡Œ <code>SELECT</code> è¯­å¥è¿›è¡Œæ•°æ®åº“æŸ¥è¯¢æ“ä½œã€‚</p>

<p>æ‰§è¡ŒæŸ¥è¯¢æ“ä½œåï¼Œå¦‚æœæˆåŠŸä¼šè¿”å›ä¸€ä¸ª <code>FMResultSet</code> å¯¹è±¡ï¼Œåä¹‹ä¼šè¿”å› <code>nil</code>ã€‚é€šè¿‡ <code>-lastErrorMessage</code> å’Œ <code>-lastErrorCode</code> æ–¹æ³•å¯ä»¥ç¡®å®šä¸ºä»€ä¹ˆä¼šæŸ¥è¯¢å¤±è´¥ã€‚</p>

<p>ä¸ºäº†éå†æŸ¥è¯¢ç»“æœï¼Œéœ€è¦ <code>while()</code> å¾ªç¯ï¼Œç„¶åé€æ¡è®°å½•æŸ¥çœ‹ã€‚åœ¨ FMDB ä¸­ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„ç®€å•æ–¹å¼å®ç°ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="n">FMResultSet</span> <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="n">db</span> <span class="nl">executeQuery</span><span class="p">:</span><span class="s">@&quot;SELECT * FROM myTable&quot;</span><span class="p">];</span>
</span><span class='line'><span class="k">while</span> <span class="p">([</span><span class="n">s</span> <span class="n">next</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">// æ¯å¤©è®°å½•çš„æ£€ç´¢å€¼</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>å³ä½¿åªéœ€è¦è·å–ä¸€ä¸ªæ•°æ®ï¼Œä¹Ÿè¿˜æ˜¯å¿…é¡»åœ¨è®¿é—®æŸ¥è¯¢ç»“æœå‰è°ƒç”¨ <code>-[FMResultSet next]</code>ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// ç¤ºä¾‹</span>
</span><span class='line'><span class="n">FMResultSet</span> <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="p">[</span><span class="n">db</span> <span class="nl">executeQuery</span><span class="p">:</span><span class="s">@&quot;SELECT COUNT(*) FROM myTable&quot;</span><span class="p">];</span>
</span><span class='line'><span class="k">if</span> <span class="p">([</span><span class="n">s</span> <span class="n">next</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>  <span class="kt">int</span> <span class="n">totalCount</span> <span class="o">=</span> <span class="p">[</span><span class="n">s</span> <span class="nl">intForColumnIndex</span><span class="p">:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>FMResultSet</code> æä¾›äº†å¾ˆå¤šæ–¹ä¾¿çš„æ–¹æ³•æ¥æŸ¥è¯¢æ•°æ®ï¼š</p>

<ul>
<li><code>intForColumn:</code></li>
<li><code>longForColumn:</code></li>
<li><code>longLongIntForColumn:</code></li>
<li><code>boolForColumn:</code></li>
<li><code>doubleForColumn:</code></li>
<li><code>stringForColumn:</code></li>
<li><code>dateForColumn:</code></li>
<li><code>dataForColumn:</code></li>
<li><code>dataNoCopyForColumn:</code></li>
<li><code>UTF8StringForColumn:</code></li>
<li><code>objectForColumn:</code></li>
</ul>


<p></p>


<p>è¿™äº›æ–¹æ³•éƒ½æœ‰ä¸€ä¸ª <code>{type}ForColumnIndex:</code> å˜ä½“ï¼Œæ˜¯åŸºäºåˆ—çš„ä½ç½®æ¥æŸ¥è¯¢æ•°æ®ã€‚</p>

<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸€ä¸ª <code>FMResultSet</code> æ²¡æœ‰å¿…è¦æ‰‹åŠ¨ <code>-close</code>ï¼Œå› ä¸ºç»“æœé›†åˆ (result set) è¢«é‡Šæ”¾æˆ–è€…æºæ•°æ®åº“å…³é—­ä¼šè‡ªåŠ¨å…³é—­ã€‚</p>

<h2>å…³é—­æ•°æ®åº“</h2>

<p>å½“å¯¹æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢å’Œæ›´æ–°æ“ä½œå®Œæˆåï¼Œéœ€è¦è°ƒç”¨ <code>-close</code> å…³é—­æ•°æ®åº“ <code>FMDatabase</code> çš„è¿æ¥ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// ç¤ºä¾‹</span>
</span><span class='line'><span class="p">[</span><span class="n">db</span> <span class="n">close</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<h2>äº‹åŠ¡</h2>

<p><code>FMDatabase</code> å¯ä»¥é€šè¿‡è°ƒç”¨æ–¹æ³•æ¥å¼€å§‹å’Œæäº¤äº‹åŠ¡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ‰§è¡Œå¼€å§‹\ç»“æŸäº‹åŠ¡  (begin\end transaction) è¯­å¥ã€‚</p>

<h2>å¤šè¯­å¥å’Œæ‰¹å¤„ç†</h2>

<p><code>FMDatabase</code> å¯ä»¥é€šè¿‡ <code>-executeStatements:withResultBlock:</code> æ–¹æ³•åœ¨ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ‰§è¡Œå¤šè¯­å¥ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// ç¤ºä¾‹</span>
</span><span class='line'><span class="bp">NSString</span> <span class="o">*</span><span class="n">sql</span> <span class="o">=</span> <span class="s">@&quot;create table bulktest1 (id integer primary key autoincrement, x text);&quot;</span>
</span><span class='line'>                 <span class="s">&quot;create table bulktest2 (id integer primary key autoincrement, y text);&quot;</span>
</span><span class='line'>                 <span class="s">&quot;create table bulktest3 (id integer primary key autoincrement, z text);&quot;</span>
</span><span class='line'>                 <span class="s">&quot;insert into bulktest1 (x) values (&#39;XXX&#39;);&quot;</span>
</span><span class='line'>                 <span class="s">&quot;insert into bulktest2 (y) values (&#39;YYY&#39;);&quot;</span>
</span><span class='line'>                 <span class="s">&quot;insert into bulktest3 (z) values (&#39;ZZZ&#39;);&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="n">success</span> <span class="o">=</span> <span class="p">[</span><span class="n">db</span> <span class="nl">executeStatements</span><span class="p">:</span><span class="n">sql</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="n">sql</span> <span class="o">=</span> <span class="s">@&quot;select count(*) as count from bulktest1;&quot;</span>
</span><span class='line'>       <span class="s">&quot;select count(*) as count from bulktest2;&quot;</span>
</span><span class='line'>       <span class="s">&quot;select count(*) as count from bulktest3;&quot;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'><span class="n">success</span> <span class="o">=</span> <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">db</span> <span class="nl">executeStatements</span><span class="p">:</span><span class="n">sql</span> <span class="nl">withResultBlock</span><span class="p">:</span><span class="o">^</span><span class="kt">int</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">dictionary</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="bp">NSInteger</span> <span class="n">count</span> <span class="o">=</span> <span class="p">[</span><span class="n">dictionary</span><span class="p">[</span><span class="s">@&quot;count&quot;</span><span class="p">]</span> <span class="n">integerValue</span><span class="p">];</span>
</span><span class='line'>    <span class="n">XCTAssertEqual</span><span class="p">(</span><span class="n">count</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s">@&quot;expected one record for dictionary %@&quot;</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">);</span>
</span><span class='line'>    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'><span class="p">}];</span>
</span></code></pre></td></tr></table></div></figure>


<h2>æ•°æ®å¤„ç†</h2>

<p>å½“ç»™ FMDB æä¾› SQL è¯­å¥æ—¶ï¼Œåœ¨æ’å…¥å‰ä¸åº”è¯¥å¤„ç†ä»»ä½•æ•°æ®ï¼Œè€Œåº”è¯¥ä½¿ç”¨æ ‡å‡†çš„ SQLite çš„ç»‘å®šè¯­æ³•ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="o">//</span> <span class="err">ç¤ºä¾‹</span>
</span><span class='line'><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">myTable</span> <span class="k">VALUES</span> <span class="p">(</span><span class="o">?</span><span class="p">,</span> <span class="o">?</span><span class="p">,</span> <span class="o">?</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>?</code> é—®å·åœ¨ SQLite ä¸­æ„ä¸ºå³å°†æ’å…¥çš„å€¼çš„å ä½ç¬¦ï¼ŒFMDB æ‰§è¡Œè¯­å¥çš„æ–¹æ³•éƒ½æ¥å—å¤šä¸ªå‚æ•° (æˆ–è€…å‚æ•°é›†åˆï¼Œæ¯”å¦‚ <code>NSArray</code>ï¼Œ<code>NSDictionary</code>ï¼Œ<code>va_list</code>)ï¼Œå®ƒä»¬éƒ½ä¼šæ­£ç¡®è½¬ä¹‰ã€‚</p>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å‘½åå‚æ•°è¯­æ³•ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="o">//</span> <span class="err">ç¤ºä¾‹</span>
</span><span class='line'><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">myTable</span> <span class="k">VALUES</span> <span class="p">(:</span><span class="n">id</span><span class="p">,</span> <span class="p">:</span><span class="n">name</span><span class="p">,</span> <span class="p">:</span><span class="n">value</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>è¿™äº›å‚æ•°å¿…é¡»ä»¥å†’å·å¼€å¤´ï¼ŒSQLite è‡ªèº«æ”¯æŒå…¶ä»–å­—ç¬¦ï¼Œä½†æ˜¯å‘½åæ—¶å­—å…¸çš„é”®å†…éƒ¨ä»¥å†’å·å¼€å¤´ï¼Œå°±ä¸èƒ½åœ¨ä½ çš„å­—å…¸çš„é”®ä¸­åŒ…å«å†’å·ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// ç¤ºä¾‹</span>
</span><span class='line'><span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">argsDict</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSDictionary</span> <span class="nl">dictionaryWithObjectsAndKeys</span><span class="p">:</span><span class="s">@&quot;My Name&quot;</span><span class="p">,</span> <span class="s">@&quot;name&quot;</span><span class="p">,</span> <span class="nb">nil</span><span class="p">];</span>
</span><span class='line'><span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable (name) VALUES (:name)&quot;</span> <span class="nl">withParameterDictionary</span><span class="p">:</span><span class="n">argsDict</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>å› æ­¤ï¼Œä¸åº”è¯¥å†™ç±»ä¼¼ä¸‹é¢è¿™è¡Œä¸€æ ·çš„é”™è¯¯ä»£ç ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// é”™è¯¯ç¤ºä¾‹</span>
</span><span class='line'><span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:[</span><span class="bp">NSString</span> <span class="nl">stringWithFormat</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (%@)&quot;</span><span class="p">,</span> <span class="s">@&quot;this has </span><span class="se">\&quot;</span><span class="s"> lots of &#39; bizarre </span><span class="se">\&quot;</span><span class="s"> quotes &#39;&quot;</span><span class="p">]];</span>
</span></code></pre></td></tr></table></div></figure>


<p>è€Œåº”è¯¥è¿™æ ·å†™ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// æ­£ç¡®ç¤ºä¾‹</span>
</span><span class='line'><span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (?)&quot;</span><span class="p">,</span> <span class="s">@&quot;this has </span><span class="se">\&quot;</span><span class="s"> lots of &#39; bizarre </span><span class="se">\&quot;</span><span class="s"> quotes &#39;&quot;</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>æ‰€æœ‰ä¼ é€’ç»™ <code>-executeUpdate:</code> æ–¹æ³•çš„å‚æ•°éƒ½å¿…é¡»æ˜¯å¯¹è±¡ã€‚ä¸‹é¢å†™æ³•æ‰§è¡Œä¸ä¼šèµ·ä½œç”¨è€Œä¸”ä¼šå¼•å‘å´©æºƒï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// é”™è¯¯ç¤ºä¾‹</span>
</span><span class='line'><span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (?)&quot;</span><span class="p">,</span> <span class="mi">42</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>æ’å…¥ä¸€ä¸ªæ•°çš„æ­£ç¡®æ–¹æ³•æ˜¯æŠŠè¿™ä¸ªæ•°å­—åŒ…è£…æˆ <code>NSNumber</code> å¯¹è±¡ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// æ­£ç¡®ç¤ºä¾‹</span>
</span><span class='line'><span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (?)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithInt</span><span class="p">:</span><span class="mi">42</span><span class="p">]];</span>
</span></code></pre></td></tr></table></div></figure>


<p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>-execute*WithFormat:</code> è¿™ä¸ªæ–¹æ³•å°†æ•°å­—è½¬æ¢æˆå­—ç¬¦ä¸²ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// è½¬æ¢æˆå­—ç¬¦ä¸²ç¤ºä¾‹</span>
</span><span class='line'><span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdateWithFormat</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (@d)&quot;</span><span class="p">,</span> <span class="mi">42</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>-execute*WithFormat:</code> è¿™äº›æ–¹æ³•åé¢éƒ½å¯ä»¥æ¥æ ¼å¼å­—ç¬¦ä¸²å‚æ•°ï¼Œä»¥ä¸‹ % ç™¾åˆ†å·æ ¼å¼ç¬¦éƒ½æ˜¯å¯ä»¥è¯†åˆ«çš„ï¼š<code>%@</code>, <code>%c</code>, <code>%s</code>, <code>%d</code>, <code>%D</code>, <code>%i</code>, <code>%u</code>, <code>%U</code>, <code>%hi</code>, <code>%hu</code>, <code>%qi</code>, <code>%qu</code>, <code>%f</code>, <code>%g</code>, <code>%ld</code>, <code>%lu</code>, <code>%lld</code>, <code>%llu</code>ã€‚ä½¿ç”¨å…¶ä»–æ ¼å¼ç¬¦å¯èƒ½ä¼šå‡ºç°ä¸å¯é¢„çŸ¥çš„é—®é¢˜ã€‚å‡ºäºæŸç§åŸå› ï¼Œå¯èƒ½éœ€è¦åœ¨ä½ çš„ SQL è¯­å¥ä¸­ä½¿ç”¨ <code>%</code> å­—ç¬¦ï¼Œåº”è¯¥ä½¿ç”¨ç™¾åˆ†å·è½¬ä¹‰ä¸€ä¸‹ <code>%%</code>ã€‚</p>

<h2>FMDatabaseQueue é˜Ÿåˆ—å’Œçº¿ç¨‹å®‰å…¨</h2>

<p><del>åœ¨å¤šçº¿ç¨‹ä¸­åŒæ—¶ä½¿ç”¨ FMDatabase å•ä¾‹æ˜¯æå…¶é”™è¯¯çš„æƒ³æ³•ï¼Œä¼šå¯¼è‡´æ¯ä¸ªçº¿ç¨‹åˆ›å»ºä¸€ä¸ª FMDatabase å¯¹è±¡ã€‚ä¸è¦è·¨çº¿ç¨‹ä½¿ç”¨å•ä¾‹ï¼Œä¹Ÿä¸è¦åŒæ—¶è·¨å¤šçº¿ç¨‹ï¼Œä¸ç„¶ä¼šå¥”æºƒæˆ–è€…å¼‚å¸¸ã€‚</del></p>

<p>FMDatabase è¿™ä¸ªç±»æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œåœ¨å¤šçº¿ç¨‹ä¸­ä½¿ç”¨ FMDatabase å•ä¾‹æ˜¯æå…¶é”™è¯¯çš„æƒ³æ³•ã€‚ä¸èƒ½åœ¨å¤šçº¿ç¨‹çš„ç¯å¢ƒä¸­å¯¹æ•°æ®åº“ FMDatabase è¿›è¡Œè¯»å†™ï¼Œä¼šå‡ºç°å¥”æºƒæˆ–è€…å¼‚å¸¸ï¼Œå› ä¸ºä½ ä¸èƒ½ä¿è¯ä½ è¯»æ•°æ®çš„åŒæ—¶å¦å¤–ä¸€æ¡çº¿ç¨‹ä¸åœ¨å†™æ•°æ®ã€‚</p>

<p><em>å› æ­¤ä¸è¦å®ä¾‹åŒ–ä¸€ä¸ª FMDatabase å•ä¾‹æ¥è·¨çº¿ç¨‹ä½¿ç”¨ã€‚</em></p>

<p>ç›¸åï¼Œä½¿ç”¨ FMDatabaseQueueï¼Œä¸‹é¢å°±æ˜¯å®ƒçš„ä½¿ç”¨æ–¹æ³•ï¼š</p>

<p>ç¬¬ä¸€ï¼Œåˆ›å»ºé˜Ÿåˆ—ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// åˆ›å»º FMdatabaseQueue ç¤ºä¾‹</span>
</span><span class='line'><span class="n">FMDatabaseQueue</span> <span class="o">*</span><span class="n">queue</span> <span class="o">=</span> <span class="p">[</span><span class="n">FMDatabaseQueue</span> <span class="nl">databaseQueueWithPath</span><span class="p">:</span><span class="n">aPath</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure>


<p>ç„¶åè¿™æ ·ä½¿ç”¨ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// ç¤ºä¾‹</span>
</span><span class='line'><span class="p">[</span><span class="n">queue</span> <span class="nl">inDatabase</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">FMDatabase</span> <span class="o">*</span><span class="n">db</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (?)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithInt</span><span class="p">:</span><span class="mi">1</span><span class="p">]];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (?)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithInt</span><span class="p">:</span><span class="mi">2</span><span class="p">]];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (?)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithInt</span><span class="p">:</span><span class="mi">3</span><span class="p">]];</span>
</span><span class='line'>  
</span><span class='line'>  <span class="n">FMResultSet</span> <span class="o">*</span><span class="n">rs</span> <span class="o">=</span> <span class="p">[</span><span class="n">db</span> <span class="nl">executeQuery</span><span class="p">:</span><span class="s">@&quot;select * from foo&quot;</span><span class="p">];</span>
</span><span class='line'>  <span class="k">while</span> <span class="p">([</span><span class="n">rs</span> <span class="n">next</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>      <span class="p">...</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}];</span>
</span></code></pre></td></tr></table></div></figure>


<p>æŠŠæ“ä½œæ”¾åœ¨äº‹åŠ¡ä¸­ä¹Ÿå¾ˆç®€å•ï¼Œæ¯”å¦‚ï¼š</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// ç¤ºä¾‹</span>
</span><span class='line'><span class="p">[</span><span class="n">queue</span> <span class="nl">inTransaction</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">FMDatabase</span> <span class="o">*</span><span class="n">db</span><span class="p">,</span> <span class="kt">BOOL</span> <span class="o">*</span><span class="n">rollback</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (?)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithInt</span><span class="p">:</span><span class="mi">1</span><span class="p">]];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (?)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithInt</span><span class="p">:</span><span class="mi">2</span><span class="p">]];</span>
</span><span class='line'>  <span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (?)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithInt</span><span class="p">:</span><span class="mi">3</span><span class="p">]];</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="n">whoopsSomethingWrongHappened</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="o">*</span><span class="n">rollback</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>
</span><span class='line'>      <span class="k">return</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="c1">// ...</span>
</span><span class='line'>  <span class="p">[</span><span class="n">db</span> <span class="nl">executeUpdate</span><span class="p">:</span><span class="s">@&quot;INSERT INTO myTable VALUES (?)&quot;</span><span class="p">,</span> <span class="p">[</span><span class="bp">NSNumber</span> <span class="nl">numberWithInt</span><span class="p">:</span><span class="mi">4</span><span class="p">]];</span>
</span><span class='line'><span class="p">}];</span>
</span></code></pre></td></tr></table></div></figure>


<p>FMDatabase å°†å—ä»£ç  block è¿è¡Œåœ¨ä¸€ä¸ªä¸²è¡Œé˜Ÿåˆ—ä¸Šï¼Œå³ä½¿åœ¨å¤šçº¿ç¨‹åŒæ—¶è°ƒç”¨ FMDatabaseQueue çš„æ–¹æ³•ï¼Œå®ƒä»¬ä»ç„¶è¿˜æ˜¯é¡ºåºæ‰§è¡Œã€‚è¿™ç§æŸ¥è¯¢å’Œæ›´æ–°æ–¹å¼ä¸ä¼šå½±å“å…¶å®ƒï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p>

<h2>åŸºäº block è‡ªå®šä¹‰ SQLite å‡½æ•°</h2>

<p>è¿™æ˜¯å¯ä»¥çš„ï¼Œä¾‹å­å¯ä»¥åœ¨ main.m ä¸­çš„ <code>makeFunctionNamed:</code> æ–¹æ³•æŸ¥çœ‹ã€‚</p>

<h2>Swift</h2>

<p>åœ¨ Swift é¡¹ç›®ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ FMDBï¼Œéœ€è¦åšä»¥ä¸‹æ­¥éª¤ï¼š</p>

<ol>
<li>å°† FMDB çš„ <code>.m</code> å’Œ <code>.h</code> å…¨éƒ¨æ–‡ä»¶æ‹–è¿›ä½ çš„é¡¹ç›®ã€‚</li>
<li>å¦‚æœ Xcode æç¤ºåˆ›å»ºæ¡¥æ¥æ–‡ä»¶ï¼Œéœ€è¦ç‚¹å‡»åˆ›å»ºã€‚å¦‚æœæ²¡æœ‰æç¤ºï¼Œä¸”é¡¹ç›®ä¸­ä¹Ÿæ²¡æœ‰æ¡¥æ¥æ–‡ä»¶ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ã€‚<a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/BuildingCocoaApps/MixandMatch.html#//apple_ref/doc/uid/TP40014216-CH10-XID_76">ç‚¹æ­¤æŸ¥çœ‹æ¡¥æ¥æ–‡ä»¶æ›´å¤šä¿¡æ¯</a></li>
<li>åœ¨æ¡¥æ¥æ–‡ä»¶ä¸­ï¼Œæ·»åŠ è¿™è¡Œä»£ç ï¼š<code>#import "FMDB.h"</code></li>
<li>å¯ä»¥ä» &ldquo;src/extra/Swift Extension&rdquo; æ–‡ä»¶å¤¹ä¸­æ‹·è´ <code>FMDatabaseVariadic.swift</code> æ–‡ä»¶åˆ°é¡¹ç›®ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>executeUpdate</code> å’Œ <code>executeQuery</code> å¤šå‚æ•°äº†ã€‚</li>
</ol>


<p></p>


<p>åšå®Œä¸Šè¿°å‡ æ­¥ï¼Œå°±å¯ä»¥ä½¿ç”¨ FMDatabase å†™ Swift ä»£ç äº†ã€‚</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
</pre></td><td class='code'><pre><code class='swift'><span class='line'><span class="c1">// ç¤ºä¾‹</span>
</span><span class='line'><span class="k">let</span> <span class="n">documentsFolder</span> <span class="o">=</span> <span class="n">NSSearchPathForDirectoriesInDomains</span><span class="p">(.</span><span class="n">DocumentDirectory</span><span class="p">,</span> <span class="p">.</span><span class="n">UserDomainMask</span><span class="p">,</span> <span class="nb">true</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="kt">as</span> <span class="n">String</span>
</span><span class='line'><span class="k">let</span> <span class="n">path</span> <span class="o">=</span> <span class="n">documentsFolder</span><span class="p">.</span><span class="n">stringByAppendingPathComponent</span><span class="p">(</span><span class="s">&quot;test.sqlite&quot;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">let</span> <span class="n">database</span> <span class="o">=</span> <span class="n">FMDatabase</span><span class="p">(</span><span class="nl">path</span><span class="p">:</span> <span class="n">path</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">!</span><span class="n">database</span><span class="p">.</span><span class="n">open</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">println</span><span class="p">(</span><span class="s">&quot;Unable to open database&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="k">return</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">!</span><span class="n">database</span><span class="p">.</span><span class="n">executeUpdate</span><span class="p">(</span><span class="s">&quot;create table test(x text, y text, z text)&quot;</span><span class="p">,</span> <span class="nl">withArgumentsInArray</span><span class="p">:</span> <span class="nb">nil</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">println</span><span class="p">(</span><span class="s">&quot;create table failed: \(database.lastErrorMessage())&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">!</span><span class="n">database</span><span class="p">.</span><span class="n">executeUpdate</span><span class="p">(</span><span class="s">&quot;insert into test (x, y, z) values (?, ?, ?)&quot;</span><span class="p">,</span> <span class="nl">withArgumentsInArray</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;a&quot;</span><span class="p">,</span> <span class="s">&quot;b&quot;</span><span class="p">,</span> <span class="s">&quot;c&quot;</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">println</span><span class="p">(</span><span class="s">&quot;insert 1 table failed: \(database.lastErrorMessage())&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="o">!</span><span class="n">database</span><span class="p">.</span><span class="n">executeUpdate</span><span class="p">(</span><span class="s">&quot;insert into test (x, y, z) values (?, ?, ?)&quot;</span><span class="p">,</span> <span class="nl">withArgumentsInArray</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;e&quot;</span><span class="p">,</span> <span class="s">&quot;f&quot;</span><span class="p">,</span> <span class="s">&quot;g&quot;</span><span class="p">])</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">println</span><span class="p">(</span><span class="s">&quot;insert 2 table failed: \(database.lastErrorMessage())&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="k">let</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">database</span><span class="p">.</span><span class="n">executeQuery</span><span class="p">(</span><span class="s">&quot;select x, y, z from test&quot;</span><span class="p">,</span> <span class="nl">withArgumentsInArray</span><span class="p">:</span> <span class="nb">nil</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="k">while</span> <span class="n">rs</span><span class="p">.</span><span class="n">next</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="n">rs</span><span class="p">.</span><span class="n">stringForColumn</span><span class="p">(</span><span class="s">&quot;x&quot;</span><span class="p">)</span>
</span><span class='line'>        <span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="n">rs</span><span class="p">.</span><span class="n">stringForColumn</span><span class="p">(</span><span class="s">&quot;y&quot;</span><span class="p">)</span>
</span><span class='line'>        <span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="n">rs</span><span class="p">.</span><span class="n">stringForColumn</span><span class="p">(</span><span class="s">&quot;z&quot;</span><span class="p">)</span>
</span><span class='line'>        <span class="n">println</span><span class="p">(</span><span class="s">&quot;x = \(x); y = \(y); z = \(z)&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>    <span class="n">println</span><span class="p">(</span><span class="s">&quot;select failed: \(database.lastErrorMessage())&quot;</span><span class="p">)</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="n">database</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</span></code></pre></td></tr></table></div></figure>


<p>æœ¬æ–‡å®é™…æ˜¯å¯¹ <a href="https://github.com/ccgus/fmdb">FMDB</a> çš„ README ç®€å•ç¿»è¯‘ï¼Œä»¥æ–¹ä¾¿ä½¿ç”¨ FMDBã€‚</p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2015/10/22/fmdb-xue-xi-zong-jie/'>https://lengmolehongyan.github.io/blog/2015/10/22/fmdb-xue-xi-zong-jie/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Directory Not Found for Option]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2015/09/23/directory-not-found-for-option/"/>
    <updated>2015-09-23T10:47:48+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2015/09/23/directory-not-found-for-option</id>
    <content type="html"><![CDATA[<p>åœ¨ Xcode7 ä¸‹ç¼–è¯‘é¡¹ç›®ï¼ŒæŠ¥äº†å¦‚ä¸‹è­¦å‘Šï¼š</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ld: warning: directory not found for option 
</span><span class='line'>'-F/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneOS.platform/Developer/SDKs/iPhoneOS9.0.sdk/Developer/Library/Frameworks'</span></code></pre></td></tr></table></div></figure>


<p>è¿™æ˜¯å› ä¸º Xcode7 å°† <code>Frameworks</code> ä½ç½®æ”¹å˜äº†ã€‚</p>

<!--more-->


<p>ç‚¹å‡»é¡¹ç›®ï¼Œé€‰æ‹© TARGETS ä¸­çš„å·¥ç¨‹å Testsï¼Œç„¶åé€‰æ‹© Build Settingsï¼Œåœ¨ Search Paths ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°æ­¤æ—¶ <code>Framework Search Paths</code> è·¯å¾„ï¼Œæ­¤è·¯å¾„ä¸ºé”™è¯¯è·¯å¾„ã€‚</p>

<p><img src="http://i3.tietuku.com/40d46fe638434b1e.png" alt="" /></p>

<p>åŒå‡»è·¯å¾„ï¼Œåˆ é™¤ <code>$(SDKROOT)/Developer/Library/Frameworks</code>ï¼Œå¢åŠ  <code>$(PLATFORM_DIR)/Developer/Library/Frameworks</code>ï¼Œæ­¤æ—¶è·¯å¾„å°±å·²ç»ä¿®æ”¹æˆåŠŸã€‚</p>

<p><img src="http://i3.tietuku.com/6b824df6fd5bc002.png" alt="" /></p>

<p>ä¿®æ”¹å®Œæˆä¹‹åï¼Œé‡æ–°ç¼–è¯‘é¡¹ç›®ï¼Œæ­¤è­¦å‘Šå°±ä¿®å¤äº†ã€‚</p>

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2015/09/23/directory-not-found-for-option/'>https://lengmolehongyan.github.io/blog/2015/09/23/directory-not-found-for-option/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[KVC çš„ç®€å•ä½¿ç”¨]]></title>
    <link href="https://lengmolehongyan.github.io/blog/2015/09/12/kvcde-jian-dan-shi-yong/"/>
    <updated>2015-09-12T22:58:12+08:00</updated>
    <id>https://lengmolehongyan.github.io/blog/2015/09/12/kvcde-jian-dan-shi-yong</id>
    <content type="html"><![CDATA[<h2>KVC å­—å…¸è½¬æ¨¡å‹</h2>

<ul>
<li>KVC ä¸­ç»å¸¸ä½¿ç”¨çš„å°±æ˜¯å­—å…¸è½¬æ¨¡å‹</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// NSObject(NSKeyValueCoding) NSObject çš„åˆ†ç±»</span>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setValuesForKeysWithDictionary:</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">keyedValues</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>




<!--more-->


<p><img src="http://i1.tietuku.com/cc3c54dccb414089.png" alt="å­—å…¸è½¬æ¨¡å‹" /></p>

<hr />

<h2>KVC çš„å¤§æ‹›</h2>

<ul>
<li>KVC è®¾ç½®å¯¹è±¡å±æ€§åŠå–å€¼</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setValue:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">value</span> <span class="nf">forKey:</span><span class="p">(</span><span class="bp">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">key</span><span class="p">;</span>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">valueForKey:</span><span class="p">(</span><span class="bp">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">key</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://i2.tietuku.com/4d55944da6a1bcf7.png" alt="LNPersonç±»çš„å¤´æ–‡ä»¶" />
<img src="http://i1.tietuku.com/12c24aeb2ed198ac.png" alt="KVCè®¾ç½®å¯¹è±¡å±æ€§åŠå–å€¼" /></p>

<ul>
<li>KVC é—´æ¥è®¾ç½®å¯¹è±¡å±æ€§

<ul>
<li>åœ¨è¿è¡Œçš„æ—¶å€™ï¼ŒKVC å¯ä»¥é—´æ¥è®¾ç½®å¯¹è±¡çš„å±æ€§ï¼Œä¸ç®¡å¯¹è±¡å±æ€§æ˜¯å¦åœ¨ <code>.h</code> ä¸­å…¬å¼€ï¼Œå½“ç„¶è¿™è¿èƒŒé¢å‘å¯¹è±¡è®¾è®¡çš„ <strong>å¼€é—­åŸåˆ™</strong>ï¼Œä¸¥é‡ä¸å»ºè®®åœ¨ç¨‹åºå¼€å‘ä¸­ä½¿ç”¨ã€‚</li>
</ul>
</li>
</ul>


<p><img src="http://i1.tietuku.com/ec730d8853185ebc.png" alt="LNPersonç±»çš„.mæ–‡ä»¶" />
<img src="http://i1.tietuku.com/b5dba559d850fe72.png" alt="KVCé—´æ¥è®¾ç½®å¯¹è±¡å±æ€§" /></p>

<hr />

<h2>KVC æ¨¡å‹è½¬å­—å…¸</h2>

<ul>
<li>KVC æ¨¡å‹è½¬å­—å…¸

<ul>
<li>KVC æ¨¡å‹è½¬å­—å…¸ï¼Œå‚æ•°æ˜¯å±æ€§åç§°çš„æ•°ç»„ã€‚</li>
</ul>
</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="c1">// keys æ˜¯å±æ€§åç§°çš„æ•°ç»„</span>
</span><span class='line'><span class="p">-</span> <span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nf">dictionaryWithValuesForKeys:</span><span class="p">(</span><span class="bp">NSArray</span> <span class="o">*</span><span class="p">)</span><span class="nv">keys</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://i2.tietuku.com/8b2fb0382d0bce99.png" alt="KVCæ¨¡å‹è½¬å­—å…¸" /></p>

<hr />

<h2>KVC æ ¸å¿ƒåŠ¨ç”»</h2>

<ul>
<li>KVC æœ€ç»å…¸çš„åº”ç”¨â€”â€”æ ¸å¿ƒåŠ¨ç”»

<ul>
<li>é€šè¿‡ KVC è®¾ç½®åŠ¨ç”»çš„ <code>KeyPath</code>ï¼Œåœ¨å®ä¾‹åŒ–åŠ¨ç”»çš„æ—¶å€™ï¼ŒæŒ‡å®šå›¾å±‚çš„å¯åŠ¨ç”»å±æ€§ã€‚</li>
</ul>
</li>
</ul>


<p><img src="http://i1.tietuku.com/2df35a7c17406ce3.png" alt="" />
<img src="http://i1.tietuku.com/1545fe7a18db2738.gif" alt="æ ¸å¿ƒåŠ¨ç”»" /></p>

<hr />

<p class='post-footer'>
            åŸå§‹åœ°å€ï¼š
            <a href='https://lengmolehongyan.github.io/blog/2015/09/12/kvcde-jian-dan-shi-yong/'>https://lengmolehongyan.github.io/blog/2015/09/12/kvcde-jian-dan-shi-yong/</a><br/>
            written by <a href='https://lengmolehongyan.github.io'>å†·æ¼ å»è­é¢œ</a>
            &nbsp;posted at <a href='https://lengmolehongyan.github.io'>https://lengmolehongyan.github.io</a>
            </p>

]]></content>
  </entry>
  
</feed>
